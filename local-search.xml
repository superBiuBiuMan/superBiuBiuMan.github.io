<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>前端面试可能会问到的知识点记录</title>
    <link href="/2022/07/18/%E9%9D%A2%E8%AF%95/%E9%9D%A2%E8%AF%95%E5%8F%AF%E8%83%BD%E4%BC%9A%E9%97%AE%E9%81%93%E7%9A%84%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AE%B0%E5%BD%95/"/>
    <url>/2022/07/18/%E9%9D%A2%E8%AF%95/%E9%9D%A2%E8%AF%95%E5%8F%AF%E8%83%BD%E4%BC%9A%E9%97%AE%E9%81%93%E7%9A%84%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AE%B0%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<h2 id="vue数据响应式原理"><a href="#vue数据响应式原理" class="headerlink" title="vue数据响应式原理"></a>vue数据响应式原理</h2><ul><li><p>在vue初始化的时候,会对data当中的每一个属性进行遍历,创建对应的setter和getters,并创建与这个key对应的dep,这个dep是一个数组,然后当对模板进行编译的时候,发现有使用到这个data当中的某一个属性的时候,就会创建一个watcher并添加到与data当中属性对应的dep当中</p></li><li><p>当数据发生变化的时候,observe监视到了,就会通知dep当的所有watcher,然后watcher触发更新</p></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207181013770.png"></p><h2 id="内联样式和其他优先级计算"><a href="#内联样式和其他优先级计算" class="headerlink" title="内联样式和其他优先级计算"></a>内联样式和其他优先级计算</h2><h3 id="样式类别"><a href="#样式类别" class="headerlink" title="样式类别"></a>样式类别</h3><ul><li><p><strong>行内样式(内联样式):</strong> 直接写在标签上的属性</p><ul><li><code>&lt;标签名 style=&quot;属性1：属性值1；属性2：属性值2;&quot;&gt;内容&lt;/标签名&gt;</code></li></ul></li><li><p>**内部样式:**将css样式写在<code>style</code>当中,比如下面代码</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs css">&lt;head&gt;<br>    &lt;style type=&quot;text/css&quot;&gt;<br>        <span class="hljs-selector-tag">div</span>&#123;<br>            <span class="hljs-attribute">color</span>: red;<br>            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">12px</span>;<br>        &#125;<br>    &lt;/style&gt;<br>&lt;/head&gt;<br><br></code></pre></td></tr></table></figure><ul><li><strong>外部样式:</strong> 通过<code>link</code>标签引入的<ul><li>比如<code>&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css路径&quot;/&gt;</code></li></ul></li></ul><h3 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h3><p><strong>根据权重来计算出来的</strong></p><ul><li>没有行内样式的情况下是权重来计算,比如通配符<code>*</code>的权重为1 , 标签选择器的权重为10,类选择器的权重为100,id选择器的权重为1000来进行计算的(权重值可能不一样,但是是这样子来算的),内联样式最高</li><li><code>!import</code>会将至最高级!</li></ul><h2 id="数组的遍历"><a href="#数组的遍历" class="headerlink" title="数组的遍历"></a>数组的遍历</h2><p>具体看mdnweb吧~这里只举例子</p><h3 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h3><h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><h3 id="map"><a href="#map" class="headerlink" title="map"></a>map</h3><h3 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h3><h3 id="for…of"><a href="#for…of" class="headerlink" title="for…of"></a>for…of</h3><h3 id="for…in"><a href="#for…in" class="headerlink" title="for…in"></a>for…in</h3><h2 id="vue的生命周期"><a href="#vue的生命周期" class="headerlink" title="vue的生命周期"></a>vue的生命周期</h2><ul><li>VUE的生命周期钩子函数：就是指在一个组件从创建到销毁的过程自动执行的函数,在组件的整个生命周期内，钩子函数都是可被自动调用的，且生命周期函数的执行顺序与书写的顺序无关</li><li>vue2的生命周期</li></ul><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">beforeCreate </span>创建前<br>created 创建后<br><span class="hljs-keyword">beforeMount </span>挂载前<br>mounted 挂载后<br><br><span class="hljs-keyword">beforeUpdate </span>更新前<br>updated 更新后<br><span class="hljs-keyword">beforeDestroy </span>销毁前<br>destroyed 销毁后<br></code></pre></td></tr></table></figure><ul><li><p>需要重点关注的4个生命周期</p></li><li><p><code>beforeCreate</code> 创建前</p><ul><li>vue实例刚刚被创建(刚执行new的操作),其他什么都没有做</li></ul></li><li><p><code>created</code> 创建后</p><ul><li>此时<code>data</code>,<code>methods</code>被绑定到了实例身上,但是依旧获取不到DOM</li></ul></li><li><p><code>beforeMount</code></p><ul><li>此时DOM为虚拟的DOM,无法操作虚拟的DOM</li></ul></li><li><p><code>mounted</code></p><ul><li>此时DOM已经生成并且被替换为了具体的数据,可以操作DOM了</li></ul></li></ul><h2 id="v-mode的实现原理和在自定义组件中怎么实现"><a href="#v-mode的实现原理和在自定义组件中怎么实现" class="headerlink" title="v-mode的实现原理和在自定义组件中怎么实现"></a>v-mode的实现原理和在自定义组件中怎么实现</h2><p><strong>v-model原来写法</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;msg&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><p><strong>v-model拆解写法</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">:value</span>=<span class="hljs-string">&quot;msg&quot;</span> @<span class="hljs-attr">input</span>=<span class="hljs-string">&quot;msg = $event.target.value&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><h3 id="v-model当中在自定义组件要怎么实现呢"><a href="#v-model当中在自定义组件要怎么实现呢" class="headerlink" title="v-model当中在自定义组件要怎么实现呢?"></a>v-model当中在自定义组件要怎么实现呢?</h3><p>父组件当中:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">One</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;money&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">One</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>父容器的money&#123;&#123; money &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">money</span>: <span class="hljs-number">1000</span>,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>子组件当中:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">:value</span>=<span class="hljs-string">&quot;value&quot;</span> @<span class="hljs-attr">input</span>=<span class="hljs-string">&quot;$emit(&#x27;input&#x27;,$event.target.value)&quot;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>儿子当中的值&#123;&#123; value &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;One&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">props</span>:[<span class="hljs-string">&quot;value&quot;</span>]</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205301626893.gif" alt="效果"></p><h2 id="路由导航守卫"><a href="#路由导航守卫" class="headerlink" title="路由导航守卫"></a>路由导航守卫</h2><ul><li><strong>beforeEach:</strong> 全局前置守卫(在所有的路由到来之前都需要经过,所以是<strong>Each</strong>这个单词)</li><li>**beforeEnter:**路由独享守卫</li><li>还有<ul><li>**beforeResolve:**全局解析守卫</li><li><strong>afterEach</strong>:全局后置钩子</li></ul></li><li>还有<strong>组件内的守卫</strong><ul><li>beforeRouteEnter:</li><li>beforeRouteUpdate:</li><li>beforeRouteLeave:</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//官方版</span><br><span class="hljs-keyword">const</span> <span class="hljs-title class_">UserDetails</span> = &#123;<br>  <span class="hljs-attr">template</span>: <span class="hljs-string">`...`</span>,<br>  <span class="hljs-title function_">beforeRouteEnter</span>(<span class="hljs-params">to, <span class="hljs-keyword">from</span></span>) &#123;<br>    <span class="hljs-comment">// 在渲染该组件的对应路由被验证前调用</span><br>    <span class="hljs-comment">// 不能获取组件实例 `this` ！</span><br>    <span class="hljs-comment">// 因为当守卫执行时，组件实例还没被创建！</span><br>  &#125;,<br>  <span class="hljs-title function_">beforeRouteUpdate</span>(<span class="hljs-params">to, <span class="hljs-keyword">from</span></span>) &#123;<br>    <span class="hljs-comment">// 在当前路由改变，但是该组件被复用时调用</span><br>    <span class="hljs-comment">// 举例来说，对于一个带有动态参数的路径 `/users/:id`，在 `/users/1` 和 `/users/2` 之间跳转的时候，</span><br>    <span class="hljs-comment">// 由于会渲染同样的 `UserDetails` 组件，因此组件实例会被复用。而这个钩子就会在这个情况下被调用。</span><br>    <span class="hljs-comment">// 因为在这种情况发生的时候，组件已经挂载好了，导航守卫可以访问组件实例 `this`</span><br>  &#125;,<br>  <span class="hljs-title function_">beforeRouteLeave</span>(<span class="hljs-params">to, <span class="hljs-keyword">from</span></span>) &#123;<br>    <span class="hljs-comment">// 在导航离开渲染该组件的对应路由时调用</span><br>    <span class="hljs-comment">// 与 `beforeRouteUpdate` 一样，它可以访问组件实例 `this`</span><br>  &#125;,<br>&#125;<br><br><span class="hljs-comment">//注释版</span><br><span class="hljs-title function_">beforeRouteEnter</span>(<span class="hljs-params">to,<span class="hljs-keyword">from</span>,next</span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;路由进入之前&quot;</span>,to,<span class="hljs-keyword">from</span>);<br>    <span class="hljs-comment">//手动调用next()方法,确保路由跳转继续执行</span><br>    <span class="hljs-title function_">next</span>();<br>&#125;<br><span class="hljs-title function_">beforeRouteUpdate</span>(<span class="hljs-params">to,<span class="hljs-keyword">from</span>,next</span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;路由更新之前&quot;</span>,to,<span class="hljs-keyword">from</span>);<br>    <span class="hljs-title function_">next</span>();<br>&#125;<br><span class="hljs-title function_">beforeRouteLevae</span>(<span class="hljs-params">to,<span class="hljs-keyword">from</span>,next</span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;路由离开之前&quot;</span>,to,<span class="hljs-keyword">from</span>);<br>    <span class="hljs-title function_">next</span>();<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="伪类和伪元素"><a href="#伪类和伪元素" class="headerlink" title="伪类和伪元素"></a>伪类和伪元素</h2><ul><li>伪类作用对象是整个元素,比如整个链接,整个段落,容器div等</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:link</span> &#123;<br><span class="hljs-attribute">color</span>: <span class="hljs-number">#111</span><br>&#125;<br><br><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:hover</span> &#123;<br><span class="hljs-attribute">color</span>: <span class="hljs-number">#222</span><br>&#125;<br><br><span class="hljs-selector-tag">div</span><span class="hljs-selector-pseudo">:first</span>-child &#123;<br><span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span><br>&#125;<br><br><span class="hljs-selector-tag">div</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">3</span>) &#123;<br><span class="hljs-attribute">color</span>: <span class="hljs-number">#444</span><br>&#125;<br>等等<br></code></pre></td></tr></table></figure><ul><li>而伪元素作用于元素的一部分,一个段落的第一行或者第一个字母</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">p</span><span class="hljs-selector-pseudo">::first-line</span> &#123;<br><span class="hljs-attribute">color</span>: <span class="hljs-number">#555</span><br>&#125;<br><br><span class="hljs-selector-tag">p</span><span class="hljs-selector-pseudo">::first-letter</span> &#123;<br><span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span><br>&#125;<br><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">::after</span> &#123;<br><span class="hljs-attribute">content</span>: <span class="hljs-string">&quot;helloWorld&quot;</span><br>&#125;<br><br><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">::before</span> &#123;<br><span class="hljs-attribute">content</span>: <span class="hljs-string">&quot;helloWorld&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="用promise写个ajax-仿照axios"><a href="#用promise写个ajax-仿照axios" class="headerlink" title="用promise写个ajax(仿照axios)"></a>用promise写个ajax(仿照axios)</h2><ul><li>首先了解下xhr发送时候的状态码<ul><li>0 代表还没有调用open</li><li>1 代表还没有调用send方法</li><li>2 代表还没有收到响应(刚刚发送)</li><li>3 代表收到了部分数据</li><li>4 代表收到了完整的数据</li></ul></li><li>xhr的onreadystatechange是异步的~(因为有回调函数)</li></ul><p><strong>代码:</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br><span class="hljs-comment">//类似于axios(&#123;...&#125;)</span><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">axios</span> = (<span class="hljs-params">options</span>) =&gt; &#123;<br><span class="hljs-comment">//获取method 和 url</span><br><span class="hljs-keyword">let</span> &#123;<br>method,<br>url<br>&#125; = options;<br><span class="hljs-keyword">if</span> (method &amp;&amp; url) &#123;<br><span class="hljs-keyword">var</span> returnPromise = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br><span class="hljs-keyword">let</span> xhr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();<br>xhr.<span class="hljs-title function_">open</span>(method, url);<br>xhr.<span class="hljs-title function_">send</span>();<br>xhr.<span class="hljs-property">onreadystatechange</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br><span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">readyState</span> == <span class="hljs-number">4</span> &amp;&amp; xhr.<span class="hljs-property">status</span> &gt;= <span class="hljs-number">200</span> &amp; xhr.<span class="hljs-property">status</span> &lt; <span class="hljs-number">300</span>) &#123;<br><span class="hljs-title function_">resolve</span>(xhr.<span class="hljs-property">response</span>);<br>&#125;<br>&#125;;<br><span class="hljs-comment">//监听错误的</span><br>xhr.<span class="hljs-property">onerror</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br><span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(xhr.<span class="hljs-property">statusText</span>))<br>&#125;<br>&#125;);<br><span class="hljs-keyword">return</span> returnPromise;<br>&#125; <span class="hljs-keyword">else</span> &#123;<br><span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-string">&quot;请输入完整的参数&quot;</span>);<br>&#125;<br>&#125;<br><span class="hljs-title function_">axios</span>(&#123;<br><span class="hljs-attr">method</span>: <span class="hljs-string">&quot;get&quot;</span>,<br><span class="hljs-attr">url</span>: <span class="hljs-string">&quot;https://api.oick.cn/dog/ap1i.php&quot;</span><br>&#125;).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);<br>&#125;);<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><h2 id="css画一个梯形和三角形"><a href="#css画一个梯形和三角形" class="headerlink" title="css画一个梯形和三角形"></a>css画一个梯形和三角形</h2><p>基本原理都是利用边框</p><p><strong>三角形:</strong></p><p><a href="https://codepen.io/superbiubiuman/pen/eYMgGbR">@在线演示</a></p><p>关键是设置width为0</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        *&#123;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-id">#app</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border-top</span>: <span class="hljs-number">100px</span> solid transparent;</span><br><span class="language-css">            <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">100px</span> solid green;</span><br><span class="language-css">            <span class="hljs-attribute">border-left</span>: <span class="hljs-number">100px</span> solid transparent;</span><br><span class="language-css">            <span class="hljs-attribute">border-right</span>: <span class="hljs-number">100px</span> solid transparent;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>梯形:</strong></p><p><a href="https://codepen.io/superbiubiuman/pen/wvmgrNB">@在线演示</a></p><p>关键是设置width和height的值</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        *&#123;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-id">#app</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">50px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border-top</span>: <span class="hljs-number">100px</span> solid transparent;</span><br><span class="language-css">            <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">100px</span> solid green;</span><br><span class="language-css">            <span class="hljs-attribute">border-left</span>: <span class="hljs-number">100px</span> solid transparent;</span><br><span class="language-css">            <span class="hljs-attribute">border-right</span>: <span class="hljs-number">100px</span> solid transparent;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205291918926.png"></p><h2 id="http和https响应的状态码有哪些"><a href="#http和https响应的状态码有哪些" class="headerlink" title="http和https响应的状态码有哪些"></a>http和https响应的状态码有哪些</h2><ul><li>200~300一般是请求成功的<ul><li>204代表服务器处理了请求,但没有返回任何数据(也就是没有内容)</li></ul></li><li>404 (not found) 找不到页面</li><li>403 服务器拒绝了请求</li><li>503 服务不可用</li></ul><h2 id="cookie-localStorage-sessionStorage区别"><a href="#cookie-localStorage-sessionStorage区别" class="headerlink" title="cookie localStorage sessionStorage区别"></a>cookie localStorage sessionStorage区别</h2><ul><li>cookie: 存储的数据比较小,4kb左右,在有效期之前一直存在,一般用于验证用户,比如说token,并且每次都会携带在HTTP请求头中</li><li>localStorage: 可以长期存储在用户电脑并且所有的网页都可以访问,存储大小大概5m</li><li>sessionStorage: 有效期存储在当前页面,页面关闭后sessionStorage就失效(不违法同源策略的情况下),存储大小大概5m</li></ul><h2 id="TCP三次握手-四次挥手"><a href="#TCP三次握手-四次挥手" class="headerlink" title="TCP三次握手,四次挥手"></a>TCP三次握手,四次挥手</h2><h3 id="TCP三次握手"><a href="#TCP三次握手" class="headerlink" title="TCP三次握手"></a>TCP三次握手</h3><ul><li><p>目的就是为了确认双方的接收能力和发送能力是否正常</p></li><li><p>客户端向服务端发送一个SYN(同步序列),等待服务器确认</p></li><li><p>服务端收到客户端的SYN后进行确认客户端的SYN包,然后也发送一个自己的SYN包,发送(SYN+ACK)包给客户端</p></li><li><p>客户端收到SYN+ACK包后,向服务端发送确认包ACK,发送完成则建立连接,开始传输数据</p></li></ul><h3 id="四次挥手"><a href="#四次挥手" class="headerlink" title="四次挥手"></a>四次挥手</h3><ul><li>客户端发出连接释放的报文,并 <strong>进入终止等待1</strong> 状态</li><li>服务器收到连接释放报文,发出确认报文,并且<strong>服务器进入关闭等待状态</strong></li><li>客户端收到服务器确认请求后,进入 <strong>终止等待2</strong> 状态,(管子里面还有数据,要流完!)</li><li>服务器将<strong>最后的数据传输完成的时候,就告诉客户端</strong>,向客户端发送连接释放报文,并且<strong>服务器进入最后确认状态</strong></li><li>客户端收到服务器的连接释放报文后,<strong>必须发出确认</strong>,此时客户端进入<strong>时间等待状态</strong>,注意此时TCP连接还没有释放，必须经过2∗∗MSL（最长报文段寿命）的时间后，<code>当客户端撤销相应的TCB后，才进入CLOSED状态</code></li><li>服务器收到客户端发送的确认,<strong>立即进入关闭状态</strong></li></ul><p>大概过程</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207171546982.png"></p><h2 id="for-…-in-和for-…-of"><a href="#for-…-in-和for-…-of" class="headerlink" title="for … in 和for … of"></a>for … in 和for … of</h2><p><a href="https://blog.csdn.net/ForMyQianDuan/article/details/72905630">简单来说一句话的博主</a></p><p><strong>for…in是es5的用于遍历key</strong> </p><p><strong>for…of是es6的用于遍历value</strong></p><ul><li>先有in,再由of</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br><span class="hljs-keyword">var</span> arr = [<span class="hljs-string">&quot;李白&quot;</span>, <span class="hljs-string">&quot;诗人&quot;</span>, <span class="hljs-string">&quot;陋室铭&quot;</span>];<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> arr) &#123;<br><span class="hljs-comment">//0 1 2 </span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(key);<br>&#125;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> value <span class="hljs-keyword">of</span> arr) &#123;<br><span class="hljs-comment">//李白 诗人 陋室铭</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);<br>&#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>一个比较神奇的例子：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">objCustom</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;&#125;; <br><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">arrCustom</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;&#125;;<br><br><span class="hljs-keyword">let</span> iterable = [<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>];<br>iterable.<span class="hljs-property">foo</span> = <span class="hljs-string">&quot;hello&quot;</span>;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i <span class="hljs-keyword">in</span> iterable) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i); <span class="hljs-comment">//  0, 1, 2, &quot;foo&quot;, &quot;arrCustom&quot;, &quot;objCustom&quot;</span><br>&#125;<br><span class="hljs-comment">//arrCustom是继承自Array的属性，objCustom是继承自Object的属性。</span><br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i <span class="hljs-keyword">of</span> iterable) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i); <span class="hljs-comment">// 3, 5, 7</span><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="nginx正向代理-反向代理"><a href="#nginx正向代理-反向代理" class="headerlink" title="nginx正向代理,反向代理"></a>nginx正向代理,反向代理</h2><p><strong>正向代理:</strong></p><p>​面向客户,帮助客户解决问题,比如说我要访问YouTube,配置nginx后就可以访问了,这就是正向代理</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207171503996.png"></p><p><strong>反向代理:</strong></p><p>​面向服务器,帮助服务器解决问题,比如配置代理转发请求,原来是本地的请求转发到远程</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207171507766.png"></p><h2 id="css九宫格"><a href="#css九宫格" class="headerlink" title="css九宫格"></a>css九宫格</h2><p><a href="https://dreamlove.top/2022/05/21/%E5%89%8D%E7%AB%AF/%E7%9B%92%E5%AD%90%E6%A8%A1%E5%9E%8B%E5%8F%8A%E5%9D%97%E5%85%83%E7%B4%A0%E6%B0%B4%E5%B9%B3%E5%9E%82%E7%9B%B4%E5%AE%9A%E4%BD%8D%E5%92%8C%E7%BB%9D%E5%AF%B9%E5%85%83%E7%B4%A0%E7%9A%84%E5%AE%9A%E4%BD%8D%E5%B8%83%E5%B1%80%E5%92%8C%E5%BC%B9%E6%80%A7%E7%9B%92/#%E5%BC%B9%E6%80%A7%E7%9B%92">弹性盒布局笔记</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        *&#123;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-id">#wrap</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">306px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">304px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">display</span>: flex;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid red;</span><br><span class="language-css">            <span class="hljs-comment">/* 关键是设置弹性盒是否换行,不然的话就会压缩 */</span></span><br><span class="language-css">            <span class="hljs-attribute">flex-wrap</span>: wrap;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-id">#wrap</span> <span class="hljs-selector-tag">div</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid blue;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;wrap&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;one&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;two&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;three&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;four&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;five&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;six&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;seven&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;eight&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;nine&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>效果图</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205291939509.png"></p><h2 id="微任务和宏任务"><a href="#微任务和宏任务" class="headerlink" title="微任务和宏任务"></a>微任务和宏任务</h2><p><code>宏任务</code>:定时器</p><p><code>微任务</code>:promise</p><p>微任务的优先级大于宏任务</p><h2 id="computed和methods区别"><a href="#computed和methods区别" class="headerlink" title="computed和methods区别"></a>computed和methods区别</h2><ul><li><p>computed是带缓存的,只有当引用的数据发生变化的时候才会重新计算,而methods是每次调用都会重新执行</p></li><li><p>computed是响应式的,methods不是响应式的</p><ul><li>当computed当中靠依赖的值计算出来的结果发生改变的时候,会引发computed重新计算,而methods不会</li></ul></li><li><p>computed可以具有getter和setter方法，因此可以赋值，而methods是不行的。</p><ul><li>比如computed</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-keyword">return</span> &#123;<br><span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李&quot;</span>,<br><span class="hljs-attr">lastName</span>:<span class="hljs-string">&quot;白&quot;</span><br>&#125;<br>&#125;,<br><span class="hljs-attr">computed</span>:&#123;<br><span class="hljs-title function_">fullName</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>+<span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span>;<br>    &#125;,<br>    <span class="hljs-comment">//等同于</span><br>    <span class="hljs-attr">fullName</span>:&#123;<br>        <span class="hljs-title function_">get</span>(<span class="hljs-params"></span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>+<span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span><br>        &#125;<br>    &#125;,<br>    <span class="hljs-comment">//写全点这样子写</span><br>    <span class="hljs-attr">fullName</span>:&#123;<br>        <span class="hljs-title function_">get</span>(<span class="hljs-params"></span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>+<span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span>;<br>        &#125;,<br>        <span class="hljs-title function_">set</span>(<span class="hljs-params">newValue</span>)&#123;<br>            <span class="hljs-comment">//处理newValue</span><br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="闭包和原型和原型链"><a href="#闭包和原型和原型链" class="headerlink" title="闭包和原型和原型链"></a>闭包和原型和原型链</h2><h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><ul><li>内部函数有对上层作用域的引用</li><li>内部函数在所在定义域外保持引用并进行访问</li><li>这位博主写的很详细<a href="https://blog.csdn.net/weixin_45822171/article/details/122317790">@地址</a></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">father</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">var</span> a = <span class="hljs-number">100</span>;<br>    <span class="hljs-keyword">var</span> b = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-comment">//内部函数有对上层作用域的引用</span><br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br>        a++;<br>    &#125;<br>    <span class="hljs-keyword">return</span> b;<br>&#125;<br><span class="hljs-comment">// 内部函数在所在定义域外保持引用并进行访问</span><br><span class="hljs-keyword">var</span> temp = <span class="hljs-title function_">father</span>();<br><span class="hljs-title function_">temp</span>();<br><span class="hljs-title function_">temp</span>();<br><span class="hljs-title function_">temp</span>();<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><h3 id="原型和原型链"><a href="#原型和原型链" class="headerlink" title="原型和原型链"></a>原型和原型链</h3><h4 id="原型"><a href="#原型" class="headerlink" title="原型"></a>原型</h4><ul><li>每一个函数(比如说构造函数),都具有一个属性叫<code>prototype</code>,这个属性指向的是一个对象,我们叫这个对象叫原型对象</li><li>每一个实例化对象,都具有一个属性叫<code>__proto__</code>,这个属性指向其构造函数的<code>prototype</code>属性,并且有如下关系(<code>实例化对象.__proto__ === 构造函数.prototype</code>)</li></ul><h4 id="原型链"><a href="#原型链" class="headerlink" title="原型链"></a>原型链</h4><ul><li>当对象在自身找不到被调用的属性或者方法的时候,就会去原型链身上寻找</li><li>以下代码寻找属性<code>sex</code>过程<ul><li>1.在自身上寻找<code>sex</code>属性,如果有,就返回,没有就接着下一步寻找</li><li>2.在其构造函数身上寻找是否有<code>sex</code>属性(通过<code>实例化对象.__proto__</code>来访问),有就返回,没有就下一步寻找</li><li>3.在其构造函数身上的上一层再次寻找(因为原型对象也是一个对象,是一个实例对象),通过<code>实例化对象.__proto__.__proto__</code>来进行访问并寻找是否有<code>sex</code>属性</li><li>发现没有,就返回undefined,</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">Dog</span>(<span class="hljs-params">name, color</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;<br>  &#125;<br>  <span class="hljs-comment">//为原型链上添加一个属性&#x27;sex&#x27;;</span><br>  <span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sex</span> = <span class="hljs-string">&quot;未知&quot;</span>;<br>  <span class="hljs-comment">//建立一个实例化对象</span><br>  <span class="hljs-keyword">var</span> xiaobai = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">&quot;小白&quot;</span>, <span class="hljs-string">&quot;白色&quot;</span>);<br>  <span class="hljs-comment">//输出结果为 &#x27;未知&#x27;</span><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(xiaobai.<span class="hljs-property">age</span>);<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><h5 id="证明在原型链上寻找"><a href="#证明在原型链上寻找" class="headerlink" title="证明在原型链上寻找"></a>证明在原型链上寻找</h5><ul><li><code>hasOwnProperty</code>查找某一个对象自身是否有某一个属性,不会去查找他的原型链</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">Dog</span>(<span class="hljs-params">name, color</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;<br>  &#125;<br>  <span class="hljs-comment">//为原型链上添加一个属性&#x27;sex&#x27;;</span><br>  <span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sex</span> = <span class="hljs-string">&quot;未知&quot;</span>;<br>  <span class="hljs-comment">//建立一个实例化对象</span><br>  <span class="hljs-keyword">var</span> xiaobai = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">&quot;小白&quot;</span>, <span class="hljs-string">&quot;白色&quot;</span>);<br>  <span class="hljs-comment">//搜索实例化对象身上是否有属性&#x27;sex&#x27;</span><br>  <span class="hljs-keyword">var</span> result = xiaobai.<span class="hljs-title function_">hasOwnProperty</span>(<span class="hljs-string">&quot;sex&quot;</span>);<br>  <span class="hljs-comment">//输出结果为false</span><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result);<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><h2 id="说一说new会发生什么？"><a href="#说一说new会发生什么？" class="headerlink" title="说一说new会发生什么？"></a>说一说new会发生什么？</h2><ol><li><p><del>创建一个新的实例化对象</del></p></li><li><p><del>该构造函数的this指向新的实例化对象</del></p></li><li><p><del>执行该构造函数体</del></p></li><li><p><del>返回这个this(如果没有返回值的情况下)</del></p></li><li><p>创建一个新对象,并在内存当中开辟一个新对象</p></li><li><p>将新对象的<code>__proto__</code>(隐式原型链)指向构造函数的<code>prototype</code>(显示原型链)</p></li><li><p>将构造函数的this指向新的实例化对象</p></li><li><p>返回这个新对象</p></li></ol><h2 id="项目中的难点"><a href="#项目中的难点" class="headerlink" title="项目中的难点"></a>项目中的难点</h2><ol><li><strong>编程式路由往同一地址跳转时会报错的情况</strong>,很莫名其妙,虽然不影响,但是控制台总是会报错,找github找百度才解决</li></ol><p>在<code>router</code>配置文件中添加如下代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> originalPush = <span class="hljs-title class_">VueRouter</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">push</span>;<br><span class="hljs-comment">//解决重复提交相同链接报错</span><br><span class="hljs-title class_">VueRouter</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">push</span> = <span class="hljs-keyword">function</span> <span class="hljs-title function_">push</span>(<span class="hljs-params">location, onResolve, onReject</span>) &#123;<br>    <span class="hljs-keyword">if</span> (onResolve || onReject)<br>        <span class="hljs-keyword">return</span> originalPush.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, location, onResolve, onReject)<br>    <span class="hljs-keyword">return</span> originalPush.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, location).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">VueRouter</span>.<span class="hljs-title function_">isNavigationFailure</span>(err)) &#123;<br>            <span class="hljs-comment">// resolve err</span><br>            <span class="hljs-keyword">return</span> err<br>        &#125;<br>        <span class="hljs-comment">// rethrow error</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(err)<br>    &#125;)<br>&#125;<br><span class="hljs-keyword">const</span> originalReplace = <span class="hljs-title class_">VueRouter</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">replace</span>;<br><span class="hljs-title class_">VueRouter</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">replace</span> = <span class="hljs-keyword">function</span> <span class="hljs-title function_">replace</span>(<span class="hljs-params">location, onResolve, onReject</span>) &#123;<br>    <span class="hljs-keyword">if</span> (onResolve || onReject)&#123;<br>        <span class="hljs-comment">//回调函数里面会用到this的指向,所以就要使用call</span><br>        <span class="hljs-keyword">return</span> originalReplace.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, location, onResolve, onReject)<br>    &#125;<br>    <span class="hljs-keyword">return</span> originalReplace.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, location).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">VueRouter</span>.<span class="hljs-title function_">isNavigationFailure</span>(err)) &#123;<br>            <span class="hljs-comment">//如果为相同链接引发的错误,返回错误原因,promise状态为resolve</span><br>            <span class="hljs-comment">// resolve err</span><br>            <span class="hljs-keyword">return</span> err<br>        &#125;<br>        <span class="hljs-comment">// rethrow error</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(err)<br>    &#125;)<br>&#125;<br></code></pre></td></tr></table></figure><ol start="2"><li>轮播图问题,数据显示正常,但是轮播图好像有问题,后面发现是数据在到达之前就设置swiper轮播图,所以添加<code>$nextTick</code>即可,保证数据有了后,dom被渲染了后在执行swiper初始化操作</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">watch</span>:&#123;<br>   <span class="hljs-comment">/* 监视bannerList数据更新 */</span><br>   <span class="hljs-title function_">bannerList</span>(<span class="hljs-params"></span>)&#123;<br>     <span class="hljs-comment">/* 等待页面更新完成后执行回调 */</span><br>     <span class="hljs-variable language_">this</span>.$nextTick(<span class="hljs-function">()=&gt;</span>&#123;<br>         <span class="hljs-comment">//不应该使用类选择器的,这样子后期生成会选择所有相同的类!!</span><br>        <span class="hljs-keyword">var</span> mySwiper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Swiper</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">mySwiper</span>, &#123;<br>         <span class="hljs-comment">// direction: &#x27;vertical&#x27;, // 垂直切换选项</span><br>         <span class="hljs-attr">loop</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 循环模式选项</span><br>         <span class="hljs-comment">// 如果需要分页器</span><br>         <span class="hljs-attr">pagination</span>: &#123;<br>           <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;.swiper-pagination&quot;</span>,<br>         &#125;,<br>         <span class="hljs-attr">autoplay</span>: &#123;<br>           <span class="hljs-comment">//触碰后不会停止自动切换</span><br>           <span class="hljs-attr">disableOnInteraction</span>: <span class="hljs-literal">false</span>,<br>         &#125;,<br>         <span class="hljs-comment">// 如果需要前进后退按钮</span><br>         <span class="hljs-attr">navigation</span>: &#123;<br>           <span class="hljs-attr">nextEl</span>: <span class="hljs-string">&quot;.swiper-button-next&quot;</span>,<br>           <span class="hljs-attr">prevEl</span>: <span class="hljs-string">&quot;.swiper-button-prev&quot;</span>,<br>         &#125;,<br>       &#125;);<br>     &#125;);<br>   &#125;<br> &#125;,<br></code></pre></td></tr></table></figure><h2 id="数组的去重"><a href="#数组的去重" class="headerlink" title="数组的去重"></a>数组的去重</h2><ul><li>set构造函数去重<ul><li>调用set构造函数转换为一个集合,在进行转换回去数组(扩展运算符…或者Array.from)就实现了去重</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br><span class="hljs-keyword">var</span> tempArray = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>];<br><span class="hljs-comment">//转化为set</span><br><span class="hljs-keyword">var</span> tempSet = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(tempArray);<br><span class="hljs-comment">//set转换回来数组 - 方法1</span><br><span class="hljs-keyword">var</span> tempAfterArray1 = [...tempSet];<br><span class="hljs-comment">///set转换回来数组 - 方法2</span><br><span class="hljs-keyword">var</span> tempAfterArray2 = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(tempSet);<br><span class="hljs-comment">//[1, 2, 3, 4, 5, 6, 7]</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(tempAfterArray1);<br><span class="hljs-comment">//[1, 2, 3, 4, 5, 6, 7]</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(tempAfterArray2);<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><ul><li>普通方法去重1-<strong>双重for循环</strong><ul><li>通过双重for循环,第一层循环为i的时候,第二层循环就从i+1位置开始遍历,如果发现相同的,则通过splice来删除,(splice会改变原数组)</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;i&lt;tempArray.<span class="hljs-property">length</span>;i++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> j = i+<span class="hljs-number">1</span>;j&lt;tempArray.<span class="hljs-property">length</span>;j++)&#123;<br><span class="hljs-keyword">if</span>(tempArray[i] == tempArray[j])&#123;<br>tempArray.<span class="hljs-title function_">splice</span>(j,<span class="hljs-number">1</span>);<br>j--;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>普通方法去重-<strong>filter和indexOf</strong>结合<ul><li><code>indexOf</code>在数组中,返回该数组中第一个找到的索引位置,若未找到,则返回-1</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> tempArray = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>];<br><br><span class="hljs-comment">//item为当前遍历的项</span><br><span class="hljs-comment">//index为当前遍历项的索引</span><br><span class="hljs-keyword">var</span> a = tempArray.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> tempArray.<span class="hljs-title function_">indexOf</span>(item) == index;<br>&#125;)<br><span class="hljs-comment">//[1, 2, 5, 6, 7]</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br><br><span class="hljs-comment">//遍历过程</span><br>item = <span class="hljs-number">1</span>,index=<span class="hljs-number">0</span><br>tempArray.<span class="hljs-title function_">indexOf</span>(item) 返回 <span class="hljs-number">0</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span> == <span class="hljs-number">0</span> ;<span class="hljs-comment">//为true,存储&#x27;1&#x27;</span><br><br>item = <span class="hljs-number">2</span>,index=<span class="hljs-number">1</span><br>tempArray.<span class="hljs-title function_">indexOf</span>(item) 返回 <span class="hljs-number">1</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">1</span> == <span class="hljs-number">1</span> ;<span class="hljs-comment">//为true,存储&#x27;2&#x27;</span><br><br><br>item = <span class="hljs-number">5</span>,index=<span class="hljs-number">2</span><br>tempArray.<span class="hljs-title function_">indexOf</span>(item) 返回 <span class="hljs-number">2</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">2</span> == <span class="hljs-number">2</span> ;<span class="hljs-comment">//为true,存储&#x27;5&#x27;</span><br><br>item = <span class="hljs-number">5</span>,index=<span class="hljs-number">3</span><br>tempArray.<span class="hljs-title function_">indexOf</span>(item) 返回 <span class="hljs-number">2</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">2</span> == <span class="hljs-number">3</span> ;<span class="hljs-comment">//为false,不存储</span><br><br><br>item = <span class="hljs-number">6</span>,index=<span class="hljs-number">4</span><br>tempArray.<span class="hljs-title function_">indexOf</span>(item) 返回 <span class="hljs-number">4</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">4</span> == <span class="hljs-number">4</span> ;<span class="hljs-comment">//为true,存储&#x27;6&#x27;</span><br><br>item = <span class="hljs-number">6</span>,index=<span class="hljs-number">5</span><br>tempArray.<span class="hljs-title function_">indexOf</span>(item) 返回 <span class="hljs-number">4</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">4</span> == <span class="hljs-number">5</span> ;<span class="hljs-comment">//为false,不存储</span><br><br>item = <span class="hljs-number">7</span>,index=<span class="hljs-number">6</span><br>tempArray.<span class="hljs-title function_">indexOf</span>(item) 返回 <span class="hljs-number">6</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">6</span> == <span class="hljs-number">6</span> ;<span class="hljs-comment">//为true,存储&#x27;7&#x27;</span><br></code></pre></td></tr></table></figure><ul><li>使用<code>indexOf</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> temp = [];<br>tempArray.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span>=&gt;</span>&#123;<br><span class="hljs-keyword">if</span>(temp.<span class="hljs-title function_">indexOf</span>(item)===-<span class="hljs-number">1</span>)&#123;<br>temp.<span class="hljs-title function_">push</span>(item);<br>&#125;<br>&#125;)<br></code></pre></td></tr></table></figure><h2 id="ES6-的常见语法"><a href="#ES6-的常见语法" class="headerlink" title="ES6+的常见语法"></a>ES6+的常见语法</h2><h3 id="let"><a href="#let" class="headerlink" title="let"></a>let</h3><p><strong>特点:</strong></p><ul><li>没有变量提升的功能</li><li>块级作用域</li><li>不可以重复声明<ul><li>不可以出现let a &#x3D; 100;然后又出现let a &#x3D; 90;但是var变量可以</li></ul></li><li>具有暂时性死锁<ul><li><a href="https://dreamlove.top/2022/04/25/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8825%E6%97%A5%E5%88%B7%E9%A2%98/">具体可以看看这个</a></li></ul></li></ul><h3 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h3><p><strong>数组的解构赋值</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> str = <span class="hljs-string">&quot;动感超人&amp;18&quot;</span>;<br><span class="hljs-keyword">let</span>[name,age] = str.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;&amp;&quot;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name,age);<span class="hljs-comment">//动感超人 18</span><br><br>也可以跳过接收<br><span class="hljs-keyword">var</span> str = <span class="hljs-string">&quot;动感超人&amp;18&quot;</span>;<br><span class="hljs-keyword">let</span>[,age] = str.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;&amp;&quot;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(age);<span class="hljs-comment">// 18</span><br></code></pre></td></tr></table></figure><p><strong>对象的解构赋值</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> objName = &#123;<br>    <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白&quot;</span>,<br>    <span class="hljs-attr">age</span>:<span class="hljs-number">2000</span>,<br>&#125;<br><span class="hljs-keyword">let</span> &#123;name,age&#125;=objName;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name,age);<span class="hljs-comment">//李白 2000</span><br></code></pre></td></tr></table></figure><h3 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h3><ul><li><strong>this始终指向函数声明时所在作用域下的this的值(在什么环境下,什么this执行,不会受其他改变)</strong></li></ul><h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><h4 id="promise常用的方法"><a href="#promise常用的方法" class="headerlink" title="promise常用的方法"></a>promise常用的方法</h4><ul><li><code>Promise.reject(reason)</code>方法返回一个带有拒绝原因的<code>Promise</code>对象。</li><li><code>Promise.resolve(value)</code>方法返回一个以给定值解析后的<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> 对象</li><li><code>Promise.all(iterable)</code>方法获取这个可迭代对象的promise的结果,<ul><li>当iterable有一个是<code>reject</code>,那么就会触发<code>catch</code>,返回的值就是这个<code>reject</code>传递过来的值</li><li>当iterable全部为<code>resolve</code>,那么就会触发<code>then</code>,返回的值就是由<code>resolve</code>传递过来的值组成的数组</li><li>一句话,有错误立即输出错误的reject,没有错误就输出resolve返回的值</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//iterable中有一个是reject</span><br>&lt;script&gt;<br><span class="hljs-keyword">var</span> p1 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">&quot;promise1&quot;</span>);<br><span class="hljs-keyword">var</span> p2 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-string">&quot;promise2&quot;</span>);<br><span class="hljs-keyword">var</span> p3 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">&quot;promise3&quot;</span>);<br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([p1, p2, p3]).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> &#123;<br>        <span class="hljs-comment">//不会被执行</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);<br>&#125;).<span class="hljs-title function_">catch</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) &#123;<br><span class="hljs-comment">//catch方法将会被执行，输出结果为：&quot;promise2&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error);<br>&#125;);<br>&lt;/script&gt;<br><br><span class="hljs-comment">//iterable均为resolve</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">var</span> p1 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">&quot;promise1&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">var</span> p2 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">&quot;promise2&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">var</span> p3 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">&quot;promise3&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([p1, p2, p3]).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">//输出[&#x27;promise1&#x27;, &#x27;promise2&#x27;, &#x27;promise3&#x27;]</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);</span></span><br><span class="language-javascript"><span class="language-xml">&#125;).<span class="hljs-title function_">catch</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//不会被执行</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error);</span></span><br><span class="language-javascript"><span class="language-xml">&#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><ul><li><code>Promise.race(iterable)</code><ul><li>一句话概括:这个iterable竞争,只要有一个完成了,那么这个Promise.race的返回值就是这个第一个完成的值,不管结果本身是成功状态还是失败状态。</li></ul></li></ul><h3 id="class类"><a href="#class类" class="headerlink" title="class类"></a>class类</h3><p>略</p><h3 id="可选链操作符"><a href="#可选链操作符" class="headerlink" title="可选链操作符"></a>可选链操作符</h3><ul><li><code>?.</code>  为可选链操作符</li><li>有一段数据,我们是通过服务器来请求的,但是可以这段数据会嵌套很多层,有时候为了不报错,我们不得不去判断是否有数据才会去接着寻找下一层</li><li>比如下面这层嵌套</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> a = &#123;<br><span class="hljs-attr">b</span>:&#123;<br><span class="hljs-attr">c</span>:&#123;<br><span class="hljs-attr">d</span>:&#123;<br><span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白的师傅&quot;</span><br>&#125;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>在这之前,我们需要找寻字段<code>d</code>的数据,就要这样子,才不会发生报错</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> dataD = a &amp;&amp; a.<span class="hljs-property">b</span> &amp;&amp; a.<span class="hljs-property">b</span>.<span class="hljs-property">c</span> &amp;&amp; a.<span class="hljs-property">b</span>.<span class="hljs-property">c</span>.<span class="hljs-property">d</span> &amp;&amp; a.<span class="hljs-property">b</span>.<span class="hljs-property">c</span>.<span class="hljs-property">d</span>.<span class="hljs-property">name</span><br></code></pre></td></tr></table></figure><ul><li>有了可选链操作符,就不用这么麻烦了,当某一段&#x2F;某一层数据不存在的时候,会返回undefined</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> dataD = a?.<span class="hljs-property">b</span>?.<span class="hljs-property">c</span>?.<span class="hljs-property">d</span>?.<span class="hljs-property">name</span><br></code></pre></td></tr></table></figure><h3 id="ES6模块化"><a href="#ES6模块化" class="headerlink" title="ES6模块化"></a>ES6模块化</h3><ul><li>分为默认暴露</li><li>分别暴露</li><li>整体暴露</li><li><a href="https://dreamlove.top/2022/05/04/%E5%89%8D%E7%AB%AF/%E9%BB%98%E8%AE%A4%E6%9A%B4%E9%9C%B2,%E5%88%86%E5%88%AB%E6%9A%B4%E9%9C%B2,%E6%95%B4%E4%BD%93%E6%9A%B4%E9%9C%B2/">具体可以看这个文章</a></li></ul><h3 id="async-await"><a href="#async-await" class="headerlink" title="async await"></a>async await</h3><ul><li><strong>一句话概括作用</strong>:使得异步的代码像同步一样实现</li></ul><h4 id="async的返回值"><a href="#async的返回值" class="headerlink" title="async的返回值"></a>async的返回值</h4><ul><li>async函数的<strong>返回值都是promise</strong></li><li>如果返回一个Promise类型的对象,由这个返回的Promise对象决定是<code>resolve</code>或者<code>reject</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getResult</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">&quot;解决了&quot;</span>);<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getResult</span>());<br>&lt;/script&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getResult</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-string">&quot;失败了&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getResult</span>());</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p><strong>resolve-输出一个状态为pending的promise</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205291606662.png" alt="resolve-输出一个状态为pending的promise"></p><p><strong>reject-输出一个状态为pending的promise 并引发报错提示</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205291608469.png" alt="reject-输出一个状态为pending的promise"></p><ul><li>如果返回一个非Promise类型,返回的结果js会自动帮助封装成为一个<code>promise</code>对象</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getResult</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;看看我是什么&quot;</span><br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getResult</span>());<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p><strong>返回一个状态为fulfiled的promise</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205291610888.png" alt="返回一个状态为fulfiled的promise"></p><ul><li>抛出错误 ,返回的结果是一个失败的Promise对象</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getResult</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;出错啦&#x27;</span>)<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getResult</span>());<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205291610158.png" alt="抛出错误的async返回值"></p><h4 id="await"><a href="#await" class="headerlink" title="await"></a>await</h4><p>有时候在项目当中,经常使用<code>await</code>来发送ajax请求获取数据后的操作,<strong>因为await可以阻塞进程,等待这个promise有结果后才开始后面的代码!!!</strong></p><h5 id="await遇上成功的promise-也就是resolve了"><a href="#await遇上成功的promise-也就是resolve了" class="headerlink" title="await遇上成功的promise(也就是resolve了)"></a>await遇上成功的promise(也就是resolve了)</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">testAwait</span>(<span class="hljs-params"></span>) &#123;<br><span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br><span class="hljs-title function_">resolve</span>(<span class="hljs-string">&quot;成功解决问题&quot;</span>)<br>&#125;)<br>&#125;<br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getResult</span>(<span class="hljs-params"></span>) &#123;<br><span class="hljs-keyword">var</span> result;<br><span class="hljs-keyword">try</span> &#123;<br>result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">testAwait</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;成功了,结果为-&quot;</span>, result);<br>&#125; <span class="hljs-keyword">catch</span> (error) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;捕捉到失败,原因为-&quot;</span>, error);<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;我可不可以执行到这里&quot;</span>)<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getResult</span>());<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205291640957.png" alt="执行结果"></p><h5 id="await遇上失败的promise-也就是reject了"><a href="#await遇上失败的promise-也就是reject了" class="headerlink" title="await遇上失败的promise(也就是reject了)"></a>await遇上失败的promise(也就是reject了)</h5><p><strong>例子1:</strong> 遇上失败的promise并且使用<code>try...catch</code>捕捉</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">testAwait</span>(<span class="hljs-params"></span>) &#123;<br><span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br><span class="hljs-title function_">reject</span>(<span class="hljs-string">&quot;失败了&quot;</span>)<br>&#125;)<br>&#125;<br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getResult</span>(<span class="hljs-params"></span>) &#123;<br><span class="hljs-keyword">var</span> result;<br><span class="hljs-keyword">try</span> &#123;<br>result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">testAwait</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;成功了,结果为&quot;</span>,result);<br>&#125; <span class="hljs-keyword">catch</span> (error) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;捕捉到失败,原因为&quot;</span>,error);<br>&#125;<br>        <span class="hljs-comment">//输出结果证明可以</span><br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;我可不可以执行到这里&quot;</span>)<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getResult</span>());<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p><strong>例子1输出结果</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205291635370.png" alt="遇上失败的promise并且使用`try...catch`捕捉"></p><p><strong>例子2:</strong> 遇上失败的promise没有使用,没有使用<code>try..catch捕捉</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">testAwait</span>(<span class="hljs-params"></span>) &#123;<br><span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br><span class="hljs-title function_">reject</span>(<span class="hljs-string">&quot;失败了&quot;</span>)<br>&#125;)<br>&#125;<br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getResult</span>(<span class="hljs-params"></span>) &#123;<br><span class="hljs-keyword">var</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">testAwait</span>();;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;获取到的结果为&quot;</span>,result);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;我可不可以执行到这里&quot;</span>);<span class="hljs-comment">//输出结果证明不会执行到这里</span><br><span class="hljs-comment">// try &#123;</span><br><span class="hljs-comment">//     result = await testAwait();</span><br><span class="hljs-comment">//     console.log(&quot;成功了,结果为&quot;,result);</span><br><span class="hljs-comment">// &#125; catch (error) &#123;</span><br><span class="hljs-comment">//     console.log(&quot;捕捉到失败,原因为&quot;,error);</span><br><span class="hljs-comment">// &#125;</span><br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getResult</span>());<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p><strong>例子2输出结果</strong></p><p>会发现报错了,并且<code>console.log(&quot;我可不可以执行到这里&quot;)</code> 没有执行,因为promise失败导致程序中断!</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205291633816.png" alt="遇上失败的promise没有使用,没有使用`try..catch捕捉`"></p><h6 id="总结-await遇上失败的promise-也就是reject了"><a href="#总结-await遇上失败的promise-也就是reject了" class="headerlink" title="总结: await遇上失败的promise(也就是reject了)"></a>总结: await遇上失败的promise(也就是reject了)</h6><ul><li>await一旦遇到<code>reject</code>,后面代码就不会被执行了</li><li>可以使用<code>try...catch</code>来解决,并且<code>catch</code>捕捉到的原因为<code>reject</code>传递的参数值</li></ul><h3 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h3><p>tab上面按键的符号 里面可以用<code>$&#123;变量名&#125;</code>来使用变量</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-string">`你的名字为<span class="hljs-subst">$&#123;name&#125;</span>,年龄为<span class="hljs-subst">$&#123;age&#125;</span>`</span><br></code></pre></td></tr></table></figure><h2 id="什么是执行上下文"><a href="#什么是执行上下文" class="headerlink" title="什么是执行上下文"></a>什么是执行上下文</h2><p>​执行上下文是指函数调用时在执行栈中产生的当前函数的执行环境，该环境如隔绝外部世界的容器边界，保管可访问的变量、this对象等。(说通俗点就是函数执行时候的一个环境)</p><h3 id="执行上下文"><a href="#执行上下文" class="headerlink" title="执行上下文"></a>执行上下文</h3><h4 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h4><ul><li>分为<strong>全局执行上下文</strong>(我理解为刚执行js脚本时候的一些初始化操作,比如我们没有写<code>window对象</code>我们却可以使用<code>window对象</code>,并且却可以直接输出<code>this</code>)</li><li><strong>函数执行上下文</strong></li></ul><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><p>不管是全局执行上下文,还是函数执行上下文,上下文的创建过程都是如下</p><ul><li>第一步:创建函数上下文,压入栈<ol><li>收集变量,形成变量对象(里面也包含了this这个变量)</li><li>确定this的指向(全局执行上下文的this指向的是window)</li><li>确定作用域链(作用域链,查找变量的过程,如果在作用域链上找不到就报错),作用域链是数组的形式</li></ol></li><li>第二步: 执行上下文(<strong>也就是执行里面的代码</strong>)</li></ul><p>使用这一段代码来作为全局执行上下文和函数执行上下文的例子</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Dog</span>(<span class="hljs-params">name,age</span>)&#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>&#125;<br><span class="hljs-keyword">var</span> xiaobai = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">&quot;小白&quot;</span>,<span class="hljs-number">10</span>);<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><h3 id="1-先全局执行上下文"><a href="#1-先全局执行上下文" class="headerlink" title="1.先全局执行上下文"></a>1.先全局执行上下文</h3><h4 id="第一步-创建全局执行上下文-压入栈"><a href="#第一步-创建全局执行上下文-压入栈" class="headerlink" title="第一步:创建全局执行上下文,压入栈"></a>第一步:创建全局执行上下文,压入栈</h4><h5 id="1-收集变量-形成变量对象"><a href="#1-收集变量-形成变量对象" class="headerlink" title="1.收集变量,形成变量对象"></a>1.收集变量,形成变量对象</h5><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205271040571.png" alt="收集变量,形成变量对象"></p><h5 id="2-确定this的指向"><a href="#2-确定this的指向" class="headerlink" title="2.确定this的指向"></a>2.确定this的指向</h5><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205271050831.png" alt="2确定this的指向"></p><h5 id="3-确定作用域链"><a href="#3-确定作用域链" class="headerlink" title="3.确定作用域链"></a>3.确定作用域链</h5><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205271051299.png" alt="如图"></p><h4 id="第二步-执行全局上下文-比如说赋值"><a href="#第二步-执行全局上下文-比如说赋值" class="headerlink" title="第二步:执行全局上下文 比如说赋值"></a>第二步:执行全局上下文 比如说赋值</h4><p>要执行的代码如下,<strong>注意注释</strong></p><ul><li>执行可以执行的代码,比如说函数的调用,变量的赋值之类的</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br><span class="hljs-comment">//函数定义,不执行</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Dog</span>(<span class="hljs-params">name,age</span>)&#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>&#125;<br><span class="hljs-comment">//执行</span><br><span class="hljs-keyword">var</span> xiaobai = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">&quot;小白&quot;</span>,<span class="hljs-number">10</span>);<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>执行<code>var xiaobai = new Dog(&quot;小白&quot;,10);</code>代码的过程 这里是在调用函数的过程,所以<strong>可以理解为在调用函数执行上下文</strong>,所以我们跳转到函数执行上下文的过程</p><h3 id="2-函数执行上下文"><a href="#2-函数执行上下文" class="headerlink" title="2.函数执行上下文"></a>2.函数执行上下文</h3><h4 id="第一步-创建函数执行上下文"><a href="#第一步-创建函数执行上下文" class="headerlink" title="第一步:创建函数执行上下文"></a>第一步:创建函数执行上下文</h4><h5 id="1-收集变量-形成变量对象-2-确定this的指向-3-确定作用域链"><a href="#1-收集变量-形成变量对象-2-确定this的指向-3-确定作用域链" class="headerlink" title="1.收集变量,形成变量对象,2.确定this的指向 3.确定作用域链"></a>1.收集变量,形成变量对象,2.确定this的指向 3.确定作用域链</h5><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205271103811.png" alt="如图"></p><h4 id="第二步-执行函数上下文"><a href="#第二步-执行函数上下文" class="headerlink" title="第二步:执行函数上下文"></a>第二步:执行函数上下文</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Dog</span>(<span class="hljs-params">name,age</span>)&#123;<br>    <span class="hljs-comment">//执行里面的代码</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205271105907.png" alt="如图"></p><p><strong>注意: 执行函数上下文完成,所属的栈会被丢弃!</strong></p><p>但是,丢弃之前返回了this指向,并存储在了变量<code>xiaobai</code>当中</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Dog</span>(<span class="hljs-params">name,age</span>)&#123;<br>    <span class="hljs-comment">//执行里面的代码,执行完成后销毁</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>    <span class="hljs-comment">//你不添加系统也会自动加一个</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;<br>&#125;<br><br><span class="hljs-keyword">var</span> xiaobai = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">&quot;小白&quot;</span>,<span class="hljs-number">10</span>);<br></code></pre></td></tr></table></figure><p>如图,销毁前返回了this并保存在了变量<code>xiaobai</code>当中</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205271110884.png" alt="如图"></p><h2 id="数据绑定原理"><a href="#数据绑定原理" class="headerlink" title="数据绑定原理"></a>数据绑定原理</h2><h3 id="需要解决的2个问题"><a href="#需要解决的2个问题" class="headerlink" title="需要解决的2个问题"></a>需要解决的2个问题</h3><ul><li><strong>如何知道data的属性发生了变化的</strong>  (重要)<ul><li>也就通过observer为data当中的每一个属性通过数据劫持添加<code>getter</code>和<code>setter</code></li><li>原来是没有<code>getter</code>和<code>setter</code>的,通过数据劫持去添加了set,get</li></ul></li><li>那么要如何知道当前这个数据变化要更新哪些节点呢?<ul><li>订阅者&#x2F;发布者模式</li></ul></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207172228534.jpg" alt="img"> </p><h3 id="1-发布者observer"><a href="#1-发布者observer" class="headerlink" title="1.发布者observer"></a>1.发布者observer</h3><ul><li>给data中的所有层次的属性都添加<code>setter</code> 和<code>getter</code>(也就是数据劫持)</li><li>同时为data当中的<strong>每一个属性</strong>创建一个对应的dep对象</li><li><strong>dep对象</strong>与<strong>data当中的每一个属性</strong>为一一对应的对象</li></ul><h3 id="1-5中间还需要一个dep-订阅器-去通知订阅者"><a href="#1-5中间还需要一个dep-订阅器-去通知订阅者" class="headerlink" title="1.5中间还需要一个dep(订阅器),去通知订阅者"></a>1.5中间还需要一个dep(订阅器),去通知订阅者</h3><ul><li>dep和watcher的关系是初始化的时候就建立起来的</li></ul><h3 id="2-订阅者-watcher"><a href="#2-订阅者-watcher" class="headerlink" title="2.订阅者(watcher)"></a>2.订阅者(watcher)</h3><ul><li>解析每一个模板语法都创建一个watcher(比如模板当中有一个标签使用了插值语法,那就会创建一个watcher,v-bind也会触发创建watcher)</li><li><strong>并且创建watcher的时候最后一个参数为用于更新节点的回调函数</strong></li><li>订阅者需要知道数据变了,从而去更新界面</li></ul><h2 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h2><h3 id="说说看什么是webpack"><a href="#说说看什么是webpack" class="headerlink" title="说说看什么是webpack"></a>说说看什么是webpack</h3><ul><li>webpack就是一个模块化打包工具,它将所有的文件看成是模块,它会分析项目目录下的模块(比如说less,sass等),并将其转换和打包为合适的格式供浏览器使用</li></ul><h3 id="什么是loader-什么又是plugin"><a href="#什么是loader-什么又是plugin" class="headerlink" title="什么是loader,什么又是plugin"></a>什么是loader,什么又是plugin</h3><ul><li><code>loader</code>: 是文件加载器,可以加载资源文件,并对这些文件进行一些处理,比如:编译,压缩等,</li><li><code>plugin</code>:webpack在运行的生命周期会广播出许多事件,plugin可以监听这些事件,在合适的时机中通过webpack提供的api改变输出结果</li></ul><p><strong>区别:</strong></p><ul><li>loader是将A文件进行编译形成B文件,这里操作的是文件,A.less &#x3D;&gt; A.css</li><li>plugin是用于在webpack打包编译过程里，在对应的事件节点里执行自定义操作，比如资源管理、bundle文件优化等操作</li></ul><h3 id="有哪些常见的Loader-他们都是解决什么问题的"><a href="#有哪些常见的Loader-他们都是解决什么问题的" class="headerlink" title="有哪些常见的Loader,他们都是解决什么问题的"></a>有哪些常见的Loader,他们都是解决什么问题的</h3><ul><li>原本的webpack只能处理js&#x2F;json的模块,有了loader或者plugin后,就可以处理更多的模块了</li></ul><p><strong>常见的模块</strong></p><ol><li><code>css-loader</code>: 加载.css文件(也就是可以使用css模块了)</li><li><code>style-loader</code>:使用<code>&lt;style&gt;</code>将css-loader内部样式注入到我们的HTML页面<ol><li>也就是将css-loader内部样式通过js在页面head部分创建style标签并将样式放入style标签内</li></ol></li><li><code>bable-loader</code>:es6转化为es6(js语法转换)</li><li><code>mini-css-extract-plugin</code>: 提取css为单独的文件</li><li><code>postcss(完整的应该为postcss postcss-loader postcss-preset-env)</code> :处理css兼容性问题</li></ol>]]></content>
    
    
    <categories>
      
      <category>面试</category>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>javscript</tag>
      
      <tag>vue</tag>
      
      <tag>面试</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>微信小程序相关知识点和云音乐项目制作遇到的问题及解决</title>
    <link href="/2022/07/14/%E5%89%8D%E7%AB%AF/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E7%82%B9%E5%92%8C%E9%A1%B9%E7%9B%AE%E5%88%B6%E4%BD%9C%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3/"/>
    <url>/2022/07/14/%E5%89%8D%E7%AB%AF/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E7%82%B9%E5%92%8C%E9%A1%B9%E7%9B%AE%E5%88%B6%E4%BD%9C%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3/</url>
    
    <content type="html"><![CDATA[<h3 id="小程序项目想下载项目的可以下载看看"><a href="#小程序项目想下载项目的可以下载看看" class="headerlink" title="小程序项目想下载项目的可以下载看看~"></a>小程序项目想下载项目的可以下载看看~</h3><p>下载地址</p><ul><li>github地址: <a href="https://github.com/superBiuBiuMan/Wechat_NetEase_CloudMusic">https://github.com/superBiuBiuMan/Wechat_NetEase_CloudMusic</a></li><li>gitee地址: <a href="https://gitee.com/superBiuBiu/Wechat_NetEase_CloudMusic">https://gitee.com/superBiuBiu/Wechat_NetEase_CloudMusic</a></li></ul><h3 id="弹性盒布局和移动端适配的一些知识"><a href="#弹性盒布局和移动端适配的一些知识" class="headerlink" title="弹性盒布局和移动端适配的一些知识"></a>弹性盒布局和移动端适配的一些知识</h3><ul><li>具体看下面这两篇博客,这里就不再继续说了</li><li><a href="https://dreamlove.top/2022/05/21/%E5%89%8D%E7%AB%AF/%E7%9B%92%E5%AD%90%E6%A8%A1%E5%9E%8B%E5%8F%8A%E5%9D%97%E5%85%83%E7%B4%A0%E6%B0%B4%E5%B9%B3%E5%9E%82%E7%9B%B4%E5%AE%9A%E4%BD%8D%E5%92%8C%E7%BB%9D%E5%AF%B9%E5%85%83%E7%B4%A0%E7%9A%84%E5%AE%9A%E4%BD%8D%E5%B8%83%E5%B1%80%E5%92%8C%E5%BC%B9%E6%80%A7%E7%9B%92/">盒子模型及块元素水平垂直定位和绝对元素的定位布局和弹性盒</a> </li><li><a href="https://dreamlove.top/2022/05/23/%E5%89%8D%E7%AB%AF/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%89%8D%E7%AB%AF%E7%9A%84%E9%80%82%E9%85%8D%E5%92%8Crem,vm%E5%85%B6%E4%BB%96%E7%9A%84%E4%B8%80%E4%BA%9B%E7%9A%84%E5%A4%8D%E4%B9%A0/">移动端前端的适配和rem,vm其他的一些的复习</a></li></ul><h3 id="微信小程序的适配方案"><a href="#微信小程序的适配方案" class="headerlink" title="微信小程序的适配方案"></a>微信小程序的适配方案</h3><ul><li>小程序适配单位:<code>rpx</code></li><li>小程序规定任何屏幕小的宽度为<code>750rpx</code><ul><li>所以小程序会根据屏幕的宽度不同自动计算rpx值的大小</li></ul></li><li>在<code>iPhone6</code>情况下(其实也就是DPR为2的情况下) <code>1px</code> &#x3D; <code>2rpx</code></li><li>举个例子,比如设计师在iPhone6尺寸(375*667)下设计UI图,那么有一张图片的大小为<code>100px * 50px</code> ,那么在微信小程序当中对应的rpx是多少呢? 相当于计算下方关系,当然,不需要我们自己去计算,微信小程序会自动转换</li><li>计算得结果等于200,所以是<code>200rpx</code></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131436995.png"></p><h3 id="什么是响应式和自适应"><a href="#什么是响应式和自适应" class="headerlink" title="什么是响应式和自适应"></a>什么是响应式和自适应</h3><ul><li>一句话:响应式对不同页面做出代码变更,自适应不做代码变更</li></ul><h4 id="响应式"><a href="#响应式" class="headerlink" title="响应式"></a>响应式</h4><ul><li><p>像素达到临界点就使用另外一套样式,通过媒体查询的方式,也就是<strong>据屏幕的大小自动的调整页面的展现方式</strong></p></li><li><p>响应式的概念应该是覆盖了自适应，但是包括的东西更多了</p></li></ul><h4 id="自适应"><a href="#自适应" class="headerlink" title="自适应"></a>自适应</h4><ul><li>百分比布局，宽度使用百分比，文字使用em,rem等</li><li>自适应是为了解决如何才能在不同大小的设备上呈现相同的网页</li></ul><h3 id="小程序配置"><a href="#小程序配置" class="headerlink" title="小程序配置"></a>小程序配置</h3><h4 id="全局配置"><a href="#全局配置" class="headerlink" title="全局配置"></a>全局配置</h4><ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html">@官网全局配置API地址</a></li><li>小程序根目录下的 <code>app.json</code> 文件用来对微信小程序进行全局配置。文件内容为一个 JSON 对象，有以下属性：</li><li>比如说配置页面底部的导航</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131043068.png"></p><ul><li>比如说配置页面路由项目</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131043405.png"></p><ul><li>比如说小程序标题名</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131043885.png"></p><h4 id="页面配置"><a href="#页面配置" class="headerlink" title="页面配置"></a>页面配置</h4><ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/page.html">@官网页面配置API</a></li><li><code>app.json</code>当中的部分配置项和对单个页面的配置项(二者通用)</li><li>在全局配置当中需要有<code>window</code>字段,而单个页面的配置项.json文件当中是不需要添加<code>window</code>字段的</li></ul><p>全局配置(<code>app.json</code>),需要添加<code>window</code>字段</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131043885.png"></p><p>为某一个页面配置(比如说video页面<code>video.json</code>),就不需要添加<code>window</code>字段了</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131047759.png"></p><h4 id="sitemap"><a href="#sitemap" class="headerlink" title="sitemap"></a>sitemap</h4><ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/sitemap.html">@官网sitemapAPI地址</a></li><li>用于被微信搜索爬取页面</li></ul><h3 id="小程序框架接口"><a href="#小程序框架接口" class="headerlink" title="小程序框架接口"></a>小程序框架接口</h3><h4 id="App-js"><a href="#App-js" class="headerlink" title="App.js"></a>App.js</h4><ul><li><p><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/App.html">@官网API接口</a></p></li><li><p><code>App.js</code> 只有一个,所以执行<code>App(&#123;...&#125;)</code>在里面,而在每一个页面执行的是<code>Page(&#123;...&#125;)</code>函数</p></li><li><p>可以<strong>配置一些生命周期</strong>,并且可以用来全局数据<code>globalData</code></p></li><li><p>App.js当中内容代码如下</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">App</span>(&#123;<br>  onLaunch (options) &#123;<br>    <span class="hljs-comment">// Do something initial when launch.</span><br>  &#125;,<br>  onShow (options) &#123;<br>    <span class="hljs-comment">// Do something when show.</span><br>  &#125;,<br>  onHide () &#123;<br>    <span class="hljs-comment">// Do something when hide.</span><br>  &#125;,<br>  onError (msg) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg)<br>  &#125;,<br>    <span class="hljs-comment">//存储全局数据</span><br>  <span class="hljs-attr">globalData</span>: <span class="hljs-string">&#x27;I am global data&#x27;</span><br>&#125;)<br></code></pre></td></tr></table></figure><ul><li>如果需要获取App.js所生成的实例化对象,其他js文件需要调用<code>getApp()</code>函数,经常用来读取设置的全局数据</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// other.js</span><br><span class="hljs-keyword">var</span> appInstance = <span class="hljs-title function_">getApp</span>()<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(appInstance.<span class="hljs-property">globalData</span>) <span class="hljs-comment">// I am global data</span><br></code></pre></td></tr></table></figure><h4 id="xxx-js-不同页面不同的xxx-js"><a href="#xxx-js-不同页面不同的xxx-js" class="headerlink" title="xxx.js(不同页面不同的xxx.js)"></a>xxx.js(不同页面不同的xxx.js)</h4><ul><li><p><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html">@官网API</a></p></li><li><p>每一个页面<strong>js</strong>当中执行的是<code>Page(&#123;...&#125;)</code>函数,<code>App.js</code> 只有一个,执行<code>App(&#123;...&#125;)</code>在里面</p></li><li><p>不管有多少页码,每一个页面的<code>xxx.js</code>基本内容差不多都是这样子</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// pages/test/test.js</span><br><span class="hljs-title class_">Page</span>(&#123;<br><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 页面的初始数据</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">data</span>: &#123;<br><br>  &#125;,<br><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 生命周期函数--监听页面加载</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-title function_">onLoad</span>(<span class="hljs-params">options</span>) &#123;<br><br>  &#125;,<br><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 生命周期函数--监听页面初次渲染完成</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-title function_">onReady</span>(<span class="hljs-params"></span>) &#123;<br><br>  &#125;,<br><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 生命周期函数--监听页面显示</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-title function_">onShow</span>(<span class="hljs-params"></span>) &#123;<br><br>  &#125;,<br><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 生命周期函数--监听页面隐藏</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-title function_">onHide</span>(<span class="hljs-params"></span>) &#123;<br><br>  &#125;,<br><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 生命周期函数--监听页面卸载</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-title function_">onUnload</span>(<span class="hljs-params"></span>) &#123;<br><br>  &#125;,<br><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 页面相关事件处理函数--监听用户下拉动作</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-title function_">onPullDownRefresh</span>(<span class="hljs-params"></span>) &#123;<br><br>  &#125;,<br><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 页面上拉触底事件的处理函数</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-title function_">onReachBottom</span>(<span class="hljs-params"></span>) &#123;<br><br>  &#125;,<br><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 用户点击右上角分享</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-title function_">onShareAppMessage</span>(<span class="hljs-params"></span>) &#123;<br><br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure><h4 id="WXML语法"><a href="#WXML语法" class="headerlink" title="WXML语法"></a>WXML语法</h4><ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/">@官方API</a></li><li>和vue不同的是,vue一般对于变量是要在属性前添加<code>v-bind</code> 或者简写为<code>:</code>的,微信小程序则需要通过<code>&#123;&#123; js代码 &#125;&#125;</code>来操作变量</li></ul><h5 id="数据绑定"><a href="#数据绑定" class="headerlink" title="数据绑定"></a>数据绑定</h5><ul><li><p><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/data.html">@官方API</a></p></li><li><p>使用数据的一方</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--wxml--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span> &#123;&#123;message&#125;&#125; <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>提供数据的一方<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// page.js</span><br><span class="hljs-title class_">Page</span>(&#123;<br>  <span class="hljs-attr">data</span>: &#123;<br>    <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;Hello MINA!&#x27;</span><br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure></li></ul><h5 id="列表渲染"><a href="#列表渲染" class="headerlink" title="列表渲染"></a>列表渲染</h5><ul><li><p><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/list.html">@官方API</a></p></li><li><p>微信小程序如果需要操作的话,也需要绑定<code>key</code>值</p><ul><li>绑定key的时候,不需要书写<code>&#123;&#123; &#125;&#125;</code>符号,直接传入key值,比如循环的每一项为item,里面有一个字段为id,那么传入<code>wx:key</code>的时候只需要<code>wx:key=&quot;id&quot;</code> ,而不是<code>wx:key=&quot;&#123;&#123;id&#125;&#125;&quot;</code></li></ul></li><li><p><code>wx:for</code>语句有别与vue,在vue当中需要手动指明循环的变量,而微信小程序如果在不指定的情况下,循环项目自动命名为<code>item</code>,当前循环的索引自动命名为<code>index</code>,也可以使用如下代码去重命名,不过,一般都是二三层循环的时候才去,一般都是默认情况</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs applescript">使用 wx:<span class="hljs-keyword">for</span>-<span class="hljs-built_in">item</span> 可以指定数组当前元素的变量名，<br><br>使用 wx:<span class="hljs-keyword">for</span>-index 可以指定数组当前下标的变量名：<br></code></pre></td></tr></table></figure></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--wxml--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">&quot;&#123;&#123;array&#125;&#125;&quot;</span> <span class="hljs-attr">wx:key</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span> &#123;&#123;item&#125;&#125; <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// page.js</span><br><span class="hljs-title class_">Page</span>(&#123;<br>  <span class="hljs-attr">data</span>: &#123;<br>    <span class="hljs-attr">array</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure><h5 id="条件渲染"><a href="#条件渲染" class="headerlink" title="条件渲染"></a>条件渲染</h5><ul><li><p><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/conditional.html">@官方API</a></p></li><li><p>在框架中，使用 <code>wx:if=&quot;&quot;</code> 来判断是否需要渲染该代码块：</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:if</span>=<span class="hljs-string">&quot;&#123;&#123;length &gt; 5&#125;&#125;&quot;</span>&gt;</span> 1 <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:elif</span>=<span class="hljs-string">&quot;&#123;&#123;length &gt; 2&#125;&#125;&quot;</span>&gt;</span> 2 <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:else</span>&gt;</span> 3 <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>block wx:if</strong></p><ul><li>可以用于包括要判断的元素,并且不做渲染,这样子就不用在外面套一层<code>view</code>再去判断是否渲染了</li><li><code>&lt;block/&gt;</code> 并不是一个组件，它仅仅是一个包装元素，不会在页面中做任何渲染，只接受控制属性。</li></ul><h4 id="WXS文件"><a href="#WXS文件" class="headerlink" title="WXS文件"></a>WXS文件</h4><ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxs/">@官方API - wxs</a></li><li>这里就不说啦,看这位博主写的就可以~</li><li><a href="https://blog.csdn.net/w_D_lufei/article/details/103615045">@博客地址</a></li></ul><h4 id="事件系统-x2F-事件"><a href="#事件系统-x2F-事件" class="headerlink" title="事件系统&#x2F;事件"></a>事件系统&#x2F;事件</h4><ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html">@官方API-介绍</a></li><li><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#%E4%BA%8B%E4%BB%B6%E5%88%86%E7%B1%BB">@官方API - 事件分类</a></li><li>在学事件之前,我们先回顾理解下标准事件流和非标准事件流</li><li>除上官网公布的事件之外的其他组件自定义事件如无特殊声明都是非冒泡事件，如 form 的submit事件，input 的input事件，scroll-view 的scroll事件，(详见各个组件)</li></ul><h5 id="标准事件流"><a href="#标准事件流" class="headerlink" title="标准事件流"></a>标准事件流</h5><ul><li>捕获: 从最外层祖先开始捕获</li><li>执行: 从最内层开始执行事件(执行相同的事件)</li><li>冒泡:从最内层开始执行,从内向外执行的过程交冒泡</li></ul><h5 id="非标准事件流"><a href="#非标准事件流" class="headerlink" title="非标准事件流"></a>非标准事件流</h5><ul><li>IE浏览器专属</li><li>特点:没有捕获阶段</li></ul><h5 id="事件格式及示例"><a href="#事件格式及示例" class="headerlink" title="事件格式及示例"></a>事件格式及示例</h5><ul><li><code>bind</code> + 事件名 (不会阻止事件冒泡)</li><li><code>catch</code> + 事件名 (会阻止事件冒泡)</li><li>常见的事件<code>tap</code>,就相当于PC端的<code>click</code></li></ul><p>示例</p><ul><li>当用户点击该组件的时候会在该页面对应的 Page 中找到相应的事件处理函数。</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">id以及h5的自定义属性data-xxx</span><br><span class="hljs-comment">是为了在同一件事件回调函数当中可以区分是哪一个组件调用了</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;tapTest&quot;</span> <span class="hljs-attr">data-hi</span>=<span class="hljs-string">&quot;Weixin&quot;</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">&quot;tapName&quot;</span>&gt;</span> 单击我 <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>在相应的 Page 定义中写上相应的事件处理函数，参数是event。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Page</span>(&#123;<br>  <span class="hljs-attr">tapName</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event)<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure><p>打印输出event</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;tap&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;timeStamp&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">895</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;target&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;tapTest&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;dataset&quot;</span><span class="hljs-punctuation">:</span>  <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;hi&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;Weixin&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;currentTarget&quot;</span><span class="hljs-punctuation">:</span>  <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;tapTest&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;dataset&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;hi&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;Weixin&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;detail&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;x&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">53</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;y&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">14</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;touches&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;identifier&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;pageX&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">53</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;pageY&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">14</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;clientX&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">53</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;clientY&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">14</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;changedTouches&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;identifier&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;pageX&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">53</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;pageY&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">14</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;clientX&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">53</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;clientY&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">14</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h3 id="数据绑定-1"><a href="#数据绑定-1" class="headerlink" title="数据绑定"></a>数据绑定</h3><ul><li><strong>小程序没有自带的双向绑定,但是可以通过this.setData来实现修改数据后视图也变化</strong></li><li>this.data.key &#x3D; value修改data当中的数据,注意和vue进行区分**,vue为什么不用加一层data,那是因为vue做了数据劫持**</li><li>这样子是不会引起视图的改变的! <strong>小程序没有自带的双向绑定</strong></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207132141756.png"></p><ul><li>如果想要触发视图中数据的更新,那么就需要借助<code>setData</code>这个方法用了,<code>setData</code>的机制去把视图层和逻辑层做一个“中转站”两边连接起来。 <strong>注意这里的回调函数必须要用箭头函数,否者this指向不正确</strong></li></ul><p>如图</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207132142800.png"></p><h3 id="小程序获取-查询-元素-x2F-组件的信息"><a href="#小程序获取-查询-元素-x2F-组件的信息" class="headerlink" title="小程序获取,查询,元素&#x2F;组件的信息"></a>小程序获取,查询,元素&#x2F;组件的信息</h3><ul><li><p><a href="https://developers.weixin.qq.com/miniprogram/dev/api/wxml/NodesRef.boundingClientRect.html">@官方API - boundingClientRect</a></p></li><li><p><a href="https://developers.weixin.qq.com/miniprogram/dev/api/wxml/wx.createSelectorQuery.html">@官方API -createSelectorQuery</a></p></li><li><p>其功能类似于 DOM 的 <code>getBoundingClientRect</code></p></li><li><p>获取元素节点信息语法格式</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">NodesRef</span>.<span class="hljs-title function_">boundingClientRect</span>(<span class="hljs-keyword">function</span> callback)<br><br><span class="hljs-comment">//返回对象的信息均为px格式</span><br><br><span class="hljs-keyword">function</span> callback<br>回调函数，在执行 <span class="hljs-title class_">SelectorQuery</span>.<span class="hljs-property">exec</span> 方法后，节点信息会在 callback 中返回。<br>    返回对象<br>    属性    类型  说明<br>    id     string 节点的 <span class="hljs-variable constant_">ID</span><br>    dataset <span class="hljs-title class_">Object</span> 节点的 dataset<br>    left number 节点的左边界坐标<br>    right number 节点的右边界坐标<br>    top     number 节点的上边界坐标<br>    bottom number 节点的下边界坐标<br>    width number 节点的宽度(包括padding,包括border)<br>    height number 节点的高度(包括padding,包括border)<br></code></pre></td></tr></table></figure></li><li><p><code>wx.createSelectorQuery()</code></p><ul><li>返回一个 SelectorQuery 对象实例。在自定义组件或包含自定义组件的页面中，应使用 <code>this.createSelectorQuery()</code> 来代替。</li></ul></li><li><p>获取元素节点信息和查询节点案例</p></li></ul><p><strong>wxml</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--pages/boundingClientRect/boundingClientRect.wxml--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;list-container&quot;</span>&gt;</span>查看我多大吧<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>wxss</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/* pages/boundingClientRect/boundingClientRect.wxss */</span><br><span class="hljs-selector-class">.list-container</span>&#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">300</span>rpx;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">300</span>rpx;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10</span>rpx;<br>  <span class="hljs-attribute">background-color</span>: red;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">6</span>rpx solid blue;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">onLoad</span>(<span class="hljs-params">options</span>) &#123;<br>    <span class="hljs-comment">//select查询单个结果</span><br>    <span class="hljs-comment">// 也有selectAll查询全部结果</span><br>    wx.<span class="hljs-title function_">createSelectorQuery</span>().<span class="hljs-title function_">select</span>(<span class="hljs-string">&quot;.list-container&quot;</span>).<span class="hljs-title function_">boundingClientRect</span>(<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);<br>    &#125;).<span class="hljs-title function_">exec</span>();<br>&#125;,<br></code></pre></td></tr></table></figure><p><strong>输出结果</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">bottom: 166,<br>dataset:&#123;&#125;,<br>height: 166,<br><span class="hljs-built_in">id</span>: <span class="hljs-string">&quot;&quot;</span>,<br>left: 0,<br>right: 166,<br>top: 0,<br>width: 166<br></code></pre></td></tr></table></figure><h3 id="vue和小程序都是单向数据流"><a href="#vue和小程序都是单向数据流" class="headerlink" title="vue和小程序都是单向数据流"></a>vue和小程序都是单向数据流</h3><h4 id="什么是单向数据流"><a href="#什么是单向数据流" class="headerlink" title="什么是单向数据流"></a>什么是单向数据流</h4><ul><li>在父传子的前提下，父组件的数据发生会通知子组件自动更新</li><li>子组件内部，不能直接修改父组件传递过来的props &#x3D;&gt; props是只读的</li></ul><h4 id="vue"><a href="#vue" class="headerlink" title="vue"></a>vue</h4><ul><li><p>单向数据流</p></li><li><p>但是实现了双向数据绑定 v-model 和 input事件结合使用</p></li><li><p>修改状态数据</p><ul><li>this.key &#x3D; value</li></ul></li><li><p>同步修改 model数据结构 和 视图<strong>同时修改</strong></p></li></ul><h4 id="小程序"><a href="#小程序" class="headerlink" title="小程序"></a>小程序</h4><ul><li>单向数据流</li><li>同步修改 model数据结构 和 视图 同时修改,通过<code>this.setData </code></li></ul><h3 id="App-json当中配置路由-路由跳转及需要注意的点"><a href="#App-json当中配置路由-路由跳转及需要注意的点" class="headerlink" title="App.json当中配置路由,路由跳转及需要注意的点"></a>App.json当中配置路由,路由跳转及需要注意的点</h3><ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#pages">@官方API-pages</a></li><li><a href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.redirectTo.html">@官方API-路由跳转</a></li><li>微信小程序的路由和vue路由不同,小程序的默认路由会自动设置,即为配置项目<code>pages</code>数组的第一个</li></ul><h4 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h4><ul><li>App.json当中的配置项<code>pages</code>在配置路由页面的时候不可以再加上 <code>/</code></li></ul><p>错误示范如下</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 不要在前面添加 /</span><br>&#123;<br>  <span class="hljs-string">&quot;pages&quot;</span>: [<br>    <span class="hljs-string">&quot;/pages/index/index&quot;</span>,<br>    <span class="hljs-string">&quot;/pages/logs/logs&quot;</span>,<br>    <span class="hljs-string">&quot;/pages/test/test&quot;</span><br>  ],<br>  <span class="hljs-string">&quot;sitemapLocation&quot;</span>: <span class="hljs-string">&quot;sitemap.json&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure><p>正确示范如下</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js">&#123;<br>  <span class="hljs-string">&quot;pages&quot;</span>: [<br>    <span class="hljs-string">&quot;pages/index/index&quot;</span>,<br>    <span class="hljs-string">&quot;pages/logs/logs&quot;</span>,<br>    <span class="hljs-string">&quot;pages/test/test&quot;</span><br>  ],<br>  <span class="hljs-string">&quot;sitemapLocation&quot;</span>: <span class="hljs-string">&quot;sitemap.json&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure><ul><li>在路由跳转的时候,必须要加上 <code>/ </code> 才可以正确跳转</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//关闭当前页面,跳转路由</span><br>wx.<span class="hljs-title function_">redirectTo</span>(&#123;<br><span class="hljs-attr">url</span>:<span class="hljs-string">&quot;/pages/logs/logs&quot;</span><br>&#125;)<br></code></pre></td></tr></table></figure><ul><li>不同的路由跳转会有所区别,有的是不允许跳转到 <strong>tabbar 页面</strong> 的</li></ul><h3 id="小程序使用分包"><a href="#小程序使用分包" class="headerlink" title="小程序使用分包"></a>小程序使用分包</h3><ul><li><p><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#subpackages">@官方API - 全局配置(app.json)当中的subpackages配置项</a></p></li><li><p><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/subpackages/basic.html">@官方API - 使用分包和示例</a></p></li><li><p><strong>特点</strong></p><ul><li>加载小程序的时候先加载主播,当需要访问分包的页面时候才加载分包内容</li><li>分包的页面可以访问主包的文件,数据,图片等资源</li><li>目前小程序分包大小有以下限制：<ul><li>整个小程序所有分包大小不超过 <code>20M</code></li><li>单个分包&#x2F;主包大小不能超过 <code>2M</code></li></ul></li></ul></li><li><p><strong>主包</strong></p><ul><li>主包通常放置启动页(tabBar)页面</li></ul></li><li><p>分包</p><ul><li>除了主包,其他就都是分包了</li></ul></li><li><p>常规分包和独立分包</p><ul><li><p>常规分包</p><ul><li>开发者通过在<code>app.json</code>的<code>subpackages</code>字段声明项目分包结构</li><li>特点<ul><li>加载小程序的时候先加载主包,当需要访问分包页面的时候才加载分包内容</li><li>分包的页面可以访问主包的文件,数据,图片等资源</li></ul></li></ul></li><li><p>独立分包</p><ul><li><p>在<code>app.json</code>的<code>subpackages</code>字段当中的每一个配置项中添加<code>independent</code>为true</p></li><li><p>特点</p><ul><li>独立分包可以单独访问分包的内容,不需要下载主包</li><li>独立分包不能依赖主包或者其他包的内容</li></ul></li><li><p>独立分包使用场景</p><ul><li>通常某些页面和当前小程序的其他页面关联不大的时候可以进行独立分包</li><li>比如: 临时加的广告页  或者是  活动页</li></ul></li></ul></li></ul></li></ul><h4 id="使用常规分包的具体步骤和示例"><a href="#使用常规分包的具体步骤和示例" class="headerlink" title="使用常规分包的具体步骤和示例"></a>使用常规分包的具体步骤和示例</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs json">打包之前的app.json的pages配置项<br>  <span class="hljs-attr">&quot;pages&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-string">&quot;pages/index/index&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;pages/songDetail/songDetail&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;pages/video/video&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;pages/search/search&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;pages/recommendSong/recommendSong&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;pages/personal/personal&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;pages/login/login&quot;</span><br>  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br></code></pre></td></tr></table></figure><h5 id="1-为分包建立文件夹"><a href="#1-为分包建立文件夹" class="headerlink" title="(1).为分包建立文件夹"></a>(1).为分包建立文件夹</h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">这里就建立一个名字叫做mysubpackages文件夹<br></code></pre></td></tr></table></figure><h5 id="2-将除了启动页-tabBar-的页面文件夹放置在刚刚创建的文件夹当中"><a href="#2-将除了启动页-tabBar-的页面文件夹放置在刚刚创建的文件夹当中" class="headerlink" title="(2).将除了启动页(tabBar)的页面文件夹放置在刚刚创建的文件夹当中"></a>(2).将除了启动页(tabBar)的页面文件夹放置在刚刚创建的文件夹当中</h5><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141502899.png"></p><ul><li>注意,这里为了演示,其实应该将这里文件夹放置在pages文件夹下方的,也就是<code>/mysubpackages/pages</code>文件夹下方,和主包的目录结构保持一致的</li></ul><h5 id="3-app-json配置项修改"><a href="#3-app-json配置项修改" class="headerlink" title="(3).app.json配置项修改"></a>(3).app.json配置项修改</h5><p>app.json当中的pages配置项只留下主包</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json"> <span class="hljs-attr">&quot;pages&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-string">&quot;pages/index/index&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;pages/video/video&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;pages/personal/personal&quot;</span><br><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br></code></pre></td></tr></table></figure><p>将分包写入app.json当中的subpackages配置项</p><ul><li><code>subpackages</code> 中，每个分包的配置有以下几项：</li></ul><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">字段类型说明<br>root<span class="hljs-built_in">String</span>分包根目录<br>name<span class="hljs-built_in">String</span>分包别名，分包预下载时可以使用<br>pagesStringArray分包页面路径，相对于分包根目录<br>完整路径为root+pages<br>independent<span class="hljs-built_in">Boolean</span>分包是否是独立分包<br></code></pre></td></tr></table></figure><p>app.json当中subpackages配置项</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;subpackages&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>  <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;root&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;mysubpackages&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;所有分包&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;pages&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>      <span class="hljs-string">&quot;login/login&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-string">&quot;recommendSong/recommendSong&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-string">&quot;search/search&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-string">&quot;songDetail/songDetail&quot;</span><br>    <span class="hljs-punctuation">]</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br></code></pre></td></tr></table></figure><h5 id="4-更改跳转路径"><a href="#4-更改跳转路径" class="headerlink" title="(4).更改跳转路径"></a>(4).更改跳转路径</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//跳转到搜索界面</span><br><span class="hljs-title function_">toSearchPage</span>(<span class="hljs-params"></span>)&#123;<br>  wx.<span class="hljs-title function_">navigateTo</span>(&#123;<br>    <span class="hljs-comment">// url: &#x27;/pages/search/search&#x27;,</span><br>    <span class="hljs-attr">url</span>:<span class="hljs-string">&quot;/mysubpackages/login/login&quot;</span><br>  &#125;);<br>&#125;,<br></code></pre></td></tr></table></figure><h5 id="5-目录结构"><a href="#5-目录结构" class="headerlink" title="(5).目录结构"></a>(5).目录结构</h5><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141512181.png"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141512463.png"></p><h4 id="分包预下载"><a href="#分包预下载" class="headerlink" title="分包预下载"></a>分包预下载</h4><ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/subpackages/preload.html">@官方API - 分包预下载</a></li><li>略</li></ul><h3 id="微信小程序生命周期"><a href="#微信小程序生命周期" class="headerlink" title="微信小程序生命周期"></a>微信小程序生命周期</h3><ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page-life-cycle.html">@官方API - 生命周期</a></li><li>复习下vue的生命周期<ul><li>beforeCreated,created,beforeMount,mounted,beforeUpdate,updated,beforeDestroy,destroyed</li></ul></li><li>小程序生命周期<ul><li>onLoad</li><li>onShow(会重复出现)</li><li>onReady</li><li>onHide 路由重定向的时候如果选择了比如说<code>wx.navigatorTo</code>之类的保活的,就会产生隐藏生命周期</li><li>onUnload 相当于是销毁的生命周期</li></ul></li><li>具体的图片</li></ul><p><img src="https://res.wx.qq.com/wxdoc/dist/assets/img/page-lifecycle.2e646c86.png"></p><h3 id="小程序使用npm包步骤"><a href="#小程序使用npm包步骤" class="headerlink" title="小程序使用npm包步骤"></a>小程序使用npm包步骤</h3><h4 id="1-初始化"><a href="#1-初始化" class="headerlink" title="(1).初始化"></a>(1).初始化</h4><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-built_in">npm</span> init -y<br></code></pre></td></tr></table></figure><h4 id="2-勾选使用npm-有的项目需要勾选-现在没有这个选项了"><a href="#2-勾选使用npm-有的项目需要勾选-现在没有这个选项了" class="headerlink" title="(2).勾选使用npm(有的项目需要勾选,现在没有这个选项了)"></a>(2).勾选使用npm(有的项目需要勾选,现在没有这个选项了)</h4><h4 id="3-下载需要的包"><a href="#3-下载需要的包" class="headerlink" title="(3).下载需要的包"></a>(3).下载需要的包</h4><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gauss">npm install <span class="hljs-built_in">moment</span> --<span class="hljs-keyword">save</span><br></code></pre></td></tr></table></figure><h4 id="4-引入包"><a href="#4-引入包" class="headerlink" title="(4).引入包"></a>(4).引入包</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// pages/boundingClientRect/boundingClientRect.js</span><br><span class="hljs-keyword">import</span> moment <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;moment&quot;</span><br></code></pre></td></tr></table></figure><h4 id="5-引入包后构建npm"><a href="#5-引入包后构建npm" class="headerlink" title="(5).引入包后构建npm"></a>(5).引入包后构建npm</h4><ul><li>开发工具 —&gt; 工具 —&gt; 构建npm</li><li>会将node_modules中的包打包到miniprogram_npm中</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141434418.png"></p><p>如果步骤错了,会报这个错误<code>module &#39;pages/boundingClientRect/moment.js&#39; is not defined, require args is &#39;moment&#39;&#39;</code></p><p><strong>只需要再次构建下npm就可以</strong></p><ul><li>注意<ul><li>测试的时候引入<code>axios</code>包,然后按照这个流程发现不行,可能是小程序不支持<code>axios</code>吧</li></ul></li></ul><h3 id="小程序的ajax请求发送和二次封装"><a href="#小程序的ajax请求发送和二次封装" class="headerlink" title="小程序的ajax请求发送和二次封装"></a>小程序的ajax请求发送和二次封装</h3><ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/api/network/request/wx.request.html">@官方API - wx.request</a></li><li>需要注意的是<ul><li><strong>在h5的时候,全局对象为window,但是在微信小程序是没有window的,取而代之的全局对象是wx</strong></li><li>所以是用<code>wx.xxxx</code>来调用微信提供的方法</li><li>wx.request规定<strong>必须</strong>是https协议 ,最大并发为10</li></ul></li></ul><h4 id="ajax请求发送"><a href="#ajax请求发送" class="headerlink" title="ajax请求发送"></a>ajax请求发送</h4><p>发送请求示例代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js">wx.<span class="hljs-title function_">request</span>(&#123;<br>  <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;example.php&#x27;</span>, <span class="hljs-comment">//仅为示例，并非真实的接口地址</span><br>  <span class="hljs-attr">data</span>: &#123;<br>    <span class="hljs-attr">x</span>: <span class="hljs-string">&#x27;&#x27;</span>,<br>    <span class="hljs-attr">y</span>: <span class="hljs-string">&#x27;&#x27;</span><br>  &#125;,<br>  <span class="hljs-attr">header</span>: &#123;<br>    <span class="hljs-string">&#x27;content-type&#x27;</span>: <span class="hljs-string">&#x27;application/json&#x27;</span> <span class="hljs-comment">// 默认值</span><br>  &#125;,<br>  success (res) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res.<span class="hljs-property">data</span>)<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure><h4 id="二次封装"><a href="#二次封装" class="headerlink" title="二次封装"></a>二次封装</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 二次封装请求</span><br><span class="hljs-keyword">import</span> config <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./config&quot;</span>;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * params:</span><br><span class="hljs-comment"> *  url:请求地址</span><br><span class="hljs-comment"> *  method:请求方式(默认get)</span><br><span class="hljs-comment"> *  data:请求数据(默认 &#123;&#125; )</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> (url, data = &#123;&#125;, method = <span class="hljs-string">&quot;get&quot;</span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    wx.<span class="hljs-title function_">request</span>(&#123;<br>      <span class="hljs-attr">url</span>: config.<span class="hljs-property">host</span> + url,<br>      method,<br>      data,<br>      <span class="hljs-attr">header</span>: &#123;<br>       <span class="hljs-comment">//写入配置项</span><br>      &#125;,<br>      <span class="hljs-title function_">success</span>(<span class="hljs-params">res</span>) &#123;<br>       <span class="hljs-comment">//Do Something</span><br>      &#125;,<br>      <span class="hljs-title function_">fail</span>(<span class="hljs-params">reason</span>) &#123;<br>        <span class="hljs-comment">//返回错误原因</span><br>        <span class="hljs-title function_">reject</span>(reason);<br>      &#125;<br>    &#125;);<br>  &#125;);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="小程序使用自定义组件"><a href="#小程序使用自定义组件" class="headerlink" title="小程序使用自定义组件"></a>小程序使用自定义组件</h3><ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/">@官网API - 自定义组件介绍</a></li><li><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Component.html#properties-%E5%AE%9A%E4%B9%89">@官网API - properties</a></li></ul><h4 id="1-建立文件夹"><a href="#1-建立文件夹" class="headerlink" title="(1)建立文件夹"></a>(1)建立文件夹</h4><ul><li>1.先依次建立一个文件夹叫<code>componets/NavHeader</code></li></ul><h4 id="2-右键新建Component"><a href="#2-右键新建Component" class="headerlink" title="(2)右键新建Component"></a>(2)右键新建Component</h4><ul><li>2.1.在<code>NavHeader</code>文件夹右键,选中新建<code>Component</code>,输入与文件夹同名的名称</li><li>2.2.<code>NavHeader</code>文件夹当中的结构和普通的页面结构一样,唯一不同的是不会自动在app.json当中的配置项pages中注册,因为不是页面嘛</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131610712.png" alt="image-20220713161024645"></p><h4 id="3-构建NavHeader的结构"><a href="#3-构建NavHeader的结构" class="headerlink" title="(3)构建NavHeader的结构"></a>(3)构建NavHeader的结构</h4><ul><li><p>3.1 书写NavHeader结构并使用<code>NavHeader.js</code>当中的<code>propertyies属性</code></p><ul><li>可以看到,选择<code>新建Component</code>生成的js文件会自动添加如下内容,我们使用的多的,就是 <code>properties</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// components/NavHeader/NavHeader.js</span><br><span class="hljs-title class_">Component</span>(&#123;<br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 组件的属性列表</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">properties</span>: &#123;<br>    <span class="hljs-comment">//书写自定义属性</span><br>    <span class="hljs-attr">title</span>:&#123;<br>      <span class="hljs-comment">//指明属性类型</span><br>      <span class="hljs-attr">type</span>:<span class="hljs-title class_">String</span>,<br>      <span class="hljs-attr">value</span>:<span class="hljs-string">&quot;未传入时候的默认值-title&quot;</span><br>    &#125;,<br>    <span class="hljs-attr">desc</span>:&#123;<br>      <span class="hljs-attr">type</span>:<span class="hljs-title class_">String</span>,<br>      <span class="hljs-attr">value</span>:<span class="hljs-string">&quot;未传入时候的默认值-desc&quot;</span><br>    &#125;<br>  &#125;,<br><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 组件的初始数据</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">data</span>: &#123;<br><br>  &#125;,<br><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 组件的方法列表</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">methods</span>: &#123;<br><br>  &#125;<br>&#125;)<br><br></code></pre></td></tr></table></figure></li><li><p>3.2 在<code>NavHeader.wxml</code>中使用<code>NavHeader.js</code>的<code>properties属性</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--components/NavHeader/NavHeader.wxml--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>标题:&#123;&#123;title&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>描述:&#123;&#123;desc&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ul><h4 id="4-其他组件注册使用自定义组件"><a href="#4-其他组件注册使用自定义组件" class="headerlink" title="(4)其他组件注册使用自定义组件"></a>(4)其他组件注册使用自定义组件</h4><ul><li>在要使用此组件的页面的xxx.json里面的配置项目<code>usingCompoents</code>去注册,比如下方的index.json当中注册使用组件NavHeader</li></ul><p>index.json当中使用自定义组件NavHeader(相当于注册组件吧有点)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><br>&#123;<br>  <span class="hljs-string">&quot;usingComponents&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;NavHeader&quot;</span>:<span class="hljs-string">&quot;/components/NavHeader/NavHeader&quot;</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="5使用并传值"><a href="#5使用并传值" class="headerlink" title="(5使用并传值"></a>(5使用并传值</h4><p>index.wxml中使用(也就是xxx.wxml中使用)</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- 使用自定义组件 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">NavHeader</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;我是标题&quot;</span> <span class="hljs-attr">desc</span>=<span class="hljs-string">&quot;我是描述&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">NavHeader</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="tabBar底部导航的实现"><a href="#tabBar底部导航的实现" class="headerlink" title="tabBar底部导航的实现"></a>tabBar底部导航的实现</h3><ul><li><p><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#tabBar">@官方API- tabBar</a></p></li><li><p><code>tabBar</code>配置项用的比较多的</p><ul><li><code>color</code>: tab 上的文字默认颜色，仅支持十六进制颜色</li><li><code>selectedColor</code>:tab 上的文字选中时的颜色，仅支持十六进制颜色</li><li><code>backgroundColor</code>:tab 的背景色，仅支持十六进制颜色</li><li><code>list</code>: tab 的列表，详见 <code>list</code> 属性说明，最少 2 个、最多 5 个 tab</li></ul></li><li><p>注意的是</p><ul><li>假如有需求需要计算一个容器的高度比如通过<code>calc</code>计算,那么在计算高度的时候,比如减去一部分的高度,这个时候可以忽略tabBar的高度,而不用减去,因为微信小程序会自动处理</li></ul></li></ul><p>示例 <code>app.json</code>当中添加配置项</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;tabBar&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;color&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;#333&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;selectedColor&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;#d43c33&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;backgroundColor&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;#fff&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;list&quot;</span><span class="hljs-punctuation">:</span> <br>      <span class="hljs-punctuation">[</span><br>          <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;pagePath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;pages/index/index&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;首页&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;iconPath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/static/images/tabs/tab-home.png&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;selectedIconPath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/static/images/tabs/tab-home-current.png&quot;</span><br>          <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>          <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;pagePath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;pages/video/video&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;视频&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;iconPath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/static/images/tabs/video.png&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;selectedIconPath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/static/images/tabs/video-current.png&quot;</span><br>          <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>          <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;pagePath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;pages/personal/personal&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;个人中心&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;iconPath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/static/images/tabs/tab-my.png&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;selectedIconPath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/static/images/tabs/tab-my-current.png&quot;</span><br>          <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">]</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>效果图</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131639737.png"></p><h3 id="js文件使用this-data-xxx和this-xxx和this-setData的区别"><a href="#js文件使用this-data-xxx和this-xxx和this-setData的区别" class="headerlink" title="js文件使用this.data.xxx和this.xxx和this.setData的区别"></a>js文件使用this.data.xxx和this.xxx和this.setData的区别</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// pages/test/test.js</span><br><span class="hljs-title class_">Page</span>(&#123;<br>  <span class="hljs-attr">data</span>: &#123;<br><br>  &#125;,<br>&#125;)<br></code></pre></td></tr></table></figure><h4 id="this-data-xxx"><a href="#this-data-xxx" class="headerlink" title="this.data.xxx"></a>this.data.xxx</h4><ul><li><code>this.data.xxx</code> 操作当前配置项当中data的属性值,但是操作不会更新视图</li></ul><h4 id="this-xxx"><a href="#this-xxx" class="headerlink" title="this.xxx"></a>this.xxx</h4><ul><li>操作当前由Page生成的实例化对象上的属性</li><li>可以用来绑定一个共用,唯一的值,比如说单例</li></ul><h4 id="this-setData"><a href="#this-setData" class="headerlink" title="this.setData"></a>this.setData</h4><ul><li><code>this.setData(&#123; value: &#39;leaf&#39; &#125;)</code>可以更新配置项当中data的属性值,并且会引发视图更新</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>(&#123;<br>    要修改的data当中的key值: 新值<br>&#125;)<br></code></pre></td></tr></table></figure><h3 id="元素当中id和data-xxx在辨别数据的使用"><a href="#元素当中id和data-xxx在辨别数据的使用" class="headerlink" title="元素当中id和data-xxx在辨别数据的使用"></a>元素当中id和data-xxx在辨别数据的使用</h3><ul><li>有时候我们想一个函数被二个不同功能的组件所触发,但是所处理的功能不同,就可以为组件添加id或者是data-xxx来区分</li><li><code>id</code>区分和<code>data-xxx</code>区分主要区别就是<code>id</code>只能有一个,而<code>data-xxx</code>可以有多个</li><li>在回调函数的事件对象当中通过<code>currentTarget</code> 或者<code>target</code>来获取id或者data-xxx属性<ul><li>currentTarget和target的区别主要在于是否是事件委派,如果没有事件委派,那么二者没有区别</li><li>如果有事件委派&#x2F;委托,区别如下</li><li><code>currentTarget</code>是绑定事件的元素(父元素)</li><li><code>target</code>: 是触发事件的元素(子元素)</li></ul></li></ul><p>有如下结构</p><p>可以看到,<code>test.wxml</code>的二个view组件都赋予了同一个回调函数,那么如何区分呢?这里添加了<code>id</code>和<code>data-index</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--pages/test/test.wxml--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">&quot;handleTouch&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;one&quot;</span> <span class="hljs-attr">data-index</span>=<span class="hljs-string">&quot;0&quot;</span>&gt;</span>我是组件1<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">&quot;handleTouch&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;two&quot;</span> <span class="hljs-attr">data-index</span>=<span class="hljs-string">&quot;1&quot;</span>&gt;</span>我是组件2<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br></code></pre></td></tr></table></figure><p>test.js内容</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">handleTouch</span>(<span class="hljs-params">event</span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event);<br>&#125;,<br></code></pre></td></tr></table></figure><p>我们任意单击一个<code>view</code>,输出查看下事件对象<code>event</code>,可以看到,currentTarget和target记录着一些数据,<strong>正好是我们所设置的数据,那么就可以以此来区分是哪一个组件触发的了</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131700657.png"></p><p>完整js代码如下</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">handleTouch</span>(<span class="hljs-params">event</span>) &#123;<br><span class="hljs-comment">//获取组件的id</span><br><span class="hljs-keyword">let</span> id = event.<span class="hljs-property">target</span>.<span class="hljs-property">id</span>;<br><span class="hljs-keyword">if</span> (id === <span class="hljs-string">&#x27;one&#x27;</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;组件1触发的&quot;</span>);<br>&#125;<br><span class="hljs-keyword">if</span> (id === <span class="hljs-string">&#x27;two&#x27;</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;组件2触发的&quot;</span>);<br>&#125;<br>&#125;,<br></code></pre></td></tr></table></figure><p>当然,也可以通过<code>data-xxx</code>来区分</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">handleTouch</span>(<span class="hljs-params">event</span>) &#123;<br><span class="hljs-comment">//获取组件的id</span><br><span class="hljs-keyword">let</span> index = event.<span class="hljs-property">target</span>.<span class="hljs-property">dataset</span>.<span class="hljs-property">index</span>;<br><span class="hljs-keyword">if</span> (index === <span class="hljs-string">&#x27;0&#x27;</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;组件1触发的&quot;</span>);<br>&#125;<br><span class="hljs-keyword">if</span> (index === <span class="hljs-string">&#x27;1&#x27;</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;组件2触发的&quot;</span>);<br>&#125;<br>&#125;,<br></code></pre></td></tr></table></figure><h3 id="文本超出显示省略号或文本超出两行后显示省略号"><a href="#文本超出显示省略号或文本超出两行后显示省略号" class="headerlink" title="文本超出显示省略号或文本超出两行后显示省略号"></a>文本超出显示省略号或文本超出两行后显示省略号</h3><ul><li>需要注意的是<ul><li><code>overflow</code>属性只会<strong>在块级元素才会生效</strong></li></ul></li></ul><h4 id="文本超出显示省略号"><a href="#文本超出显示省略号" class="headerlink" title="文本超出显示省略号"></a>文本超出显示省略号</h4><ul><li>关键代码就是下面这三行</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">white-space</span>:nowrap;<br><span class="hljs-attribute">text-overflow</span>:ellipsis;<br>over-<span class="hljs-attribute">flow</span>:hidden<br></code></pre></td></tr></table></figure><p>示例</p><ul><li><a href="https://codepen.io/superbiubiuman/pen/vYRXjXp">@在线演示</a></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.show</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid red;</span><br><span class="language-css">            <span class="hljs-comment">/* 设置超出部分为省略号代替 */</span></span><br><span class="language-css">            <span class="hljs-attribute">overflow</span>: hidden;</span><br><span class="language-css">            <span class="hljs-attribute">text-overflow</span>: ellipsis;</span><br><span class="language-css">            <span class="hljs-attribute">white-space</span>: nowrap;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;show&quot;</span>&gt;</span><br>        本人也是经过了深思熟虑，在每个日日夜夜思考这个问题。 这种事实对本人来说意义重大，相信对这个世界也是有一定意义的。 那么， 既然如此， 问题的关键究竟为何？ 就我个人来说，对我的意义，不能不说非常重大<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131509175.png"></p><h4 id="文本超出两行后显示省略号"><a href="#文本超出两行后显示省略号" class="headerlink" title="文本超出两行后显示省略号"></a>文本超出两行后显示省略号</h4><ul><li>关键代码如下</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">display</span>: -webkit-box;<br>-webkit-box-orient: vertical;<br><span class="hljs-comment">/* 设置超出几行省略 */</span><br>-webkit-line-clamp: <span class="hljs-number">2</span>;<br></code></pre></td></tr></table></figure><p>示例</p><ul><li><a href="https://codepen.io/superbiubiuman/pen/mdxrLwK">@在线演示</a></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.show</span> &#123;</span><br><span class="language-css">           <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">           <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid red;</span><br><span class="language-css">           <span class="hljs-attribute">text-overflow</span>: ellipsis;</span><br><span class="language-css">           <span class="hljs-attribute">overflow</span>: hidden;</span><br><span class="language-css">           <span class="hljs-attribute">display</span>: -webkit-box;</span><br><span class="language-css">           -webkit-box-orient: vertical;</span><br><span class="language-css">           <span class="hljs-comment">/* 设置超出几行省略 */</span></span><br><span class="language-css">           -webkit-line-clamp: <span class="hljs-number">2</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;show&quot;</span>&gt;</span><br>        本人也是经过了深思熟虑，在每个日日夜夜思考这个问题。 这种事实对本人来说意义重大，相信对这个世界也是有一定意义的。 那么， 既然如此， 问题的关键究竟为何？ 就我个人来说，对我的意义，不能不说非常重大<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="小程序的轻提示-Toast"><a href="#小程序的轻提示-Toast" class="headerlink" title="小程序的轻提示(Toast)"></a>小程序的轻提示(Toast)</h3><ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/api/ui/interaction/wx.showToast.html">@官方API - Toast</a> </li><li>和其他不同的就是小程序的轻提示除了<code>none</code>,其他都只限于7个汉字的长度</li><li>并且小程序的轻提示-<code>wx.showLoading</code>必须要调用<code>wx.hideToast</code>进行手动关闭才可以,其他的就不用</li></ul><h3 id="小程序当中视频的操作"><a href="#小程序当中视频的操作" class="headerlink" title="小程序当中视频的操作"></a>小程序当中视频的操作</h3><ul><li><p><a href="https://developers.weixin.qq.com/miniprogram/dev/component/video.html">@官方API - video</a></p></li><li><p>想要操作视频,比如说跳转到指定位置,倍速播放的时候,就需要对视频(video)进行操作了</p></li><li><p>大致操作就是先创建属于这个视频的上下文对象,然后对上下文对象进行操作</p><ul><li>设计到视频的操作有很多,可以查看官方API的说明~</li><li><code>bindtimeupdate</code> : 播放进度变化时触发</li><li><code>bindfullscreenchange</code>: 视频进入和退出全屏时触发</li></ul></li><li><p>下方步骤为操作一个video的基本步骤</p></li></ul><h4 id="0-wxml基本结构"><a href="#0-wxml基本结构" class="headerlink" title="(0)wxml基本结构"></a>(0)wxml基本结构</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--pages/videotest/videotest.wxml--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- 视频1 --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://vfx.mtime.cn/Video/2019/03/18/mp4/190318214226685784.mp4&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">video</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">&quot;handlePlay&quot;</span>&gt;</span>播放/暂停视频1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="1-创建视频上下文对象"><a href="#1-创建视频上下文对象" class="headerlink" title="(1)创建视频上下文对象"></a>(1)创建视频上下文对象</h4><ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/api/media/video/wx.createVideoContext.html">@官方API - createVideoContext</a></li><li><code>let 当前video的上下文对象 = wx.createVideoContext(video组件的id)</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// pages/videotest/videotest.js </span><br><span class="hljs-title function_">onLoad</span>(<span class="hljs-params">options</span>) &#123;<br>    <span class="hljs-comment">//创建视频上下文对象,并绑定在当前页的实例对象上</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">videoContext</span> = wx.<span class="hljs-title function_">createVideoContext</span>(<span class="hljs-string">&quot;1&quot;</span>);<br> &#125;,<br></code></pre></td></tr></table></figure><h4 id="2-控制视频的播放-x2F-暂停-x2F-跳转"><a href="#2-控制视频的播放-x2F-暂停-x2F-跳转" class="headerlink" title="(2)控制视频的播放&#x2F;暂停&#x2F;跳转"></a>(2)控制视频的播放&#x2F;暂停&#x2F;跳转</h4><ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/api/media/video/VideoContext.html">@官方API - 视频上下文操作方法</a></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">handlePlay</span>(<span class="hljs-params"></span>) &#123;<br><span class="hljs-comment">//视频播放</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">videoContext</span>.<span class="hljs-title function_">play</span>();<br><span class="hljs-comment">//视频暂停</span><br><span class="hljs-comment">// this.videoContext.pause();</span><br><span class="hljs-comment">//视频跳转 - 传入的为s</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">videoContext</span>.<span class="hljs-title function_">seek</span>(<span class="hljs-number">40</span>);<br>&#125;,<br></code></pre></td></tr></table></figure><h4 id="补充-由于微信问题-视频播放下一个的时候不会自动暂停上一个视频-所以这里需要使用视频上下文进行处理"><a href="#补充-由于微信问题-视频播放下一个的时候不会自动暂停上一个视频-所以这里需要使用视频上下文进行处理" class="headerlink" title="补充:由于微信问题,视频播放下一个的时候不会自动暂停上一个视频,所以这里需要使用视频上下文进行处理"></a>补充:由于微信问题,视频播放下一个的时候不会自动暂停上一个视频,所以这里需要使用视频上下文进行处理</h4><ul><li><p>演示内容,当播放视频1的时候,又跑去播放视频2,那么视频1会被暂停播放</p></li><li><p>示例<code>wxml</code>基本结构</p><ul><li>记得绑定<code>bindplay</code>哦</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!--pages/videotest/videotest.<span class="hljs-property">wxml</span>--&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>视频测试<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- 视频1 --&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- video添加id,用于获取上下文对象--&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://vfx.mtime.cn/Video/2019/03/18/mp4/190318214226685784.mp4&quot;</span> <span class="hljs-attr">bindplay</span>=<span class="hljs-string">&quot;handlePlay&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">video</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- 视频2 --&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- video添加id,用于获取上下文对象--&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://vfx.mtime.cn/Video/2019/03/19/mp4/190319104618910544.mp4&quot;</span> <span class="hljs-attr">bindplay</span>=<span class="hljs-string">&quot;handlePlay&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">video</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p><code>js</code>代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">handlePlay</span>(<span class="hljs-params">event</span>) &#123;<br>   <span class="hljs-comment">//1.先获取下视频的id</span><br>   <span class="hljs-keyword">let</span> videoId = event.<span class="hljs-property">target</span>.<span class="hljs-property">id</span>;<br>   <span class="hljs-comment">//1.5 判断之前是否创建过了,如果创建过了,则暂停播放</span><br>   <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">videoContext</span>)&#123;<br>     <span class="hljs-comment">//暂停上一个视频</span><br>     <span class="hljs-variable language_">this</span>.<span class="hljs-property">videoContext</span>.<span class="hljs-title function_">pause</span>();<br>   &#125;<br>   <span class="hljs-comment">//2.创建视频的上下文对象</span><br>   <span class="hljs-variable language_">this</span>.<span class="hljs-property">videoContext</span> = wx.<span class="hljs-title function_">createVideoContext</span>(videoId);<br>   <br> &#125;,<br></code></pre></td></tr></table></figure><h3 id="小程序的video组件设置为100-出现黑色边框"><a href="#小程序的video组件设置为100-出现黑色边框" class="headerlink" title="小程序的video组件设置为100%出现黑色边框"></a>小程序的video组件设置为100%出现黑色边框</h3><ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/component/video.html">@官方API - video</a></li><li>设置<code>video</code>组件的<code>object-fit</code>属性为<code>cover</code>即可</li></ul><p>如图</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131918955.png"></p><h3 id="scroll-view滚动到指定位置并且有过渡效果"><a href="#scroll-view滚动到指定位置并且有过渡效果" class="headerlink" title="scroll-view滚动到指定位置并且有过渡效果"></a>scroll-view滚动到指定位置并且有过渡效果</h3><ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/component/scroll-view.html">@官网API -scroll-view</a> </li><li>实现滚动到指定位置的二个属性<ul><li><code>scroll-into-view</code>: 值应为某子元素id（<strong>id不能以数字开头</strong>）。设置哪个方向可滚动，则在哪个方向滚动到该元素</li><li><code>scroll-with-animation</code> : 在设置滚动条位置时使用动画过渡</li></ul></li><li>实现原理<ul><li>通过动态设置<code>scroll-into-view</code>的值来实现</li></ul></li></ul><h4 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207132027726.gif"></p><h4 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h4><p><strong>wxml</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--pages/bar/bar.wxml--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">scroll-view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;nav-tab&quot;</span> <span class="hljs-attr">enable-flex</span> <span class="hljs-attr">scroll-x</span> <span class="hljs-attr">scroll-into-view</span>=<span class="hljs-string">&quot;&#123;&#123;&#x27;scroll&#x27;+selectedId&#125;&#125;&quot;</span> <span class="hljs-attr">scroll-with-animation</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;nav&quot;</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">&quot;&#123;&#123;navList&#125;&#125;&quot;</span> <span class="hljs-attr">wx:key</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;&#123;&#123;&#x27;scroll&#x27;+item.id&#125;&#125;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;nav-item &#123;&#123;selectedId==item.id?&#x27;active&#x27;:&#x27;&#x27;&#125;&#125;&quot;</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">&quot;changNavTab&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;&#123;&#123;item.id&#125;&#125;&quot;</span>&gt;</span><br>      &#123;&#123;item.name&#125;&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">scroll-view</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// pages/bar/bar.js</span><br><span class="hljs-title class_">Page</span>(&#123;<br><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 页面的初始数据</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">data</span>: &#123;<br>    <span class="hljs-comment">//数据列表</span><br>    <span class="hljs-attr">navList</span>: [&#123;<br>        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">58100</span>,<br>        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;现场&quot;</span>,<br>        <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;relatedVideoType&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;selectTab&quot;</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-string">&quot;abExtInfo&quot;</span>: <span class="hljs-literal">null</span><br>      &#125;,<br>      &#123;<br>        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">60100</span>,<br>        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;翻唱&quot;</span>,<br>        <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;relatedVideoType&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;selectTab&quot;</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-string">&quot;abExtInfo&quot;</span>: <span class="hljs-literal">null</span><br>      &#125;,<br>      &#123;<br>        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">1101</span>,<br>        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;舞蹈&quot;</span>,<br>        <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;relatedVideoType&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;selectTab&quot;</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-string">&quot;abExtInfo&quot;</span>: <span class="hljs-literal">null</span><br>      &#125;,<br>      &#123;<br>        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">58101</span>,<br>        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;听BGM&quot;</span>,<br>        <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;relatedVideoType&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;selectTab&quot;</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-string">&quot;abExtInfo&quot;</span>: <span class="hljs-literal">null</span><br>      &#125;,<br>      &#123;<br>        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">262158</span>,<br>        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;万有引力&quot;</span>,<br>        <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;relatedVideoType&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;selectTab&quot;</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-string">&quot;abExtInfo&quot;</span>: <span class="hljs-literal">null</span><br>      &#125;,<br>      &#123;<br>        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">261121</span>,<br>        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;告白&quot;</span>,<br>        <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;relatedVideoType&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;selectTab&quot;</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-string">&quot;abExtInfo&quot;</span>: <span class="hljs-literal">null</span><br>      &#125;,<br>      &#123;<br>        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">259132</span>,<br>        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;云村放映厅&quot;</span>,<br>        <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;relatedVideoType&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;selectTab&quot;</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-string">&quot;abExtInfo&quot;</span>: <span class="hljs-literal">null</span><br>      &#125;,<br>      &#123;<br>        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">259129</span>,<br>        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;超燃联盟&quot;</span>,<br>        <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;relatedVideoType&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;selectTab&quot;</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-string">&quot;abExtInfo&quot;</span>: <span class="hljs-literal">null</span><br>      &#125;,<br>      &#123;<br>        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">264120</span>,<br>        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;热歌看得见&quot;</span>,<br>        <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;relatedVideoType&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;selectTab&quot;</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-string">&quot;abExtInfo&quot;</span>: <span class="hljs-literal">null</span><br>      &#125;,<br>      &#123;<br>        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">243125</span>,<br>        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;#歌手#&quot;</span>,<br>        <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;relatedVideoType&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;selectTab&quot;</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-string">&quot;abExtInfo&quot;</span>: <span class="hljs-literal">null</span><br>      &#125;,<br>      &#123;<br>        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">243123</span>,<br>        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;致敬英雄&quot;</span>,<br>        <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;relatedVideoType&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;selectTab&quot;</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-string">&quot;abExtInfo&quot;</span>: <span class="hljs-literal">null</span><br>      &#125;,<br>      &#123;<br>        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">254120</span>,<br>        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;滚石唱片行&quot;</span>,<br>        <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;relatedVideoType&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;selectTab&quot;</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-string">&quot;abExtInfo&quot;</span>: <span class="hljs-literal">null</span><br>      &#125;,<br>      &#123;<br>        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">249121</span>,<br>        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;宫崎骏&quot;</span>,<br>        <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;relatedVideoType&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;selectTab&quot;</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-string">&quot;abExtInfo&quot;</span>: <span class="hljs-literal">null</span><br>      &#125;,<br>    ],<br>    <span class="hljs-comment">//默认选中项</span><br>    <span class="hljs-attr">selectedId</span>:<span class="hljs-string">&#x27;58100&#x27;</span><br>  &#125;,<br>  <span class="hljs-comment">//单击标签跳转到指定标签</span><br>  <span class="hljs-title function_">changNavTab</span>(<span class="hljs-params">event</span>)&#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>(&#123;<br>      <span class="hljs-attr">selectedId</span>:event.<span class="hljs-property">target</span>.<span class="hljs-property">id</span><br>    &#125;)<br>  &#125;,<br><br>&#125;)<br></code></pre></td></tr></table></figure><p><strong>wxss</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/* pages/bar/bar.wxss */</span><br><span class="hljs-selector-class">.nav-tab</span>&#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">white-space</span>: nowrap;<br>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">15</span>rpx;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">60</span>rpx;<br>  <span class="hljs-comment">/* flex-wrap: nowrap; */</span><br>&#125;<br><span class="hljs-selector-class">.nav-tab</span> <span class="hljs-selector-class">.nav</span> &#123;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">10</span>rpx;<br>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-number">10</span>rpx;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">60</span>rpx;<br>&#125;<br><span class="hljs-selector-class">.nav-tab</span> <span class="hljs-selector-class">.nav</span> <span class="hljs-selector-class">.nav-item</span>&#123;<br>  <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-number">7</span>rpx;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">28</span>rpx;<br>&#125;<br><span class="hljs-selector-class">.nav-tab</span> <span class="hljs-selector-class">.nav</span> <span class="hljs-selector-class">.nav-item</span><span class="hljs-selector-class">.active</span>&#123;<br>  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1</span>rpx solid <span class="hljs-number">#ee5d44</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="用户转发分享和自定义转发分享内容"><a href="#用户转发分享和自定义转发分享内容" class="headerlink" title="用户转发分享和自定义转发分享内容"></a>用户转发分享和自定义转发分享内容</h3><p>如果想要区分是当前页面调用了button触发的分享还是右上角转发菜单触发的分享,只需要在<code>onShareAppMessage</code>回调当中结构出<code>from</code>,通过from判断</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">onShareAppMessage</span>(<span class="hljs-params">&#123;<span class="hljs-keyword">from</span>&#125;</span>) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">from</span> === <span class="hljs-string">&#x27;menu&#x27;</span>) &#123;<br>    <span class="hljs-comment">//右上角转发菜单调用的分享</span><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-comment">//为按钮调用的分享</span><br>    <br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="button实现"><a href="#button实现" class="headerlink" title="button实现"></a>button实现</h4><ul><li>通过设置button的<code>open-type</code>属性为share,即成为了一个分享功能的按钮,其实这样子已经可以使用了,但是我们可以自定义分享的图片和标题~</li><li>想要自定义,就需要在对应页面的js文件当中添加<code>onShareAppMessage</code>回调</li><li><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onShareAppMessage-Object-object">@官网API-onShareAppMessage</a></li></ul><p>wxml</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--pages/share/share.wxml--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">open-type</span>=<span class="hljs-string">&quot;share&quot;</span>&gt;</span>单击我分享<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure><p>js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// pages/share/share.js</span><br><span class="hljs-title class_">Page</span>(&#123;<br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 用户点击右上角分享</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-title function_">onShareAppMessage</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">//如果都留空,则都采取默认值</span><br>    <span class="hljs-keyword">return</span> &#123;<br>      <span class="hljs-attr">title</span>:<span class="hljs-string">&quot;我来分享啦~~~我是自定义内容&quot;</span>,<br>      <span class="hljs-attr">imageUrl</span>:<span class="hljs-string">&quot;https://dreamlove.top/img/favicon.png&quot;</span><br>    &#125;<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure><p>自定义内容后的效果</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207132040598.png"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207132040135.png" alt="默认值效果,图片为自动截取的"></p><h3 id="微信小程序背景音频的播放"><a href="#微信小程序背景音频的播放" class="headerlink" title="微信小程序背景音频的播放"></a>微信小程序背景音频的播放</h3><ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/api/media/background-audio/wx.getBackgroundAudioManager.html">@官方API - BackgroundAudioManager</a></li><li><a href="https://developers.weixin.qq.com/miniprogram/dev/api/media/background-audio/BackgroundAudioManager.html">@官方API - BackgroundAudioManager 实例</a></li><li>大体步骤如下</li></ul><h4 id="1-获取全局唯一的背景音频管理对象-返回BackgroundAudioManager-实例"><a href="#1-获取全局唯一的背景音频管理对象-返回BackgroundAudioManager-实例" class="headerlink" title="(1)获取全局唯一的背景音频管理对象,返回BackgroundAudioManager 实例"></a>(1)获取全局唯一的背景音频管理对象,返回BackgroundAudioManager 实例</h4><ul><li><p><a href="https://developers.weixin.qq.com/miniprogram/dev/api/media/background-audio/wx.getBackgroundAudioManager.html">@官方API - BackgroundAudioManager</a></p></li><li><p>注意的是</p><ul><li><p>从微信客户端6.7.2版本开始，若需要在小程序切后台后继续播放音频，需要在 <a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html">app.json</a> 中配置 <code>requiredBackgroundModes</code> 属性。开发版和体验版上可以直接生效，正式版还需通过审核。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;requiredBackgroundModes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-string">&quot;audio&quot;</span><br>  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure></li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">onLoad</span>(<span class="hljs-params">options</span>) &#123;<br>    <span class="hljs-comment">//获取全局唯一的背景音频管理对象</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">musicManager</span> = wx.<span class="hljs-title function_">getBackgroundAudioManager</span>();<br>&#125;,<br></code></pre></td></tr></table></figure><h4 id="2-操作BackgroundAudioManager-实例"><a href="#2-操作BackgroundAudioManager-实例" class="headerlink" title="(2)操作BackgroundAudioManager 实例"></a>(2)操作BackgroundAudioManager 实例</h4><ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/api/media/background-audio/BackgroundAudioManager.html">@官方API - BackgroundAudioManager 实例</a></li><li>比较常用的实例<strong>属性</strong><ul><li><code>startTime</code>: 音频开始播放的位置（单位：s）。</li><li><code>src</code>:音频的数据源（2.2.3 开始支持云文件ID）。默认为空字符串，当设置了新的 src 时，会自动开始播放，目前支持的格式有 m4a, aac, mp3, wav。</li><li><code>title</code>:**(必填)**音频标题，用于原生音频播放器音频标题（必填）。原生音频播放器中的分享功能，分享出去的卡片标题，也将使用该值。</li><li><code>duration</code>:当前音频的长度（单位：s），只有在有合法 src 时返回。（只读）</li><li><code>currentTime</code>:当前音频的播放位置（单位：s），只有在有合法 src 时返回。（只读）</li></ul></li><li>比较常用的<strong>方法</strong><ul><li><code>play()</code>: 播放音乐</li><li><code>pause()</code>: 暂停音乐</li><li><code>seek(跳转到的位置)</code>: 跳转到指定位置(单位为s)</li><li><code>onTimeUpdate(callback)</code>:监听背景音频播放进度更新事件，只有小程序在前台时会回调。</li><li><code>onEnded()</code>:监听背景音频自然播放结束事件</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">onLoad</span>(<span class="hljs-params">options</span>) &#123;<br>  <span class="hljs-comment">//获取全局唯一的背景音频管理对象</span><br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">musicManager</span> = wx.<span class="hljs-title function_">getBackgroundAudioManager</span>();<br>  <span class="hljs-comment">//设置背景音频管理对象的一些属性</span><br>    <span class="hljs-comment">//当设置了src的时候,音频会自动播放</span><br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">musicManager</span>.<span class="hljs-property">src</span> = <span class="hljs-string">&quot; http://downsc.chinaz.net/Files/DownLoad/sound1/201906/11582.mp3&quot;</span>;<br>  <span class="hljs-comment">//还必须要设置title属性</span><br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">musicManager</span>.<span class="hljs-property">title</span> = <span class="hljs-string">&quot;测试音频&quot;</span>;<br>&#125;,<br></code></pre></td></tr></table></figure><h3 id="微信小程序的授权登录和获取openid"><a href="#微信小程序的授权登录和获取openid" class="headerlink" title="微信小程序的授权登录和获取openid"></a>微信小程序的授权登录和获取openid</h3><h4 id="wx-getUserProfile-2022-年-10-月-25-日-24-时后-会失效"><a href="#wx-getUserProfile-2022-年-10-月-25-日-24-时后-会失效" class="headerlink" title="wx.getUserProfile( 2022 年 10 月 25 日 24 时后 会失效)"></a>wx.getUserProfile( 2022 年 10 月 25 日 24 时后 会失效)</h4><ul><li><p><a href="https://developers.weixin.qq.com/miniprogram/dev/api/open-api/user-info/wx.getUserProfile.html">@官方API地址</a></p></li><li><p><a href="https://developers.weixin.qq.com/community/develop/doc/00022c683e8a80b29bed2142b56c01">@即将废弃公告</a></p></li><li><p>授权动作只会发生一次,必须要清除缓存后才可以重新请求授权,并且<strong>授权信息永不过期</strong></p></li><li><p>授权过程如下</p></li></ul><h5 id="1-button按钮绑定回调"><a href="#1-button按钮绑定回调" class="headerlink" title="(1).button按钮绑定回调"></a>(1).button按钮绑定回调</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--pages/userprofile/userprofile.wxml--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">&quot;handleUserInfo&quot;</span>&gt;</span>单击我申请授权<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="2-自定义一个函数-这里取名-handleUserInfo-并且添加wx-getUserProfile方法-需要注意的是-事件名都是小写"><a href="#2-自定义一个函数-这里取名-handleUserInfo-并且添加wx-getUserProfile方法-需要注意的是-事件名都是小写" class="headerlink" title="(2).自定义一个函数,这里取名  handleUserInfo 并且添加wx.getUserProfile方法 需要注意的是,事件名都是小写"></a>(2).自定义一个函数,这里取名  handleUserInfo 并且添加wx.getUserProfile方法 需要注意的是,<strong>事件名都是小写</strong></h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// pages/userprofile/userprofile.js</span><br><span class="hljs-title function_">handleUserInfo</span>(<span class="hljs-params"></span>) &#123;<br>    wx.<span class="hljs-title function_">getUserProfile</span>(&#123;<br>      <span class="hljs-attr">desc</span>: <span class="hljs-string">&#x27;请求授权&#x27;</span>,<br>      <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;用户同意授权&quot;</span>);<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);<br>      &#125;,<br>      <span class="hljs-attr">fail</span>: <span class="hljs-function">(<span class="hljs-params">reason</span>) =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;用户拒绝授权&quot;</span>);<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(reason);<br>      &#125;<br>    &#125;)<br>  &#125;,<br></code></pre></td></tr></table></figure><h5 id="3-处理授权结果"><a href="#3-处理授权结果" class="headerlink" title="(3).处理授权结果"></a>(3).处理授权结果</h5><ul><li>成功结果输出</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207132155886.png"></p><ul><li>失败结果输出</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">&#123;<span class="hljs-attr">errMsg</span>: <span class="hljs-string">&quot;getUserProfile:fail getUserProfile:fail auth deny&quot;</span>&#125;<br></code></pre></td></tr></table></figure><h4 id="获取openid"><a href="#获取openid" class="headerlink" title="获取openid"></a>获取openid</h4><ul><li><p><a href="https://developers.weixin.qq.com/miniprogram/dev/api/open-api/login/wx.login.html">@官方API - wx.login</a></p></li><li><p><a href="https://developers.weixin.qq.com/miniprogram/dev/api-backend/open-api/login/auth.code2Session.html">@官方API - auth.code2Session</a></p></li><li><p><code>wx.login</code>与<code>auth.code2Session</code>结合使用</p></li><li><p><strong>wx.login</strong></p><ul><li>调用接口获取登录凭证（code）。通过凭证进而换取用户登录态信息，包括用户在当前小程序的唯一标识（openid）、微信开放平台帐号下的唯一标识（unionid，若当前小程序已绑定到微信开放平台帐号）及本次登录的会话密钥（session_key）等。用户数据的加解密通讯需要依赖会话密钥完成。</li></ul></li><li><p><strong>auth.code2Session</strong></p><ul><li>登录凭证校验。通过 <a href="https://developers.weixin.qq.com/miniprogram/dev/api/open-api/login/wx.login.html">wx.login</a> 接口获得临时登录凭证 code 后传到开发者服务器调用此接口完成登录流程。更多使用方法详见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/login.html">小程序登录</a></li></ul></li><li><p>步骤如下</p></li></ul><h5 id="1-wx-login获取登录凭证"><a href="#1-wx-login获取登录凭证" class="headerlink" title="(1).wx.login获取登录凭证"></a>(1).wx.login获取登录凭证</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">handleOpenid</span>(<span class="hljs-params"></span>) &#123;<br>  wx.<span class="hljs-title function_">login</span>(&#123;<br>    <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>      <span class="hljs-comment">//获取登录凭证</span><br>      <span class="hljs-keyword">let</span> code = res.<span class="hljs-property">code</span>;<br>    &#125;<br>  &#125;)<br>&#125;,<br></code></pre></td></tr></table></figure><h5 id="2-有了登录凭证-再通过auth-code2Session获取openid"><a href="#2-有了登录凭证-再通过auth-code2Session获取openid" class="headerlink" title="(2).有了登录凭证,再通过auth.code2Session获取openid"></a>(2).有了登录凭证,再通过auth.code2Session获取openid</h5><ul><li>这里我没有自己后台服务器,就直接这样子用了,其实可以通过后台来调用,这样子就不会泄露自己的开发信息了</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//获取openid</span><br><span class="hljs-title function_">handleOpenid</span>(<span class="hljs-params"></span>) &#123;<br>  wx.<span class="hljs-title function_">login</span>(&#123;<br>    <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>      <span class="hljs-comment">//获取登录凭证</span><br>      <span class="hljs-keyword">let</span> code = res.<span class="hljs-property">code</span>;<br>      <span class="hljs-keyword">if</span> (code) &#123;<br>        <span class="hljs-comment">//凭证存在,接着请求换取openid</span><br>        wx.<span class="hljs-title function_">request</span>(&#123;<br>          <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;https://api.weixin.qq.com/sns/jscode2session&#x27;</span>,<br>          <span class="hljs-attr">data</span>: &#123;<br>            <span class="hljs-comment">//登陆换取的凭证</span><br>            <span class="hljs-attr">js_code</span>: code,<br>            <span class="hljs-comment">//小程序的appid</span><br>            <span class="hljs-attr">appid</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-comment">//小程序的APPSecret</span><br>            <span class="hljs-attr">secret</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-comment">//授权类型,固定值authorization_code</span><br>            <span class="hljs-attr">grant_type</span>: <span class="hljs-string">&quot;authorization_code&quot;</span>,<br>          &#125;,<br>          <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;获取openid成功&quot;</span>);<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);<br>          &#125;,<br>          <span class="hljs-attr">fail</span>: <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> &#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;获取openid失败&quot;</span>, error);<br>          &#125;<br>        &#125;)<br>      &#125;<br>    &#125;<br>  &#125;)<br>&#125;,<br></code></pre></td></tr></table></figure><h5 id="3-处理结果"><a href="#3-处理结果" class="headerlink" title="(3).处理结果"></a>(3).处理结果</h5><ul><li>授权成功输出</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207132209939.png"></p><ul><li>授权失败输出这里错误的appid</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207132210583.png"></p><h3 id="小程序更新数据状态的区别"><a href="#小程序更新数据状态的区别" class="headerlink" title="小程序更新数据状态的区别"></a>小程序更新数据状态的区别</h3><ul><li>实时更新(每发一次请求就更新一部分数据)<ul><li>优点: 用户等待时间较短</li><li>缺点: 多次更新页面</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">for</span>(循环请求数据)&#123;<br>    <span class="hljs-keyword">let</span> 请求的数据 = 发送请求;<br>    <span class="hljs-comment">//实时更新数据</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>(&#123;<br>        <span class="hljs-attr">topList</span>:resultArray<br>    &#125;);<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>统一更新<ul><li>优点: 减少更新的次数,只更新1次</li><li>缺点: 网络较差的时候用户等待时间过长,可能会看到白屏</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> 全部数据 ; <br><span class="hljs-keyword">for</span>(循环请求数据)&#123;<br>    <span class="hljs-keyword">let</span> 请求的数据 = 发送请求;<br>    将请求的数据添加到全部数据<br>&#125;<br><span class="hljs-comment">//统一更新数据</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>(&#123;<br>        <span class="hljs-attr">topList</span>:全部数据<br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="小程序的数据存储"><a href="#小程序的数据存储" class="headerlink" title="小程序的数据存储"></a>小程序的数据存储</h3><ul><li><p><a href="https://developers.weixin.qq.com/miniprogram/dev/api/storage/wx.setStorageSync.html">@官方API - 操作数据存储</a></p></li><li><p>不同小程序的数据存储相互独立,互不干扰. <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/ability/storage.html">@官方解释网站</a></p></li><li><p>同一个微信用户，同一个小程序 storage 上限为 10MB。storage 以用户维度隔离，同一台设备上，A 用户无法读取到 B 用户的数据；不同小程序之间也无法互相读写数据。</p></li><li><p>插件隔离策略</p><ul><li>同一小程序使用不同插件：不同插件之间，插件与小程序之间 storage 不互通。</li><li>不同小程序使用同一插件：同一插件 storage 不互通。</li></ul></li><li><p>与h5的storage不同的是,<strong>h5的需要转化为json格式的字符串后存储</strong>,而<strong>小程序可以直接存储对象,也可以存储json格式字符串</strong></p></li></ul><h4 id="wx-setStorageSync-存数据"><a href="#wx-setStorageSync-存数据" class="headerlink" title="wx.setStorageSync(存数据)"></a>wx.setStorageSync(存数据)</h4><ul><li>将数据存储在本地缓存中指定的 key 中。会覆盖掉原来该 key 对应的内容。除非用户主动删除或因存储空间原因被系统清理，否则数据都一直可用。单个 key 允许存储的最大数据长度为 1MB，所有数据存储上限为 10MB。</li></ul><p> 示例 - 直接存储对象</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> data = &#123;<br>  <span class="hljs-string">&quot;objects&quot;</span>: [&#123;<br>  <span class="hljs-string">&quot;ID&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,<br>  <span class="hljs-string">&quot;JobTitle&quot;</span>: <span class="hljs-string">&quot;Software Engineer&quot;</span>,<br>  <span class="hljs-string">&quot;EmailAddress&quot;</span>: <span class="hljs-string">&quot;Gil_West3007@elnee.tech&quot;</span>,<br>  <span class="hljs-string">&quot;FirstNameLastName&quot;</span>: <span class="hljs-string">&quot;Gil West&quot;</span><br>&#125;,<br>&#123;<br>  <span class="hljs-string">&quot;ID&quot;</span>: <span class="hljs-string">&quot;2&quot;</span>,<br>  <span class="hljs-string">&quot;JobTitle&quot;</span>: <span class="hljs-string">&quot;Associate Professor&quot;</span>,<br>  <span class="hljs-string">&quot;EmailAddress&quot;</span>: <span class="hljs-string">&quot;Leslie_Little2936@naiker.biz&quot;</span>,<br>  <span class="hljs-string">&quot;FirstNameLastName&quot;</span>: <span class="hljs-string">&quot;Leslie Little&quot;</span><br>&#125;,<br>  ]<br>&#125;<br>wx.<span class="hljs-title function_">setStorageSync</span>(<span class="hljs-string">&#x27;userInfo&#x27;</span>, data.<span class="hljs-property">objects</span>);<br></code></pre></td></tr></table></figure><p>调试器信息 - Storage项</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207140855828.png"></p><h4 id="wx-getStorageSync-取数据"><a href="#wx-getStorageSync-取数据" class="headerlink" title="wx.getStorageSync(取数据)"></a>wx.getStorageSync(取数据)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> data1 = wx.<span class="hljs-title function_">getStorageSync</span>(<span class="hljs-string">&#x27;userInfo&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;获取的数据&quot;</span>,data1);<br></code></pre></td></tr></table></figure><p>调试器输出信息</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207140857570.png"></p><h3 id="小程序scroll-view的下拉刷新"><a href="#小程序scroll-view的下拉刷新" class="headerlink" title="小程序scroll-view的下拉刷新"></a>小程序scroll-view的下拉刷新</h3><ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/component/scroll-view.html">@官方API-scroll-view组件</a></li><li>scroll-view需要开启和设置的属性<ul><li><code>refresher-triggered</code>: 设置当前下拉刷新状态，true 表示下拉刷新已经被触发，false 表示下拉刷新未被触发(会显示相应的效果)</li><li><code>refresher-enabled</code>:  是否开启自定义下拉刷新,true开启,false关闭(默认)</li></ul></li><li>scroll-view需要添加的回调或监听<ul><li><code>bindrefresherrefresh</code>:自定义下拉刷新被触发</li></ul></li><li>scroll-view需要实现上拉加载更多只需要添加<ul><li><code>bindscrolltolower</code> 滚动到底部&#x2F;右边时触发就可以</li></ul></li><li><strong>顺带一提</strong><ul><li>使用<code>calc</code>计算scroll-view的高度的时候,calc的计算符号和数字之间必须要分开来才可以,否者计算会无效!并且如果小程序有tabBar(底部导航),可以不用减去底部导航的高度(小程序会自动处理)</li></ul></li></ul><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><ul><li>模拟请求发送数据,1s后关闭下拉刷新并显示提示</li></ul><p><strong>效果图</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207140914075.gif"></p><p><strong>wxml</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--pages/refreshscroll/refreshscroll.wxml--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">scroll-view</span>  <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item-container&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">scroll-y</span> <span class="hljs-attr">refresher-enabled</span> </span><br><span class="hljs-tag"><span class="hljs-attr">refresher-triggered</span>=<span class="hljs-string">&quot;&#123;&#123;isRefresh&#125;&#125;&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">bindrefresherrefresh</span>=<span class="hljs-string">&quot;handlePullRefresh&quot;</span></span><br><span class="hljs-tag">&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span>我是内容<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span>我是内容<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span>我是内容<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span>我是内容<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span>我是内容<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">scroll-view</span>&gt;</span><br><br></code></pre></td></tr></table></figure><p><strong>js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// pages/refreshscroll/refreshscroll.js</span><br><span class="hljs-title class_">Page</span>(&#123;<br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 页面的初始数据</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">data</span>: &#123;<br>    <span class="hljs-attr">isRefresh</span>:<span class="hljs-literal">false</span>,<span class="hljs-comment">//是否处于正在刷新的状态</span><br>  &#125;,<br>  <span class="hljs-title function_">handlePullRefresh</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-comment">// console.log(&quot;用户下拉刷新了&quot;);</span><br>    <span class="hljs-comment">//当用户触发下拉刷新,data当中的&#x27;isRefresh&#x27;的值会自动被小程序更改为true</span><br>    <span class="hljs-comment">//模拟请求发送数据,1s后关闭下拉刷新并显示提示</span><br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>        <span class="hljs-comment">//设置当前下拉刷新状态</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>(&#123;<br>          <span class="hljs-attr">isRefresh</span>:<span class="hljs-literal">false</span><br>        &#125;);<br>        <span class="hljs-comment">//显示用户提示</span><br>        wx.<span class="hljs-title function_">showToast</span>(&#123;<br>          <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;刷新成功!&#x27;</span>,<br>        &#125;);<br>    &#125;,<span class="hljs-number">1000</span>);<br>  &#125;,<br>&#125;)<br></code></pre></td></tr></table></figure><p><strong>wxss</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/* pages/refreshscroll/refreshscroll.wxss */</span><br><span class="hljs-selector-class">.item-container</span>&#123;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1</span>rpx solid red;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">400</span>rpx;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="为什么小程序没有引入css样式都会生效"><a href="#为什么小程序没有引入css样式都会生效" class="headerlink" title="为什么小程序没有引入css样式都会生效?"></a>为什么小程序没有引入css样式都会生效?</h3><ul><li><p>在html开发的时候,我们会通过@import或者link标签来引入css文件,但是微信小程序却不用我们去引入,那是为什么?</p></li><li><p>我们在<code>app.json</code>的配置项<code>pages</code>已经书写了一条,比如下面代码,我们知道,所有页面都需要写在<code>pages</code>当中</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;pages&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-string">&quot;pages/index/index&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;sitemapLocation&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;sitemap.json&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure></li><li><p>在我们进入页面,比如说<code>index</code>页面的时候,小程序回去寻找<code>pages/index</code>文件夹,然后依次访问,寻找与访问页面同名的文件,<code>index.wxml,</code>  <code>index.wxss</code>  ,<code>index.js</code>  ,<code>index.json</code> </p><ul><li>所以你可以试试看,把<code>index.wxss</code>改为<code>index11.wxss</code>,然后再去访问<code>index</code>页面,就会丢失样式</li></ul></li></ul><h3 id="import-和import-引入css区别和小程序引入css"><a href="#import-和import-引入css区别和小程序引入css" class="headerlink" title="@import 和import 引入css区别和小程序引入css?"></a>@import 和import 引入css区别和小程序引入css?</h3><ul><li>一句话@import引入css样式在html文件,或者css文件当中,</li><li>而import是用来引入模块的,当然,如果有webpack工具也是可以通过import引入css文件的</li></ul><h4 id="import的用法"><a href="#import的用法" class="headerlink" title="@import的用法"></a>@import的用法</h4><ul><li>(1) html当中的link标签中使用</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;css文件路径&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><ul><li>(2) html当中的style标签中使用</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span><br><span class="language-css"></span><br><span class="language-css"><span class="hljs-keyword">@import</span> url(css文件路径);</span><br><span class="language-css"></span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>(3) css文件当中引入</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">@<span class="hljs-keyword">import</span> <span class="hljs-title function_">url</span>(css文件路径);<br></code></pre></td></tr></table></figure><h4 id="import区别"><a href="#import区别" class="headerlink" title="@import区别"></a>@import区别</h4><ul><li>link是XHTML标签，除了加载CSS外，还可以定义RRS等其他事务。@import属于CSS范畴，只能加载CSS</li><li>link引用CSS样式，是和页面加载同步进行加载，@import是等页面加载完后才开始加载。</li><li>link是XHTML标签，无兼容问题；@import是在CSS2.1提出的，低版本的浏览器不支持。</li><li>link支持使用Javascript控制DOM去改变样式；而@import不支持。</li></ul><h4 id="小程序引入css"><a href="#小程序引入css" class="headerlink" title="小程序引入css"></a>小程序引入css</h4><ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxss.html">@ 官方API - wxss</a></li><li>使用<code>@import</code>语句可以导入外联样式表，<code>@import</code>后跟需要导入的外联样式表的相对路径，用<code>;</code>表示语句结束</li></ul><p>示例</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/** app.wxss **/</span><br><span class="hljs-keyword">@import</span> <span class="hljs-string">&quot;common.wxss&quot;</span>;<br><span class="hljs-selector-class">.middle-p</span> &#123;<br>  <span class="hljs-attribute">padding</span>:<span class="hljs-number">15px</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="微信小程序动态类-class"><a href="#微信小程序动态类-class" class="headerlink" title="微信小程序动态类(class)"></a>微信小程序动态类(class)</h3><ul><li>vue的时候动态类</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//vue代码</span><br>&lt;div :<span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;&#123; colorRed: isShow &#125;&quot;</span>&gt;哈哈哈&lt;/div&gt;<br><br><span class="hljs-comment">//js代码</span><br><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> &#123;<br>  <span class="hljs-attr">isShow</span>: <span class="hljs-literal">true</span><br>  &#125;<br>&#125;<br><br><span class="hljs-comment">//css 类名</span><br>.<span class="hljs-property">colorRed</span> &#123;<br><span class="hljs-attr">color</span>:red;<br>&#125;<br>.<span class="hljs-property">colorBlue</span>&#123;<br><span class="hljs-attr">color</span>:blue;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>小程序的动态类</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!--pages/classdongtai/classdongtai.<span class="hljs-property">wxml</span>--&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item &#123;&#123;activeIndex === 0?&#x27;active&#x27;:&#x27;&#x27;&#125;&#125;&quot;</span>&gt;</span>动感超人<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></span><br><br><span class="hljs-comment">// pages/classdongtai/classdongtai.js</span><br><span class="hljs-attr">data</span>: &#123;<br><span class="hljs-attr">activeIndex</span>:<span class="hljs-number">0</span><br>&#125;,<br><br><span class="hljs-comment">/* pages/classdongtai/classdongtai.wxss */</span><br>.<span class="hljs-property">item</span>.<span class="hljs-property">active</span>&#123;<br>  <span class="hljs-attr">color</span>: red;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="使用事件委托，children层存在嵌套时无法获取标识符id，非嵌套时可以如期获取-嵌套获取不到标识符id的解决办法"><a href="#使用事件委托，children层存在嵌套时无法获取标识符id，非嵌套时可以如期获取-嵌套获取不到标识符id的解决办法" class="headerlink" title="使用事件委托，children层存在嵌套时无法获取标识符id，非嵌套时可以如期获取,嵌套获取不到标识符id的解决办法"></a>使用事件委托，children层存在嵌套时无法获取标识符id，非嵌套时可以如期获取,嵌套获取不到标识符id的解决办法</h3><ul><li>有人提出这个问题,然后我自己也遇到了这个问题,就来记录下</li><li>先说嵌套时候的解决办法<ul><li>通过为子元素添加mark属性</li><li><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#mark">@官方API - mark属性</a></li></ul></li><li>mark属性简介<ul><li>在基础库版本 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.7.1</a> 以上，可以使用 <code>mark</code> 来识别具体触发事件的 target 节点。此外， <code>mark</code> 还可以用于承载一些自定义数据（类似于 <code>dataset</code> ）。</li><li>当事件触发时，事件冒泡路径上所有的 <code>mark</code> 会被合并，并返回给事件回调函数。（即使事件不是冒泡事件，也会 <code>mark</code> 。）</li></ul></li></ul><h4 id="委派子元素层存在嵌套获取不到标识符id的情况的演示"><a href="#委派子元素层存在嵌套获取不到标识符id的情况的演示" class="headerlink" title="委派子元素层存在嵌套获取不到标识符id的情况的演示"></a>委派子元素层存在嵌套获取不到标识符id的情况的演示</h4><ul><li>本来想通过事件委派,然后通过<code>event.target.id</code>来获取是哪一个元素所触发的,这样子方便寻找数据,但是实际情况却是,当单击到了子元素嵌套的元素的时候,就获取不到<code>id</code>了</li></ul><p>演示动画,可以看到,单击子元素内部的索引号或者邮箱地址的时候,出现获取不到<code>id</code>的情况</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141034821.gif"></p><h4 id="委派子元素层存在嵌套获取id的办法-通过mark属性"><a href="#委派子元素层存在嵌套获取id的办法-通过mark属性" class="headerlink" title="委派子元素层存在嵌套获取id的办法-通过mark属性"></a>委派子元素层存在嵌套获取id的办法-通过mark属性</h4><ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#mark">@官方API - mark</a></li></ul><p>实现代码</p><p><strong>wxml</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--pages/weipaimark/weipaimark.wxml--&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;list-container&quot;</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">&quot;handleClick&quot;</span> &gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item&quot;</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">&quot;&#123;&#123;userInfo&#125;&#125;&quot;</span> <span class="hljs-attr">wx:key</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">mark:index</span>=<span class="hljs-string">&quot;&#123;&#123;index&#125;&#125;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>索引号&#123;&#123;index&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>邮箱地址:&#123;&#123;item.EmailAddress&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">handleClick</span>(<span class="hljs-params">event</span>)&#123;<br><span class="hljs-comment">//一旦单击到子元素内容,就会输出为空</span><br><span class="hljs-comment">// console.log(event.target.id);</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event.<span class="hljs-property">mark</span>.<span class="hljs-property">index</span>);<br>&#125;,<br></code></pre></td></tr></table></figure><p><strong>wxss</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/* pages/weipaimark/weipaimark.wxss */</span><br><br><span class="hljs-selector-class">.list-container</span>&#123;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1</span>rpx solid red;<br>&#125;<br><span class="hljs-selector-class">.list-container</span> <span class="hljs-selector-class">.item</span>&#123;<br>  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10</span>rpx;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid blue;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>演示效果</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141039723.gif"></p><h3 id="其他知识点"><a href="#其他知识点" class="headerlink" title="其他知识点"></a>其他知识点</h3><h4 id="js操作的键值为变量的时候-需要使用中括号"><a href="#js操作的键值为变量的时候-需要使用中括号" class="headerlink" title="js操作的键值为变量的时候,需要使用中括号"></a>js操作的键值为变量的时候,需要使用中括号</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// pages/refreshscroll/refreshscroll.js</span><br><span class="hljs-title class_">Page</span>(&#123;<br>  <span class="hljs-attr">data</span>: &#123;<br>    <span class="hljs-attr">priority</span>: &#123;<br>      <span class="hljs-comment">// 优先级</span><br>      <span class="hljs-string">&#x27;vip&#x27;</span>: <span class="hljs-number">1111</span>,<br>      <span class="hljs-string">&#x27;user&#x27;</span>: <span class="hljs-number">1</span>,<br>    &#125;,<br>  &#125;,<br>  <span class="hljs-title function_">onLoad</span>(<span class="hljs-params">options</span>) &#123;<br>    <span class="hljs-keyword">let</span> type = <span class="hljs-string">&#x27;vip&#x27;</span>;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>(&#123;<br>      [type]:<span class="hljs-number">9999</span><br>    &#125;);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">priority</span>);<br>  &#125;,<br><br>&#125;)<br></code></pre></td></tr></table></figure><h4 id="判断类型的时候-老师说最好是全等来判断"><a href="#判断类型的时候-老师说最好是全等来判断" class="headerlink" title="判断类型的时候,老师说最好是全等来判断"></a>判断类型的时候,老师说最好是全等来判断</h4><h4 id="位移运算符转化为数字"><a href="#位移运算符转化为数字" class="headerlink" title="位移运算符转化为数字"></a>位移运算符转化为数字</h4><ul><li>这里使用无符号右移运算符转换为数字~</li><li>如果转换过程中有字母,则返回0</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> a = <span class="hljs-string">&#x27;12&#x27;</span>;<br><span class="hljs-keyword">let</span> afterA = a &gt;&gt;&gt; <span class="hljs-number">0</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(afterA); <span class="hljs-comment">//12</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> afterA);<span class="hljs-comment">//number</span><br><br><span class="hljs-keyword">var</span> b = <span class="hljs-string">&#x27;a12a&#x27;</span>;<br><span class="hljs-keyword">let</span> afterB = b &gt;&gt;&gt; <span class="hljs-number">0</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(afterB); <span class="hljs-comment">//0</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> afterB);<span class="hljs-comment">//number</span><br><br><span class="hljs-keyword">var</span> c = <span class="hljs-string">&#x27;12a&#x27;</span>;<br><span class="hljs-keyword">let</span> afterC = c &gt;&gt;&gt; <span class="hljs-number">0</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(afterC); <span class="hljs-comment">//0</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> afterC);<span class="hljs-comment">//number</span><br></code></pre></td></tr></table></figure><ul><li>补充<ul><li><code>!</code> 一个感叹号表示取反</li><li><code>!!</code> 二个感叹号转化为布尔值</li><li><code>!!!</code> 三个感叹号表示转化为布尔值并取反</li></ul></li></ul><h4 id="object的toString和Array的toString和其他的toString"><a href="#object的toString和Array的toString和其他的toString" class="headerlink" title="object的toString和Array的toString和其他的toString"></a>object的toString和Array的toString和其他的toString</h4><ul><li><p><code>toString()</code>函数的作用是返回object的字符串表示，JavaScript中<strong>object默认的toString()方法</strong>返回字符串<code>[object Object]</code>。定义类时可以实现新的toString()方法，从而返回更加具有可读性的结果。</p></li><li><p>JavaScript对于数组对象、函数对象、正则表达式对象以及Date日期对象均定义了更加具有可读性的toString()方法：</p></li></ul><h5 id="object的toSting-经常用来判断数据类型"><a href="#object的toSting-经常用来判断数据类型" class="headerlink" title="object的toSting(经常用来判断数据类型)"></a>object的toSting(经常用来判断数据类型)</h5><ul><li>如果不是object,而是function,需要通过<code>Object.prototype.toSting.call()</code>来调用</li><li>通过toString()返回类型后可以通过<code>slice(8,-1)</code>来获取具体类型,代码功能为从索引为8的开始取,直到倒数第二个</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//object的toString</span><br><span class="hljs-keyword">let</span> userInfo = &#123;<br><span class="hljs-string">&quot;ID&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,<br><span class="hljs-string">&quot;JobTitle&quot;</span>: <span class="hljs-string">&quot;Software Engineer&quot;</span>,<br><span class="hljs-string">&quot;EmailAddress&quot;</span>: <span class="hljs-string">&quot;Gil_West3007@elnee.tech&quot;</span>,<br><span class="hljs-string">&quot;FirstNameLastName&quot;</span>: <span class="hljs-string">&quot;Gil West&quot;</span><br>&#125;;<br><span class="hljs-comment">//输出 [object Object]</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(userInfo.<span class="hljs-title function_">toString</span>()); <br><br> <span class="hljs-comment">//输出 数据类型 Object</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;数据类型取值&quot;</span>, userInfo.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">slice</span>(<span class="hljs-number">8</span>, -<span class="hljs-number">1</span>));<br><br><span class="hljs-comment">//其他的,比如说数组</span><br><span class="hljs-keyword">let</span> userList = [<span class="hljs-string">&#x27;用户1&#x27;</span>, <span class="hljs-string">&#x27;用户2&#x27;</span>];<br><br><span class="hljs-comment">//输出 [object Array]</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(userList));<br><br><span class="hljs-comment">//输出 数据类型取值 Array</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;数据类型取值&quot;</span>, <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(userList).<span class="hljs-title function_">slice</span>(<span class="hljs-number">8</span>, -<span class="hljs-number">1</span>));<br></code></pre></td></tr></table></figure><h5 id="array当中的toString"><a href="#array当中的toString" class="headerlink" title="array当中的toString"></a>array当中的toString</h5><ul><li>array当中的toString会返回以逗号分割的字符串</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"> <span class="hljs-comment">//array的toString</span><br><span class="hljs-keyword">let</span> userList = [<span class="hljs-string">&#x27;用户1&#x27;</span>,<span class="hljs-string">&#x27;用户2&#x27;</span>,<span class="hljs-string">&#x27;用户3&#x27;</span>];<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(userList.<span class="hljs-title function_">toString</span>());<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> userList.<span class="hljs-title function_">toString</span>());<br><br><span class="hljs-comment">//输出结果</span><br>用户<span class="hljs-number">1</span>,用户<span class="hljs-number">2</span>,用户<span class="hljs-number">3</span><br>string<br></code></pre></td></tr></table></figure><h5 id="函数的toString"><a href="#函数的toString" class="headerlink" title="函数的toString"></a>函数的toString</h5><ul><li>function的toString()方法将返回函数的文本定义</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//函数当中的toString</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">sayName</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;我叫将军大人&quot;</span>);<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(sayName.<span class="hljs-title function_">toString</span>());<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> sayName.<span class="hljs-title function_">toString</span>());<br><br><span class="hljs-comment">//输出结果</span><br>这个应该是字符串<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">sayName</span>(<span class="hljs-params"></span>)&#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;我叫将军大人&quot;</span>);<br>        &#125;<br><br>string<br></code></pre></td></tr></table></figure><h5 id="Date的toString"><a href="#Date的toString" class="headerlink" title="Date的toString"></a>Date的toString</h5><ul><li>Date的toString()方法将返回一个具有可读性的日期时间字符串</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// Date的toString()</span><br><span class="hljs-keyword">var</span> time = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(time.<span class="hljs-title function_">toString</span>());<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> time.<span class="hljs-title function_">toString</span>());<br><br><span class="hljs-comment">//输出</span><br><span class="hljs-title class_">Object</span>的toStirng和<span class="hljs-title class_">Array</span>的toString.<span class="hljs-property">html</span>:<span class="hljs-number">33</span> <span class="hljs-title class_">Thu</span> <span class="hljs-title class_">Jul</span> <span class="hljs-number">14</span> <span class="hljs-number">2022</span> <span class="hljs-number">09</span>:<span class="hljs-number">57</span>:<span class="hljs-number">49</span> <span class="hljs-variable constant_">GMT</span>+<span class="hljs-number">0800</span> (中国标准时间)<br>string<br></code></pre></td></tr></table></figure><h5 id="正则的toString"><a href="#正则的toString" class="headerlink" title="正则的toString"></a>正则的toString</h5><ul><li>RegExp的toString()方法与function的toString()方法类似，将返回正则表达式的文本定义</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// RegExp的toString()方法</span><br><span class="hljs-keyword">var</span> reg = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-regexp">/\w&#123;5,10&#125;/</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(reg.<span class="hljs-title function_">toString</span>());<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> reg.<span class="hljs-title function_">toString</span>());<br><br><span class="hljs-comment">//输出</span><br><span class="hljs-regexp">/\w&#123;5,10&#125;/</span><br>string<br></code></pre></td></tr></table></figure><h4 id="设计模式之单例模式-工厂模式简说"><a href="#设计模式之单例模式-工厂模式简说" class="headerlink" title="设计模式之单例模式,工厂模式简说"></a>设计模式之单例模式,工厂模式简说</h4><h5 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h5><ul><li>创建多个对象的情况下,使用一个变量来保存,始终只有一个对象</li><li>当创建新的对象的时候就会把之前的对象覆盖掉</li><li>可以节省内存空间</li></ul><h5 id="工厂模式"><a href="#工厂模式" class="headerlink" title="工厂模式"></a>工厂模式</h5><ul><li>根据不同的参数创建不同的对象</li></ul><h4 id="如果遍历的是数组里面的对象-那么修改遍历时候的遍历项-会影响原数组"><a href="#如果遍历的是数组里面的对象-那么修改遍历时候的遍历项-会影响原数组" class="headerlink" title="如果遍历的是数组里面的对象,那么修改遍历时候的遍历项,会影响原数组"></a>如果遍历的是数组里面的对象,那么修改遍历时候的遍历项,会影响原数组</h4><ul><li><p><a href="https://codepen.io/superbiubiuman/pen/JjLboVr">@在线演示</a></p></li><li><p>代码示例如下,可以看到,更改了找到的item项目后,原来的也会改变</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> array1 = [&#123;<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;李白1&#x27;</span>,<br>        <span class="hljs-attr">age</span>: <span class="hljs-number">18</span><br>    &#125;, &#123;<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;李白2&#x27;</span>,<br>        <span class="hljs-attr">age</span>: <span class="hljs-number">19</span><br>    &#125;, &#123;<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;李白3&#x27;</span>,<br>        <span class="hljs-attr">age</span>: <span class="hljs-number">20</span><br>    &#125;, &#123;<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;李白4&#x27;</span>,<br>        <span class="hljs-attr">age</span>: <span class="hljs-number">21</span><br>    &#125;];<br><span class="hljs-comment">//寻找年龄大于20的项目,返回找到的对象</span><br><span class="hljs-keyword">const</span> found = array1.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">element</span> =&gt;</span> element.<span class="hljs-property">age</span> &gt; <span class="hljs-number">20</span>);<br><span class="hljs-comment">//对寻找到的对象的年龄进行修改</span><br>found.<span class="hljs-property">age</span> = <span class="hljs-number">1888</span>;<br><span class="hljs-comment">//输出查看当前寻找到的对象</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(found);<span class="hljs-comment">//输出 item项目修改.html:31 &#123;name: &#x27;李白4&#x27;, age: 1888&#125;</span><br><span class="hljs-comment">//将原对象转化为字符串,避免干扰</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(array1));<span class="hljs-comment">//输出 [&#123;&quot;name&quot;:&quot;李白1&quot;,&quot;age&quot;:18&#125;,&#123;&quot;name&quot;:&quot;李白2&quot;,&quot;age&quot;:19&#125;,&#123;&quot;name&quot;:&quot;李白3&quot;,&quot;age&quot;:20&#125;,&#123;&quot;name&quot;:&quot;李白4&quot;,&quot;age&quot;:1888&#125;]</span><br></code></pre></td></tr></table></figure><h4 id="数组的includes-indexOf-find-findIndex-concat-slice-splice"><a href="#数组的includes-indexOf-find-findIndex-concat-slice-splice" class="headerlink" title="数组的includes,indexOf,find,findIndex ,concat ,slice,splice"></a>数组的includes,indexOf,find,findIndex ,concat ,slice,splice</h4><h5 id="includes"><a href="#includes" class="headerlink" title="includes"></a>includes</h5><ul><li><code>includes()</code> 方法用来判断一个数组是否包含一个指定的值，根据情况，如果包含则返回 <code>true</code>，否则返回 <code>false</code>。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> array1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(array1.<span class="hljs-title function_">includes</span>(<span class="hljs-number">2</span>));<br><span class="hljs-comment">// expected output: true</span><br><br><span class="hljs-keyword">const</span> pets = [<span class="hljs-string">&#x27;cat&#x27;</span>, <span class="hljs-string">&#x27;dog&#x27;</span>, <span class="hljs-string">&#x27;bat&#x27;</span>];<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(pets.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&#x27;cat&#x27;</span>));<br><span class="hljs-comment">// expected output: true</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(pets.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&#x27;at&#x27;</span>));<br><span class="hljs-comment">// expected output: false</span><br><br></code></pre></td></tr></table></figure><h5 id="indexOf"><a href="#indexOf" class="headerlink" title="indexOf"></a>indexOf</h5><ul><li><code>indexOf()</code>方法返回在数组中可以找到一个给定元素的第一个索引，如果不存在，则返回-1。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> beasts = [<span class="hljs-string">&#x27;ant&#x27;</span>, <span class="hljs-string">&#x27;bison&#x27;</span>, <span class="hljs-string">&#x27;camel&#x27;</span>, <span class="hljs-string">&#x27;duck&#x27;</span>, <span class="hljs-string">&#x27;bison&#x27;</span>];<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(beasts.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;bison&#x27;</span>));<br><span class="hljs-comment">// expected output: 1</span><br><br><span class="hljs-comment">// start from index 2</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(beasts.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;bison&#x27;</span>, <span class="hljs-number">2</span>));<br><span class="hljs-comment">// expected output: 4</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(beasts.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;giraffe&#x27;</span>));<br><span class="hljs-comment">// expected output: -1</span><br></code></pre></td></tr></table></figure><h5 id="find"><a href="#find" class="headerlink" title="find"></a>find</h5><ul><li>方法返回数组中满足提供的测试函数的第一个元素的值,<strong>找到后就会停止查找</strong>,否则返回 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a>。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> array1 = [<span class="hljs-number">5</span>, <span class="hljs-number">12</span>, <span class="hljs-number">8</span>, <span class="hljs-number">130</span>, <span class="hljs-number">44</span>];<br><span class="hljs-comment">//统计次数</span><br><span class="hljs-keyword">let</span> index = <span class="hljs-number">0</span><br><span class="hljs-keyword">const</span> found = array1.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">element</span> =&gt;</span> &#123;<br>    index++;<br>    <span class="hljs-keyword">return</span> element &gt; <span class="hljs-number">10</span><br>&#125;);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;查找的次数&quot;</span>, index); <span class="hljs-comment">//输出 2</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;搜索结果&#x27;</span>, found); <span class="hljs-comment">//输出 12</span><br></code></pre></td></tr></table></figure><h5 id="findIndex"><a href="#findIndex" class="headerlink" title="findIndex"></a>findIndex</h5><ul><li><code>findIndex()</code>方法返回数组中满足提供的测试函数的第一个元素的<strong>索引</strong>,<strong>找到后就会停止查找</strong>,若没有找到对应元素则返回-1。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> array1 = [<span class="hljs-number">5</span>, <span class="hljs-number">12</span>, <span class="hljs-number">8</span>, <span class="hljs-number">130</span>, <span class="hljs-number">44</span>];<br><span class="hljs-comment">//统计次数</span><br><span class="hljs-keyword">let</span> index = <span class="hljs-number">0</span><br><span class="hljs-keyword">const</span> found = array1.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">element</span> =&gt;</span> &#123;<br>    index++;<br>    <span class="hljs-keyword">return</span> element &gt; <span class="hljs-number">10</span><br>&#125;);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;查找的次数&quot;</span>, index); <span class="hljs-comment">//输出 2</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;搜索结果&#x27;</span>, found); <span class="hljs-comment">//输出 1</span><br></code></pre></td></tr></table></figure><h5 id="concat"><a href="#concat" class="headerlink" title="concat"></a>concat</h5><ul><li><code>concat()</code> 方法用于合并两个或多个数组。此方法<strong>不会更改现有数组</strong>，而是返回一个新数组。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> array1 = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>];<br><span class="hljs-keyword">const</span> array2 = [<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>];<br><span class="hljs-keyword">const</span> array3 = array1.<span class="hljs-title function_">concat</span>(array2);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(array3);<br><span class="hljs-comment">// expected output: Array [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]</span><br><br></code></pre></td></tr></table></figure><h5 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h5><ul><li><code>slice()</code> 方法返回一个新的数组对象，这一对象是一个由 <code>begin</code> 和 <code>end</code> 决定的原数组的<strong>浅拷贝</strong>（包括 <code>begin</code>，不包括<code>end</code>）相当于左闭右开。<strong>原始数组不会被改变</strong>。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> animals = [<span class="hljs-string">&#x27;ant&#x27;</span>, <span class="hljs-string">&#x27;bison&#x27;</span>, <span class="hljs-string">&#x27;camel&#x27;</span>, <span class="hljs-string">&#x27;duck&#x27;</span>, <span class="hljs-string">&#x27;elephant&#x27;</span>];<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(animals.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>));<br><span class="hljs-comment">// expected output: Array [&#x27;bison&#x27;, &#x27;camel&#x27;]</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(animals.<span class="hljs-title function_">slice</span>(<span class="hljs-number">2</span>));<br><span class="hljs-comment">// expected output: Array [&quot;camel&quot;, &quot;duck&quot;, &quot;elephant&quot;]</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(animals.<span class="hljs-title function_">slice</span>(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>));<br><span class="hljs-comment">// expected output: Array [&quot;camel&quot;, &quot;duck&quot;]</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(animals.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>));<br><span class="hljs-comment">// expected output: Array [&quot;bison&quot;, &quot;camel&quot;, &quot;duck&quot;, &quot;elephant&quot;]</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(animals.<span class="hljs-title function_">slice</span>(-<span class="hljs-number">2</span>));<br><span class="hljs-comment">// expected output: Array [&quot;duck&quot;, &quot;elephant&quot;]</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(animals.<span class="hljs-title function_">slice</span>(<span class="hljs-number">2</span>, -<span class="hljs-number">1</span>));<br><span class="hljs-comment">// expected output: Array [&quot;camel&quot;, &quot;duck&quot;]</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(animals.<span class="hljs-title function_">slice</span>());<br><span class="hljs-comment">// expected output: Array [&quot;ant&quot;, &quot;bison&quot;, &quot;camel&quot;, &quot;duck&quot;, &quot;elephant&quot;]</span><br><br></code></pre></td></tr></table></figure><h5 id="splice"><a href="#splice" class="headerlink" title="splice"></a>splice</h5><ul><li><code>splice()</code> 方法通过删除或替换现有元素或者原地添加新的元素来修改数组，并以数组形式返回被修改的内容。<strong>此方法会改变原数组。</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> months = [<span class="hljs-string">&#x27;Jan&#x27;</span>, <span class="hljs-string">&#x27;March&#x27;</span>, <span class="hljs-string">&#x27;April&#x27;</span>, <span class="hljs-string">&#x27;June&#x27;</span>];<br>months.<span class="hljs-title function_">splice</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;Feb&#x27;</span>);<br><span class="hljs-comment">// inserts at index 1</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(months);<br><span class="hljs-comment">// expected output: Array [&quot;Jan&quot;, &quot;Feb&quot;, &quot;March&quot;, &quot;April&quot;, &quot;June&quot;]</span><br><br>months.<span class="hljs-title function_">splice</span>(<span class="hljs-number">4</span>, <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;May&#x27;</span>);<br><span class="hljs-comment">// replaces 1 element at index 4</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(months);<br><span class="hljs-comment">// expected output: Array [&quot;Jan&quot;, &quot;Feb&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;]</span><br><br></code></pre></td></tr></table></figure><h4 id="calc计算高度时候的一个坑-因为符号问题"><a href="#calc计算高度时候的一个坑-因为符号问题" class="headerlink" title="calc计算高度时候的一个坑,因为符号问题"></a>calc计算高度时候的一个坑,因为符号问题</h4><ul><li><strong>错误的写法</strong>,运算符和操作数之间没有空格分开</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.video-scroll</span>&#123;<br><span class="hljs-attribute">height</span>:<span class="hljs-built_in">calc</span>(<span class="hljs-number">100vh</span>-<span class="hljs-number">83</span>rpx-<span class="hljs-number">60</span>rpx-<span class="hljs-number">15</span>rpx)<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>正确的写法,运算符和操作数之间用空格分开</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.video-scroll</span>&#123;<br><span class="hljs-attribute">height</span>:<span class="hljs-built_in">calc</span>(<span class="hljs-number">100vh</span> - <span class="hljs-number">83</span>rpx - <span class="hljs-number">60</span>rpx - <span class="hljs-number">15</span>rpx)<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="display-flex和float不能同时使用-因为display-flex开启后是内容撑开容器-float就无法浮动了-因为没有位置了"><a href="#display-flex和float不能同时使用-因为display-flex开启后是内容撑开容器-float就无法浮动了-因为没有位置了" class="headerlink" title="display:flex和float不能同时使用!!!因为display:flex开启后是内容撑开容器,float就无法浮动了,因为没有位置了"></a>display:flex和float不能同时使用!!!因为display:flex开启后是内容撑开容器,float就无法浮动了,因为没有位置了</h4><h4 id="开启定位后子元素相当于父元素水平垂直居中"><a href="#开启定位后子元素相当于父元素水平垂直居中" class="headerlink" title="开启定位后子元素相当于父元素水平垂直居中"></a>开启定位后子元素相当于父元素水平垂直居中</h4><ul><li>原理可以看看这<a href="https://dreamlove.top/2022/05/21/%E5%89%8D%E7%AB%AF/%E7%9B%92%E5%AD%90%E6%A8%A1%E5%9E%8B%E5%8F%8A%E5%9D%97%E5%85%83%E7%B4%A0%E6%B0%B4%E5%B9%B3%E5%9E%82%E7%9B%B4%E5%AE%9A%E4%BD%8D%E5%92%8C%E7%BB%9D%E5%AF%B9%E5%85%83%E7%B4%A0%E7%9A%84%E5%AE%9A%E4%BD%8D%E5%B8%83%E5%B1%80%E5%92%8C%E5%BC%B9%E6%80%A7%E7%9B%92/">@文章</a></li><li>简单来说就是盒子计算的问题</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Document&lt;/title&gt;<br>    &lt;style&gt;<br>        .father&#123;<br>            width: 300px;<br>            height: 300px;<br>            background-color: red;<br>            position: relative;<br>        &#125;<br>        .son&#123;<br>            width: 100px;<br>            height: 100px;<br>            background-color: blue;<br>            /* 水平垂直居中 */<br>            position: absolute;<br>            left: 0;<br>            right: 0;<br>            top: 0;<br>            bottom: 0;<br>            margin: auto;<br>        &#125;<br>    &lt;/style&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;div class=&quot;father&quot;&gt;<br>        &lt;div class=&quot;son&quot;&gt;<br><br>        &lt;/div&gt;<br>    &lt;/div&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141113891.png" alt="效果图"></p><h4 id="设置旋转的中心点"><a href="#设置旋转的中心点" class="headerlink" title="设置旋转的中心点"></a>设置旋转的中心点</h4><ul><li><p>参考的文章1 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-origin">https://developer.mozilla.org/en-US/docs/Web/CSS/transform-origin</a></p></li><li><p>参考的文章2 <a href="http://www.360doc.com/content/20/0710/23/25947829_923464975.shtml">http://www.360doc.com/content/20/0710/23/25947829_923464975.shtml</a></p></li><li><p>在没有设置旋转中心的时候,我们设置<code>transform:rotate(45deg);</code>都是围绕元素中点来旋转的,如下图</p></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141055190.png"></p><ul><li><p>但是有时候我们需要设置旋转中心,就需要通过<code>transform-origin</code>来设置了</p><ul><li>比如transform-origin:50px 50px,意思就是将中心点移动到距离容器x轴<code>50px</code>的位置,y轴<code>50px</code>的位置</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141058474.png"></p></li><li><p>也可以设置为右上角顶点 <code>transform-origin:0 0 </code></p></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141103961.png"></p><ul><li>旋转动画  <code>transform-origin:0 0 </code>并设置<code>transform:rotate(45deg)</code>效果</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141106327.gif"></p><h4 id="小程序生命周期的onLoad当中的参数options-用于路由传参"><a href="#小程序生命周期的onLoad当中的参数options-用于路由传参" class="headerlink" title="小程序生命周期的onLoad当中的参数options,用于路由传参"></a>小程序生命周期的onLoad当中的参数options,用于路由传参</h4><ul><li>原生小程序url有长度限制,如果传参内容过长会自动截取掉</li><li>options.id可以传入的id参数</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207120926235.png"></p><h4 id="在组件-wxss-中不应使用-ID-选择器、属性选择器和标签名选择器。"><a href="#在组件-wxss-中不应使用-ID-选择器、属性选择器和标签名选择器。" class="headerlink" title="在组件 wxss 中不应使用 ID 选择器、属性选择器和标签名选择器。"></a>在组件 wxss 中不应使用 ID 选择器、属性选择器和标签名选择器。</h4><p>如题~</p>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
      <category>wechat</category>
      
    </categories>
    
    
    <tags>
      
      <tag>移动端</tag>
      
      <tag>微信小程序</tag>
      
      <tag>小程序</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>微信小程序项目之网易云音乐,云音乐</title>
    <link href="/2022/07/13/%E5%89%8D%E7%AB%AF/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%A1%B9%E7%9B%AE%E4%B9%8B%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90,%E4%BA%91%E9%9F%B3%E4%B9%90/"/>
    <url>/2022/07/13/%E5%89%8D%E7%AB%AF/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%A1%B9%E7%9B%AE%E4%B9%8B%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90,%E4%BA%91%E9%9F%B3%E4%B9%90/</url>
    
    <content type="html"><![CDATA[<h2 id="微信小程序之网易云音乐的实现-云音乐"><a href="#微信小程序之网易云音乐的实现-云音乐" class="headerlink" title="微信小程序之网易云音乐的实现-云音乐"></a>微信小程序之网易云音乐的实现-云音乐</h2><h3 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h3><ul><li><p>基本功能都实现了,音乐的上一首下一首播放等,顺便把进度条的拖动播放写了下</p></li><li><p>主页的<strong>每日推荐界面</strong>写了 ,登录通过账号密码登录<del>(你也可以自己加一个验证码或者邮箱登录</del>)</p></li><li><p>基于iPhone6(375*667分辨率)开发,后面一些计算都是通过获取当前屏幕下的尺寸来计算的,但是不保证在其他分辨率下是否完好(我已经尽力了~)</p></li><li><p>下载地址</p><ul><li>github地址: <a href="https://github.com/superBiuBiuMan/Wechat_NetEase_CloudMusic">https://github.com/superBiuBiuMan/Wechat_NetEase_CloudMusic</a></li><li>gitee地址: <a href="https://gitee.com/superBiuBiu/Wechat_NetEase_CloudMusic">https://gitee.com/superBiuBiu/Wechat_NetEase_CloudMusic</a></li></ul></li><li><p>遇到的问题和解决办法</p><ul><li><a href="https://dreamlove.top/2022/07/14/%E5%89%8D%E7%AB%AF/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E7%82%B9%E5%92%8C%E9%A1%B9%E7%9B%AE%E5%88%B6%E4%BD%9C%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3/">单击我跳转</a></li></ul></li><li><p>API地址(自己服务器的~)</p><ul><li><a href="https://cloudmusic.dreamlove.top/">https://cloudmusic.dreamlove.top/</a></li></ul></li><li><p>更改自己的API地址</p><ul><li><p>虽然目前我这服务器的可以用,但是服务器会有过期的一天</p></li><li><p>项目使用  <a href="https://neteasecloudmusicapi.vercel.app/#/">@网易云音乐 NodeJS 版 API</a></p></li><li><p>可以去<a href="https://github.com/Binaryify/NeteaseCloudMusicApi">github地址</a>下载后台,然后安装依赖包并修改<code>/utils/config.js</code>文件</p></li><li><p>如果是自己电脑搭建API服务器,将<code>host</code>配置项修改为如下,因为此API服务器默认使用3000端口(但需要注意的是,如果自己电脑不是公网ip,在手机上调试可能需要内网穿透)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br><span class="hljs-attr">host</span>: <span class="hljs-string">&#x27;http://localhost:3000&#x27;</span>,<br>&#125;<br></code></pre></td></tr></table></figure></li></ul></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207122116971.png" alt="修改如下"></p><h3 id="云音乐网易音乐发布订阅添加订阅关系图"><a href="#云音乐网易音乐发布订阅添加订阅关系图" class="headerlink" title="云音乐网易音乐发布订阅添加订阅关系图"></a>云音乐网易音乐发布订阅添加订阅关系图</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207181520749.png"></p><h3 id="项目预览"><a href="#项目预览" class="headerlink" title="项目预览"></a>项目预览</h3><h4 id="首页"><a href="#首页" class="headerlink" title="首页"></a>首页</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207122121528.png" alt="首页"></p><h4 id="视频"><a href="#视频" class="headerlink" title="视频"></a>视频</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207130945090.png"></p><h4 id="搜索界面"><a href="#搜索界面" class="headerlink" title="搜索界面"></a>搜索界面</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207130944036.png" alt="搜索界面"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207130945602.png"></p><h4 id="每日推荐"><a href="#每日推荐" class="headerlink" title="每日推荐"></a>每日推荐</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207122122553.png" alt="每日推荐"></p><h4 id="个人中心"><a href="#个人中心" class="headerlink" title="个人中心"></a>个人中心</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207130945056.png" alt="个人中心"></p><h4 id="登录界面"><a href="#登录界面" class="headerlink" title="登录界面"></a>登录界面</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207130946748.png" alt="登录界面"></p><h4 id="播放音乐界面"><a href="#播放音乐界面" class="headerlink" title="播放音乐界面"></a>播放音乐界面</h4><ul><li>动态图</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131001281.gif"></p><ul><li>静态图</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207130959508.png" alt="静态图1"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207130958551.png" alt="静态图2"></p>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
      <category>wechat</category>
      
    </categories>
    
    
    <tags>
      
      <tag>移动端</tag>
      
      <tag>微信小程序</tag>
      
      <tag>小程序</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>影视节前端网站,,以前东拼西凑的,前端课程设计应该可以吧</title>
    <link href="/2022/07/12/%E5%89%8D%E7%AB%AF/%E5%BD%B1%E8%A7%86%E8%8A%82%E5%89%8D%E7%AB%AF%E7%BD%91%E7%AB%99,,%E4%BB%A5%E5%89%8D%E4%B8%9C%E6%8B%BC%E8%A5%BF%E5%87%91%E7%9A%84,%E5%89%8D%E7%AB%AF%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1%E5%BA%94%E8%AF%A5%E5%8F%AF%E4%BB%A5%E5%90%A7/"/>
    <url>/2022/07/12/%E5%89%8D%E7%AB%AF/%E5%BD%B1%E8%A7%86%E8%8A%82%E5%89%8D%E7%AB%AF%E7%BD%91%E7%AB%99,,%E4%BB%A5%E5%89%8D%E4%B8%9C%E6%8B%BC%E8%A5%BF%E5%87%91%E7%9A%84,%E5%89%8D%E7%AB%AF%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1%E5%BA%94%E8%AF%A5%E5%8F%AF%E4%BB%A5%E5%90%A7/</url>
    
    <content type="html"><![CDATA[<h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><ul><li>很久以前为了应付课程设计的作业…</li><li>在线演示<ul><li><a href="https://video-show.netlify.app/">https://video-show.netlify.app/</a></li></ul></li><li>下载地址<ul><li>github:<a href="https://github.com/superBiuBiuMan/film_videoShow_website">https://github.com/superBiuBiuMan/film_videoShow_website</a></li><li>gitee:<a href="https://gitee.com/superBiuBiu/film_videoShow_website">https://gitee.com/superBiuBiu/film_videoShow_website</a></li></ul></li></ul><h3 id="图片展示"><a href="#图片展示" class="headerlink" title="图片展示"></a>图片展示</h3><h4 id="主页"><a href="#主页" class="headerlink" title="主页"></a>主页</h4><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207150843823.png" style="zoom:80%;" /><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207150846968.png"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207150843960.png"></p><h4 id="影片展示"><a href="#影片展示" class="headerlink" title="影片展示"></a>影片展示</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207150844523.png"></p><h4 id="优秀演员"><a href="#优秀演员" class="headerlink" title="优秀演员"></a>优秀演员</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207150844601.png"></p><h4 id="获奖名单"><a href="#获奖名单" class="headerlink" title="获奖名单"></a>获奖名单</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207150845085.png"></p><h4 id="奖项介绍"><a href="#奖项介绍" class="headerlink" title="奖项介绍"></a>奖项介绍</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207150845149.png"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207150845926.png"></p><h3 id="舔狗日志-填充字段"><a href="#舔狗日志-填充字段" class="headerlink" title="舔狗日志(填充字段)"></a>舔狗日志(填充字段)</h3><p><strong>舔狗日记7月15日 晴</strong></p><p>今天我还是照常给你发消息，汇报日常工作，你终于回了我四个字：“嗯嗯，好的”你开始愿意敷衍我了，我太感动了受宠若惊。我愿意天天给你发消息。就算你天天骂我，我也不觉得烦。</p><p><strong>舔狗日记 7月14日 阴</strong></p><p>你昨天晚上又没会我的消息，在我孜孜不倦的骚扰下，你终于舍得回我了，你说“滚”，这其中一定有什么含义，我想了很久，滚是三点水，这代表你对我的思念也如滚滚流水一样汹涌，我感动哭了，不知道你现在在干嘛，我很想你。</p><p><strong>舔狗日记 7月13日 雨</strong></p><p>你说你想买口红，今天我去了叔叔的口罩厂做了一天的打包。拿到了两百块钱，加上我这几天省下的钱刚好能给你买一根小金条。即没有给我自己剩下一分钱，但你不用担心，因为厂里包吃包住。对了打包的时候，满脑子都是你，想着你哪天突然就接受我的橄榄枝了呢。而且今天我很棒呢，主管表扬我很能干，其实也有你的功劳啦，是你给了我无穷的力量。今天我比昨天多想你一点，比明天少想你一点。</p><p><strong>舔狗日记 7月13日 晴</strong></p><p>你说你想买AJ，今天我去了叔叔的口罩厂做了一天的打包。拿到了两百块钱，加上我这几天省下的钱刚好能给你买一个鞋盒。即没有给我自己剩下一分钱，但你不用担心，因为厂里包吃包住。对了打包的时候，满脑子都是你，想着你哪天突然就接受我的橄榄枝了呢。而且今天我很棒呢，主管表扬我很能干，其实也有你的功劳啦，是你给了我无穷的力量。今天我比昨天多想你一点，比明天少想你一点。</p><p><strong>舔狗日记 7月12日 阴</strong></p><p>听说你想要一套化妆品，我算了算，明天我去公司里面扫一天厕所，就可以拿到200块钱，再加上我上个月攒下来的零花钱，刚好给你买一套迪奥。</p><p><strong>保安日志 7月11日 晴</strong></p><p>在我入职保安的那天，队长问我：你知道你要保护谁嘛？</p><p>我嘴上说的是业主，心里却是你。over</p><p><strong>舔狗反击日记 7月10日 晴</strong></p><p>今天我对她说：我想问一下，爱奇艺会员，你有吗？</p><p>她没发现是“我爱你”的藏头诗，还骂我穷鬼，让我滚。滚就滚，我看不了青春有你，我的青春也没有你。</p><p><strong>舔狗日记 7月9日</strong></p><p>昨晚你和朋友大佬一晚上游戏，你破天荒的给我看了你的战绩，虽然我看不懂但我相信你一定是最厉害的，最棒的！我给你发了好多消息夸你，告诉你我多崇拜你，你回了我一句：啥b</p><p>我翻来覆去思考这是什么意思？sh-a傻，噢你的意思是说我傻，那b就是baby的意思了吧，原来你是在叫我傻宝，这么宠溺的语气，我竟一时不相信，其实你也是喜欢我的对吧</p><p><strong>女王日记 7月8日</strong></p><p>昨晚本王和朋友打了一晚上游戏，我破天荒的的给17号舔狗看了战绩，虽然他看不懂但是他相信本王一定是最厉害的，最棒的！他给本王发了好多消息，告诉我有多崇拜我，我回了他一句“啥b”。并不是因为什么，只是刚刚男神给我打电话，叫我去宾馆。哎一晚上整的我死去活来，第二天就给他打电话叫他来接我，才发现他竟然改了ID，“我是你的啥b啊”</p><p><strong>舔狗日记 7月7日 天气晴</strong></p><p>今天表白被拒绝了，她对我说能不能脱下裤子撒泼尿照照自己，当我脱下裤子，她咽了口水，说我们可以试一下。</p><p><em>声明：摘录于网络，如有不当之处，侵删</em></p><p><strong>舔狗日记 7月6日 暴雨</strong></p><p>刚从派出所出来，原因前几天14号情人节，我想送你礼物，我去偷东西的时候被抓了，我本来想反抗，警察说了一句老实点别动，我立刻就放弃了反抗，因为我记得你说过，你喜欢老实人。</p>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
      <category>css</category>
      
    </categories>
    
    
    <tags>
      
      <tag>javscript</tag>
      
      <tag>jQuery</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vue3.x项目图书兄弟项目上遇到的问题及解决办法的记录</title>
    <link href="/2022/07/05/%E5%89%8D%E7%AB%AF/vue3.x%E9%A1%B9%E7%9B%AE%E5%9B%BE%E4%B9%A6%E5%85%84%E5%BC%9F%E9%A1%B9%E7%9B%AE%E4%B8%8A%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E7%9A%84%E8%AE%B0%E5%BD%95/"/>
    <url>/2022/07/05/%E5%89%8D%E7%AB%AF/vue3.x%E9%A1%B9%E7%9B%AE%E5%9B%BE%E4%B9%A6%E5%85%84%E5%BC%9F%E9%A1%B9%E7%9B%AE%E4%B8%8A%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E7%9A%84%E8%AE%B0%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<h2 id="1-vue3中reactive定义的引用类型直接赋值导致数据失去响应式"><a href="#1-vue3中reactive定义的引用类型直接赋值导致数据失去响应式" class="headerlink" title="1.vue3中reactive定义的引用类型直接赋值导致数据失去响应式"></a>1.vue3中reactive定义的引用类型直接赋值导致数据失去响应式</h2><ul><li>这里写的很详细,想看可以看看<a href="https://blog.csdn.net/weixin_45974259/article/details/124002564">@地址</a>,我这里说下结果就可以~</li><li><strong>reactive定义的数组或者对象，不能直接对整体进行赋值修改，否则定义的数据将失去响应性。</strong></li></ul><h3 id="失去响应式示例"><a href="#失去响应式示例" class="headerlink" title="失去响应式示例"></a>失去响应式示例</h3><ul><li>当经过一秒后,<strong>页面显示的内容并没有被改变!</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;border: 1px solid red&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span></span><br><span class="language-xml">    &#123;&#123; banner &#125;&#125;</span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; reactive, onMounted &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;HomeView&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">components</span>: &#123;&#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//预先定义一个数据填充占位</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">var</span> banner = <span class="hljs-title function_">reactive</span>(&#123;&#125;);</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        banner = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;李白&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-string">&quot;18&quot;</span> &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;修改值完成&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;, <span class="hljs-number">2000</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      banner,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><h2 id="2-vue使用插槽的简写和使用默认插槽"><a href="#2-vue使用插槽的简写和使用默认插槽" class="headerlink" title="2.vue使用插槽的简写和使用默认插槽"></a>2.vue使用插槽的简写和使用默认插槽</h2><h3 id="使用插槽简写v-slot直接用字符’-’代替"><a href="#使用插槽简写v-slot直接用字符’-’代替" class="headerlink" title="使用插槽简写v-slot直接用字符’#’代替"></a>使用插槽简写v-slot直接用字符’#’代替</h3><ul><li>使用<code>Navbar组件</code>当中的默认插槽   <code>v-slot:default</code>等同于<code>#default</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;<span class="hljs-title class_">Navbar</span>&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">default</span>&gt;</span> 商品分类 <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br>&lt;/<span class="hljs-title class_">Navbar</span>&gt;<br></code></pre></td></tr></table></figure><h2 id="3-flex-1是什么意思在弹性布局当中"><a href="#3-flex-1是什么意思在弹性布局当中" class="headerlink" title="3.flex:1是什么意思在弹性布局当中"></a>3.flex:1是什么意思在弹性布局当中</h2><ul><li><p><code>flex</code>属性是以下三个属性的简写(用于弹性元素-也就是父元素被设置了display:flex,然后子元素就可以设置flex属性)</p><ul><li><code>flex-grow</code> :设置增长系数(也就是如何分配剩余的空闲空间) 如果元素不是弹性盒对象的元素，则 <code>flex-grow</code> 属性不起作用。</li><li><code>flex-shrink</code>  :设置收缩系数</li><li><code>flex-basis</code>:设置基准值</li></ul></li><li><p>当我们设置为<code>flex:1</code>的时候,相当于设置了 <code>flex:1 1 0</code> 也就是设置了flex-grow,其他都设置默认值</p></li><li><p><strong>经常用来设置元素不管其内容如何，使所有弹性项目的长度均相同</strong></p></li><li><p>具体可以看看MdnWeb <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex">@flex属性</a></p></li></ul><h2 id="4-vue3使用编程式导航"><a href="#4-vue3使用编程式导航" class="headerlink" title="4.vue3使用编程式导航"></a>4.vue3使用编程式导航</h2><ul><li>vue2的时候,编程式导航都是通过<code>this.$router.push</code>等方法来进行的,但是到了vue3,是没有this了~</li></ul><h3 id="vue3使用编程式导航和获取当前路由对象"><a href="#vue3使用编程式导航和获取当前路由对象" class="headerlink" title="vue3使用编程式导航和获取当前路由对象"></a>vue3使用编程式导航和获取当前路由对象</h3><ul><li><p>首先导入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//为了获取路由总管 --- 注意,这里有字母r</span><br><span class="hljs-keyword">import</span> &#123;useRouter&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-router&quot;</span>;<br><br><span class="hljs-comment">//为了获取当前自身路由信息 --- 注意,这里没有字母r</span><br><span class="hljs-keyword">import</span> &#123;useRoute&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-router&quot;</span>;<br></code></pre></td></tr></table></figure></li><li><p>在<code>setup</code>当中调用<code>useRouter</code>方法获取路由总管 和调用<code>useRoute</code>方法获取自身路由信息</p><ul><li><code>const router  = useRouter()</code>; 这样子就相当于vue2时候的<code>this.$router</code>了  </li><li><code>const route  = useRouter()</code>; 这样子就相当于vue2时候的<code>this.$route</code>了</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; useRouter, useRoute &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-router&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;HomeView&quot;</span>,<br>  <span class="hljs-attr">components</span>: &#123;&#125;,<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">//路由总管</span><br>    <span class="hljs-keyword">const</span> router = <span class="hljs-title function_">useRouter</span>();<br>    <span class="hljs-comment">//自身路由</span><br>    <span class="hljs-keyword">const</span> route = <span class="hljs-title function_">useRoute</span>();<br>      <span class="hljs-comment">//输出查看</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(route);<br>    <span class="hljs-comment">//编程式导航</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">clickTo</span>(<span class="hljs-params"></span>) &#123;<br>      router.<span class="hljs-title function_">push</span>(&#123; <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/about&quot;</span> &#125;);<br>    &#125;<br>    <span class="hljs-keyword">return</span> &#123; clickTo &#125;;<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="5-设置超出容器内容隐藏并添加省略号"><a href="#5-设置超出容器内容隐藏并添加省略号" class="headerlink" title="5.设置超出容器内容隐藏并添加省略号"></a>5.设置超出容器内容隐藏并添加省略号</h2><ul><li>设置<code>overflow:hidden</code> <code>white-space:nowrap</code> <code>text-overflow:ellipsis</code></li></ul><h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>超出部分添加省略号<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        *&#123;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>:<span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-id">#over</span>&#123;</span><br><span class="language-css">            <span class="hljs-comment">/* 设置下位置 */</span></span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span> auto;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid red;</span><br><span class="language-css">            <span class="hljs-comment">/* 查出隐藏 */</span></span><br><span class="language-css">            <span class="hljs-attribute">overflow</span>: hidden;</span><br><span class="language-css">            <span class="hljs-attribute">text-overflow</span>: ellipsis;<span class="hljs-comment">/* 文本超出省略号 */</span></span><br><span class="language-css">            <span class="hljs-attribute">white-space</span>: nowrap;<span class="hljs-comment">/* 连续的空白符会被合并。但文本内的换行无效 */</span></span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;over&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>我认为， 文森特·皮尔说过一句富有哲理的话，改变你的想法，你就改变了自己的世界。这不禁令我深思。 的发生，到底需要如何做到，不的发生，又会如何产生。 的发生，到底需要如何做到，不的发生，又会如何产生。 这样看来， 佚名说过一句富有哲理的话，感激每一个新的挑战，因为它会锻造你的意志和品格。这似乎解答了我的疑惑。 要想清楚，，到底是一种怎么样的存在。 总结的来说， 培根曾经说过，合理安排时间，就等于节约时间。这不禁令我深思。<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051454795.png"></p><h2 id="6-vue3的ref来获取dom元素"><a href="#6-vue3的ref来获取dom元素" class="headerlink" title="6.vue3的ref来获取dom元素"></a>6.vue3的ref来获取dom元素</h2><ul><li>1.元素添加<code>ref</code>属性<ul><li>比如<code>&lt;div ref=&quot;content&quot;&gt;我是内容&lt;/div&gt;</code></li></ul></li><li>2.setup当中添加<code>const 刚刚添加的ref属性名称 = ref(null)</code><ul><li><code>const content = ref(null)</code> <strong>注意,变量名字必须要和ref属性名字一样!</strong></li></ul></li><li>3.通过setup返回,然后就可以在其他当中调用了</li><li>注意<ul><li>需要在<code>return</code>当中返回</li><li>需要添加<code>.value</code>才可以正确获取到dom节点(因为返回的是引用示例,所以需要在访问一层才可以)</li></ul></li></ul><h3 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h3><ul><li>通过<code>ref</code>来读取属性并输出里面的内容</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;border: 1px solid red&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span>我是动感超人<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; onMounted &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;HomeView&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">components</span>: &#123;&#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">const</span> content = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//输出&#x27;我是动感超人&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(content.<span class="hljs-property">value</span>.<span class="hljs-property">textContent</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      content,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><h2 id="7-getBoundingClientRect"><a href="#7-getBoundingClientRect" class="headerlink" title="7.getBoundingClientRect"></a>7.getBoundingClientRect</h2><h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><ul><li>统计某一个元素相当于浏览器视口的距离</li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getBoundingClientRect">mdnWebDoc说明(含有视口滚动时候的情况)</a></li></ul><h3 id="示例说明"><a href="#示例说明" class="headerlink" title="示例说明"></a>示例说明</h3><ul><li>主要关注<code>#box</code>的样式</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs css">&lt;!DOCTYPE <span class="hljs-selector-tag">html</span>&gt;<br>&lt;<span class="hljs-selector-tag">html</span> lang=&quot;en&quot;&gt;<br><br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-<span class="hljs-number">8</span>&quot;&gt;<br>    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; <span class="hljs-attribute">content</span>=&quot;IE=edge&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; <span class="hljs-attribute">content</span>=&quot;<span class="hljs-attribute">width</span>=device-<span class="hljs-attribute">width</span>, initial-scale=<span class="hljs-number">1.0</span>&quot;&gt;<br>    &lt;title&gt;Document&lt;/title&gt;<br>&lt;/head&gt;<br><br>&lt;<span class="hljs-selector-tag">body</span>&gt;<br>    &lt;style&gt;<br>        <span class="hljs-selector-id">#box</span> &#123;<br>            <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;<br>            <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;<br>            <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;<br>            <span class="hljs-attribute">margin</span>: <span class="hljs-number">50px</span> auto;<br>            <span class="hljs-attribute">background</span>: purple;<br>        &#125;<br>    &lt;/style&gt;<br>    &lt;<span class="hljs-selector-tag">div</span> id=&quot;box&quot;&gt;&lt;/<span class="hljs-selector-tag">div</span>&gt;<br>    &lt;script&gt;<br>        <span class="hljs-selector-tag">var</span> <span class="hljs-selector-tag">object</span> = document<span class="hljs-selector-class">.querySelector</span>(&quot;<span class="hljs-selector-id">#box</span>&quot;);<br>        <span class="hljs-selector-tag">var</span> objectDomInfo = <span class="hljs-selector-tag">object</span><span class="hljs-selector-class">.getBoundingClientRect</span>();<br>        console<span class="hljs-selector-class">.log</span>(objectDomInfo);<br>    &lt;/script&gt;<br><br>&lt;/<span class="hljs-selector-tag">body</span>&gt;<br><br>&lt;/<span class="hljs-selector-tag">html</span>&gt;<br></code></pre></td></tr></table></figure><ul><li><code>getBoundingClientRect</code>返回对象的属性</li></ul><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">bottom</span>: <span class="hljs-number">290</span><br><span class="hljs-attribute">height</span>: <span class="hljs-number">240</span><br><span class="hljs-attribute">left</span>: <span class="hljs-number">539</span>.<span class="hljs-number">6000366210938</span><br><span class="hljs-attribute">right</span>: <span class="hljs-number">979</span>.<span class="hljs-number">6000366210938</span><br><span class="hljs-attribute">top</span>: <span class="hljs-number">50</span><br><span class="hljs-attribute">width</span>: <span class="hljs-number">440</span><br><span class="hljs-attribute">x</span>: <span class="hljs-number">539</span>.<span class="hljs-number">6000366210938</span><br><span class="hljs-attribute">y</span>: <span class="hljs-number">50</span><br></code></pre></td></tr></table></figure><ul><li><p><code>getBoundingClientRect</code>返回对象的属性说明</p><ul><li><p><code>x:</code> &#x2F;<code>left:</code> 元素左上角顶点相当于当前浏览器视口的<strong>左边</strong>距离</p></li><li><p><code>y:</code> &#x2F;<code>top: </code>元素左上角顶点相对于当年浏览器视口的<strong>顶部</strong>距离</p><hr></li><li><p><code>width:</code>400+20+20 &#x3D; 440 <strong>(width+padding-left+padding-right)</strong></p><ul><li>当前元素的<code>width+paddin-left+padding-right的值</code></li></ul></li><li><p><code>height:</code>200+20+20 &#x3D; 240 <strong>(height+padding-top+padding-bottom)</strong></p><ul><li>当前元素的<code>height+padding-top+padding-bottom</code>的值</li></ul></li><li><p>注意点:</p><ul><li><code>width</code>&#x2F;<code>height</code> 是与元素的 <code>width</code>&#x2F;<code>height</code> + <code>padding</code> 相等的。</li></ul><hr></li><li><p><code>bottom:</code>元素右下角顶点相对于当年浏览器视口<strong>顶部</strong>的距离</p></li><li><p><code>right:</code>元素右下角顶点相对于当年浏览器视口的<strong>左边</strong>的距离</p></li></ul></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051724469.png"></p><h2 id="8-better-scroll"><a href="#8-better-scroll" class="headerlink" title="8.better-scroll"></a>8.better-scroll</h2><ul><li><p><a href="https://github.com/ustbhuangyi/better-scroll/blob/master/README_zh-CN.md">@中文文档</a></p></li><li><p>安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install better-scroll --save<br></code></pre></td></tr></table></figure></li><li><p>引入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">import BetterScroll from <span class="hljs-string">&quot;better-scroll&quot;</span>;<br></code></pre></td></tr></table></figure></li><li><p>使用</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">BetterScroll</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;better-scroll&quot;</span>;<br><span class="hljs-keyword">import</span> throttle <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;lodash/throttle&quot;</span>;<br><span class="hljs-keyword">import</span> debounce <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;lodash/debounce&quot;</span>;<br><span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-comment">//一般在dom结构创建完成后调用</span><br>    <span class="hljs-title function_">onMounted</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>          <span class="hljs-comment">// 创建BetterScroll对象</span><br>          bs = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BetterScroll</span>(<span class="hljs-string">&quot;.home-wrapper&quot;</span>, &#123;<br>            <span class="hljs-attr">probeType</span>: <span class="hljs-number">3</span>,<br>            <span class="hljs-attr">click</span>: <span class="hljs-literal">true</span>,<br>            <span class="hljs-attr">pullUpLoad</span>: <span class="hljs-literal">true</span>,<br>          &#125;);<br>    &#125;)<br><span class="hljs-comment">//添加滚动事件,使用下节流阀</span><br>     bs.<span class="hljs-title function_">on</span>(<br>        <span class="hljs-string">&quot;scroll&quot;</span>,<br>        <span class="hljs-title function_">throttle</span>(<span class="hljs-function">(<span class="hljs-params">position</span>) =&gt;</span> &#123;<br>          <span class="hljs-comment">//position.y可以获取滚动距离</span><br>        &#125;, <span class="hljs-number">100</span>)<br>    );<br>   <span class="hljs-comment">//当拉动到底部的时候</span><br>    bs.<span class="hljs-title function_">on</span>(<br>        <span class="hljs-string">&quot;pullingUp&quot;</span>,<br>        <span class="hljs-title function_">throttle</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;到底部了&quot;</span>);<br>          <span class="hljs-comment">//发送ajax请求获取新页</span><br>            <br>           <span class="hljs-comment">//....</span><br>            <br>          <span class="hljs-comment">//完成上划动作</span><br>          bs.<span class="hljs-title function_">finishPullUp</span>();<br>          bs.<span class="hljs-title function_">refresh</span>();<br>        &#125;, <span class="hljs-number">80</span>)<br>      );<br><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="9-手机端常用的左边分类-上部标签页-右部分布局页的结构代码"><a href="#9-手机端常用的左边分类-上部标签页-右部分布局页的结构代码" class="headerlink" title="9.手机端常用的左边分类,上部标签页,右部分布局页的结构代码"></a>9.手机端常用的左边分类,上部标签页,右部分布局页的结构代码</h2><h3 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206300942081.png"></p><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Navbar</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">default</span>&gt;</span> 商品分类 <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">Navbar</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;category-wrapper&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-comment">&lt;!-- 排序分布栏 --&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;navbar&quot;</span>&gt;</span></span><br><span class="language-xml">        1</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-comment">&lt;!-- 左侧分类列表 --&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;left-list&quot;</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-comment">&lt;!-- 书籍展示 --&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;show-list&quot;</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Navbar</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/components/common/navbar/Navbar&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Category&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">components</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title class_">Navbar</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;less&quot;</span> <span class="hljs-attr">scoped</span>&gt;</span></span><br><span class="language-xml">.category-wrapper &#123;</span><br><span class="language-xml">  //隔开顶部nab</span><br><span class="language-xml">  margin-top: 45px;</span><br><span class="language-xml">  display: flex;</span><br><span class="language-xml">  // 为左侧分类列表的宽度</span><br><span class="language-xml">  @leftItemWidth: 130px;</span><br><span class="language-xml">  //nav的宽度</span><br><span class="language-xml">  @navBarHidth: 40px;</span><br><span class="language-xml">  .navbar &#123;</span><br><span class="language-xml">    background-color: red;</span><br><span class="language-xml">    float: right;</span><br><span class="language-xml">    position: fixed;</span><br><span class="language-xml">    right: 0;</span><br><span class="language-xml">    height: @navBarHidth;</span><br><span class="language-xml">    left: @leftItemWidth;</span><br><span class="language-xml">    z-index: 10;</span><br><span class="language-xml">  &#125;</span><br><span class="language-xml">  // 左侧分类列表</span><br><span class="language-xml">  .left-list &#123;</span><br><span class="language-xml">    position: fixed;</span><br><span class="language-xml">    width: @leftItemWidth;</span><br><span class="language-xml">    left: 0;</span><br><span class="language-xml">    height: 100%;</span><br><span class="language-xml">    background-color: green;</span><br><span class="language-xml">  &#125;</span><br><span class="language-xml">  // 书籍展示</span><br><span class="language-xml">  .show-list &#123;</span><br><span class="language-xml">    background-color: blue;</span><br><span class="language-xml">    position: absolute;</span><br><span class="language-xml">    right: 0;</span><br><span class="language-xml">    // nav的宽度 + 顶部的商品分类宽度</span><br><span class="language-xml">    top: @navBarHidth+45;</span><br><span class="language-xml">    left:@leftItemWidth;</span><br><span class="language-xml">    height: 100%;</span><br><span class="language-xml">  &#125;</span><br><span class="language-xml">&#125;</span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h2 id="10-深度选择器vue3"><a href="#10-深度选择器vue3" class="headerlink" title="10.深度选择器vue3"></a>10.深度选择器vue3</h2><ul><li><p>通过<code>:deep(选择器) &#123; .... &#125;</code> 来实现,具体看代码~</p></li><li><p><code>::v-deep</code>在vue3被废弃了,不推荐使用,推荐使用<code>:deep()</code>这种方式</p></li></ul><h3 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h3><ul><li>less代码示例</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs css">&lt;style lang=&quot;less&quot; scoped&gt;<br><span class="hljs-selector-id">#address</span> &#123;<br>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">45px</span>;<br>  <span class="hljs-selector-class">.content</span> &#123;<br>    <span class="hljs-attribute">background</span>: white; <br>    :<span class="hljs-built_in">deep</span>(.van-radio__icon) &#123;<br>      <span class="hljs-attribute">display</span>: none;<br>    &#125;<br>  &#125;<br>  :<span class="hljs-built_in">deep</span>(.van-address-list__bottom)&#123;<br>      <span class="hljs-attribute">bottom</span>: <span class="hljs-number">50px</span>;<br>      <span class="hljs-attribute">background-color</span>:unset;<br>    &#125;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><h2 id="11-vant组件库van-collapse-下拉折叠面板出现Collapse-“v-model”-should-not-be-Array-in-accordion-mode"><a href="#11-vant组件库van-collapse-下拉折叠面板出现Collapse-“v-model”-should-not-be-Array-in-accordion-mode" class="headerlink" title="11.vant组件库van-collapse 下拉折叠面板出现Collapse: “v-model” should not be Array in accordion mode"></a>11.vant组件库van-collapse 下拉折叠面板出现Collapse: “v-model” should not be Array in accordion mode</h2><ul><li><strong>原因</strong><ul><li>默认的下拉折叠面板是可以展示多个数据的,所以v-model绑定的是一个数组,但是这里使用了accordion属性,就只记录一个的值,不需要使用到数组,所以就出现这个提示</li></ul></li><li><strong>解决办法</strong><ul><li>v-model&#x3D;”activeNames”当中的activeNames变量值改为一个基本数据类型即可</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!-- v-model=<span class="hljs-string">&quot;activeNames&quot;</span> --&gt;<br>由于这里使用了只能选中一个,并且这里为什么取名叫activeNames,是记录展开的列表项,但是<br>    但是这里使用了accordion属性,就只记录一个,就没有必要用数组了<br>  &lt;van-collapse v-model=<span class="hljs-string">&quot;activeNames&quot;</span> accordion&gt;<br>&lt;!-- title为一级列表的展示名  --&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">van-collapse-item</span></span></span><br><span class="hljs-tag"><span class="language-xml">  <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(firstLevel, index) in categoryList&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">  <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;firstLevel.id&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">  <span class="hljs-attr">:title</span>=<span class="hljs-string">&quot;firstLevel.name&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">  <span class="hljs-attr">:name</span>=<span class="hljs-string">&quot;firstLevel.name&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- 二级列表 --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">van-sidebar</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;active&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">van-sidebar-item</span></span></span><br><span class="hljs-tag"><span class="language-xml">  <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(secondLevel,index) in firstLevel.children&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">  <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;secondLevel.id&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">  <span class="hljs-attr">:title</span>=<span class="hljs-string">&quot;secondLevel.name&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">/&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">van-sidebar</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">van-collapse-item</span>&gt;</span></span><br>  &lt;/van-collapse&gt;<br><br><br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">//左分类默认项</span><br>    <span class="hljs-keyword">const</span> active = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);<br>       但是这里使用了accordion属性,就只记录一个,就没有必要用数组了<br>    <span class="hljs-comment">//const activeNames = ref([]);</span><br><span class="hljs-keyword">const</span> activeNames = <span class="hljs-title function_">ref</span>();<span class="hljs-comment">//这样子就可以</span><br>      <br>    <span class="hljs-keyword">const</span> categoryList = <span class="hljs-title function_">ref</span>([]);<br>    <span class="hljs-title function_">onMounted</span>(<span class="hljs-keyword">async</span> () =&gt; &#123;<br>      <span class="hljs-keyword">let</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">reqCategory</span>();<br>      <span class="hljs-comment">//保存存储数据</span><br>      categoryList.<span class="hljs-property">value</span> = result.<span class="hljs-property">categories</span>;<br>    &#125;);<br>    <span class="hljs-keyword">return</span> &#123;<br>      active,<br>      activeNames,<br>      categoryList,<br>    &#125;;<br>  &#125;,<br></code></pre></td></tr></table></figure><h3 id="14-vant组件库sidebar-侧边导航-和-Collapse-折叠面板-的结合使用"><a href="#14-vant组件库sidebar-侧边导航-和-Collapse-折叠面板-的结合使用" class="headerlink" title="14.vant组件库sidebar(侧边导航) 和 Collapse(折叠面板)的结合使用"></a>14.vant组件库sidebar(侧边导航) 和 Collapse(折叠面板)的结合使用</h3><h3 id="效果"><a href="#效果" class="headerlink" title="效果:"></a>效果:</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051559332.gif"></p><h3 id="代码-1"><a href="#代码-1" class="headerlink" title="代码:"></a>代码:</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!-- 左侧分类列表 --&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;left-list&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;left-item-content&quot;</span>&gt;</span></span><br><span class="language-xml">    </span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">van-sidebar</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;activeSecond&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-comment">&lt;!-- 当做一个整体 --&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">van-collapse</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;activeName&quot;</span> <span class="hljs-attr">accordion</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- 循环一级菜单 --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">van-collapse-item</span></span></span><br><span class="hljs-tag"><span class="language-xml"><span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in categoryList&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml"><span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;item.id&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml"><span class="hljs-attr">:title</span>=<span class="hljs-string">&quot;item.name&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml"><span class="hljs-attr">:name</span>=<span class="hljs-string">&quot;item.name&quot;</span>&gt;</span></span><br><span class="language-xml">            </span><br><span class="language-xml"><span class="hljs-comment">&lt;!-- 循环二级菜单 --&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">van-sidebar-item</span></span></span><br><span class="hljs-tag"><span class="language-xml">  <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;sub in item.children&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">  <span class="hljs-attr">:title</span>=<span class="hljs-string">&quot;sub.name&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">  <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;sub.id&quot;</span>/&gt;</span></span><br><span class="language-xml">              </span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">van-collapse-item</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">van-collapse</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">van-sidebar</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>setup当中内容<br><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;HomeView&quot;</span>,<br>  <span class="hljs-attr">components</span>: &#123;&#125;,<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">//设置为99999,就不会出现初始化的时候单击任意一级菜单看到二级菜单选中的情况了</span><br>    <span class="hljs-keyword">const</span> activeSecond = <span class="hljs-title function_">ref</span>(<span class="hljs-number">99999</span>); <span class="hljs-comment">//二级分类列表目前活动项</span><br>    <span class="hljs-keyword">const</span> categoryList = <span class="hljs-title function_">ref</span>([]); <span class="hljs-comment">//左侧分类列表</span><br>    <span class="hljs-keyword">const</span> activeName = <span class="hljs-title function_">ref</span>(); <span class="hljs-comment">//一级分类列表的活动项记录</span><br>    <span class="hljs-keyword">return</span> &#123;<br>      activeSecond,<br>      categoryList,<br>      activeName<br>    &#125;;<br>  &#125;,<br>&#125;;<br><br></code></pre></td></tr></table></figure><h2 id="12-linear-gradient的知识点"><a href="#12-linear-gradient的知识点" class="headerlink" title="12.linear-gradient的知识点"></a>12.linear-gradient的知识点</h2><ul><li><code>linear-gradient</code> 设置渐变,根据函数用于创建一个表示两种或多种颜色线性渐变的<strong>图片</strong>。<ul><li><strong>所以这就是我们通过background-image属性来设置linear-gradient的原因</strong></li></ul></li><li>角度方向理解,必看案例演示!!!!!!!!!!!!!!!!!<ul><li>**(必看)**<a href="https://codepen.io/thebabydino/pen/DRWdxj">https://codepen.io/thebabydino/pen/DRWdxj</a></li><li><a href="https://codepen.io/thebabydino/pen/kQjeWe">https://codepen.io/thebabydino/pen/kQjeWe</a></li></ul></li><li>一些渐变效果网站<ul><li><a href="https://wangdicoder.github.io/awesome-gradient/">https://wangdicoder.github.io/awesome-gradient/</a> (比较少)</li><li><a href="http://color.oulu.me/">http://color.oulu.me/</a> (很多)</li></ul></li><li>参考了一些别人的文章<ul><li><a href="https://segmentfault.com/a/1190000014312295">https://segmentfault.com/a/1190000014312295</a> </li><li><a href="https://blog.csdn.net/jenreal/article/details/117662540">https://blog.csdn.net/jenreal/article/details/117662540</a> (关于色块部分说的很好)</li></ul></li></ul><h3 id="linear-gradient确认起点和终点"><a href="#linear-gradient确认起点和终点" class="headerlink" title="linear-gradient确认起点和终点"></a>linear-gradient确认起点和终点</h3><ul><li>linear-gradient线性渐变是通过一个<strong>轴</strong>定义的，这个轴称为<strong>渐变轴&#x2F;渐变线</strong>。如图,红色的为渐变轴&#x2F;渐变线,正方形的为div容器示例</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207052152918.png"></p><ul><li><p>轴通过顺时针旋转来进行设置起点和终点</p><ul><li>设置完成起点和终点后,将颜色进行分布(如果没有对颜色位置进行分布,则平均分配颜色位置)</li></ul></li><li><p><code>linear-gradient</code>默认方向为<code>to bottom</code></p></li></ul><h3 id="linear-gradient常见的绘制方向的坐标轴和效果示例"><a href="#linear-gradient常见的绘制方向的坐标轴和效果示例" class="headerlink" title="linear-gradient常见的绘制方向的坐标轴和效果示例"></a>linear-gradient常见的绘制方向的坐标轴和效果示例</h3><ul><li><code>to top</code>, <code>to bottom</code>, <code>to left</code> 和 <code>to right</code> 这些值会被转换成角度 0 度、180 度、270 度和 90 度。</li><li>简单理解方向<ul><li><code>to</code>  <strong>指明终点渲染的方向</strong></li></ul></li></ul><h4 id="1-background-image-linear-gradient-red-green"><a href="#1-background-image-linear-gradient-red-green" class="headerlink" title="1.background-image:linear-gradient(red, green);"></a>1.background-image:linear-gradient(red, green);</h4><ul><li>默认情况轴被旋转了180度</li><li>等同于<code>linear-gradient(to bottom,red,green)</code></li><li>默认值to bottom转化为180度</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207052153306.png" alt="background-image:linear-gradient(red, green)"></p><h4 id="2-background-image-linear-gradient-to-top-red-green"><a href="#2-background-image-linear-gradient-to-top-red-green" class="headerlink" title="2.background-image: linear-gradient(to top,red,green);"></a>2.background-image: linear-gradient(to top,red,green);</h4><ul><li>轴没有被旋转的情况</li><li>0度</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207052153651.png" alt="background-image: linear-gradient(to top,red,green)"></p><h4 id="3-background-image-linear-gradient-to-left-red-green"><a href="#3-background-image-linear-gradient-to-left-red-green" class="headerlink" title="3.background-image: linear-gradient(to left,red,green);"></a>3.background-image: linear-gradient(to left,red,green);</h4><ul><li>轴被旋转270度的情况</li><li>270 度</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207052154835.png" alt="background-image: linear-gradient(to left,red,green)"></p><h4 id="4-background-image-linear-gradient-to-right-red-green"><a href="#4-background-image-linear-gradient-to-right-red-green" class="headerlink" title="4.background-image: linear-gradient(to right, red,green);"></a>4.background-image: linear-gradient(to right, red,green);</h4><ul><li>轴被旋转90度的情况</li><li>90度</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207052154643.png" alt="background-image: linear-gradient(to right, red,green)"></p><h4 id="5-background-image-linear-gradient-45deg-red-green"><a href="#5-background-image-linear-gradient-45deg-red-green" class="headerlink" title="5.background-image: linear-gradient(45deg, red,green);"></a>5.background-image: linear-gradient(45deg, red,green);</h4><ul><li>轴被旋转45度的情况</li><li>45度</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207052154063.png"></p><h4 id="6-示例代码"><a href="#6-示例代码" class="headerlink" title="6.示例代码"></a>6.示例代码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Document&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br><br>    &lt;div id=&quot;div1&quot;&gt;<br>        div1<br>    &lt;/div&gt;<br>    &lt;div id=&quot;div2&quot;&gt;<br>        div2<br>    &lt;/div&gt;<br>    &lt;div id=&quot;div3&quot;&gt;<br>        div3<br>    &lt;/div&gt;<br>    &lt;div id=&quot;div4&quot;&gt;<br>        div4<br>    &lt;/div&gt;<br>    &lt;div id=&quot;div5&quot;&gt;<br>        div5<br>    &lt;/div&gt;<br>    &lt;style&gt;<br>        #div1,#div2,#div3,#div4,#div5&#123;<br>            float: left;<br>            width: 200px;<br>            height: 200px;<br>            margin: 10px 5px;<br>        &#125;<br>        /* 指定渐变线，默认是to bottom */<br>        /* to top, to bottom, to left 和 to right <br>        这些值会被转换成角度 0 度、180 度、270 度和 90 度。<br>        其余值会被转换为一个以向顶部中央方向为起点顺时针旋转的角度。渐变线的结束点与其起点中心对称。 */<br>        #div1&#123;<br>            /* 等同于linear-gradient(to bottom,red,green),轴旋转了180度 */<br>            background-image:linear-gradient(red, green);<br>        &#125;<br>        #div2&#123;<br>            /* 轴旋转了0度 */<br>            background-image: linear-gradient(to top,red,green);<br>        &#125;<br>        #div3&#123;<br>            /* 轴旋转了270度 */<br>            background-image: linear-gradient(to left,red,green);<br>        &#125;<br>        #div4&#123;<br>            /* 轴旋转了90度 */<br>            background-image: linear-gradient(to right, red,green);<br>        &#125;<br>        #div5&#123;<br>            /* 轴被旋转45度的情况 */<br>            background-image: linear-gradient(45deg, red,green);<br>        &#125;<br>    &lt;/style&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure><h3 id="linear-gradient颜色绘制参数理解"><a href="#linear-gradient颜色绘制参数理解" class="headerlink" title="linear-gradient颜色绘制参数理解"></a>linear-gradient颜色绘制参数理解</h3><ul><li>就是渐变轴上颜色分布情况,和ps有些类似</li></ul><h4 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h4><ul><li>linear-gradient(0deg, blue, green 40%, red);</li><li>从下到上，从蓝色开始渐变、到高度40%位置是绿色渐变开始、最后以红色结束</li><li>演示结构图</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207052215664.png"></p><ul><li>效果图</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207052215031.png"></p><h2 id="13-vant表单验证实现邮箱为空提示信息1-格式不正确提示信息2"><a href="#13-vant表单验证实现邮箱为空提示信息1-格式不正确提示信息2" class="headerlink" title="13.vant表单验证实现邮箱为空提示信息1,格式不正确提示信息2"></a>13.vant表单验证实现邮箱为空提示信息1,格式不正确提示信息2</h2><ul><li>看代码就可以,在配置<code>rules</code>的时候,传入多个配置对象</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;van-field<br>             autocomplete<br>             v-model=<span class="hljs-string">&quot;email&quot;</span><br>             type=<span class="hljs-string">&quot;text&quot;</span><br>             label=<span class="hljs-string">&quot;电子邮箱&quot;</span><br>             name=<span class="hljs-string">&quot;pattern&quot;</span><br>             placeholder=<span class="hljs-string">&quot;请输入邮件&quot;</span><br>             :rules=<span class="hljs-string">&quot;[</span><br><span class="hljs-string">//为空提示这个</span><br><span class="hljs-string">             &#123; required: true, message: &#x27;请填写您的邮箱！&#x27; &#125;,   //正则出错提示这个</span><br><span class="hljs-string">             &#123; pattern: /^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.)&#123;1,63&#125;[a-z0-9]+$/, message: &#x27;邮箱格式错误！&#x27;&#125;]&quot;</span> /&gt;<br></code></pre></td></tr></table></figure><h2 id="14-vant组件库Toast轻提示全局注册没有用并且样式丢失了"><a href="#14-vant组件库Toast轻提示全局注册没有用并且样式丢失了" class="headerlink" title="14.vant组件库Toast轻提示全局注册没有用并且样式丢失了"></a>14.vant组件库Toast轻提示全局注册没有用并且样式丢失了</h2><ul><li><p>解决:原来的全局注册换成哪里用到就引入</p><ul><li><code>import &#123;Toast&#125; from &quot;vant&quot;;</code></li></ul></li><li><p>样式丢失错误</p></li><li><p><strong>解决错误</strong></p><ul><li>引入样式,我们需要使用哪个组件，就引入哪个组件样式即可，比如我们只使用按钮组件，则只需要引入按钮样式，如下:</li><li><code>import &#39;vant/lib/toast/style&#39;</code></li></ul></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207010917925.png"></p><ul><li>样式引入参考<a href="https://blog.csdn.net/m0_46309087/article/details/109502043">@vue解决vant组件样式失效问题</a></li></ul><h2 id="15-vue3-x组件当中和js当中使用vuex"><a href="#15-vue3-x组件当中和js当中使用vuex" class="headerlink" title="15.vue3.x组件当中和js当中使用vuex"></a>15.vue3.x组件当中和js当中使用vuex</h2><ul><li><p><strong>组件当中</strong>(.vue)</p><ul><li>引入<code>import &#123;useStore&#125; from &quot;Vuex&quot;;</code></li><li>然后调用<code>useStore</code>返回的值相当于vue2.x时候的<code>this.$store</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; useStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;HomeView&quot;</span>,<br>  <span class="hljs-attr">components</span>: &#123;&#125;,<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">//使用vuex仓库,等同于vue时候的this.$store</span><br>    <span class="hljs-keyword">const</span> store = <span class="hljs-title function_">useStore</span>();<br>    <span class="hljs-comment">//获取 Authorization 当中的值</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(store.<span class="hljs-property">state</span>.<span class="hljs-property">Authorization</span>);<br>    <span class="hljs-keyword">return</span> &#123;<br><br>    &#125;;<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure></li><li><p><strong>js当中使用</strong></p><ul><li>首先引入<code>import store from &quot;@store/index.js&quot;</code></li><li>然后这个<code>store</code>相当于vue2时候的的<code>this.$store</code>了</li></ul></li></ul><h2 id="16-vant的Toast-轻提示-设置不自动关闭-后面手动关闭"><a href="#16-vant的Toast-轻提示-设置不自动关闭-后面手动关闭" class="headerlink" title="16.vant的Toast(轻提示)设置不自动关闭,后面手动关闭"></a>16.vant的Toast(轻提示)设置不自动关闭,后面手动关闭</h2><ul><li>vant的回答解决办法 <a href="https://github.com/youzan/vant/issues/2117">@地址</a> 也就下面这种方法</li><li>通过设置配置对象当中的<code>duration:0</code> 即可</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Toast</span>.<span class="hljs-title function_">loading</span>(&#123;<span class="hljs-attr">message</span>:<span class="hljs-string">&quot;正在加载...&quot;</span>,<span class="hljs-attr">forbidClick</span>:<span class="hljs-literal">true</span>,<span class="hljs-attr">duration</span>:<span class="hljs-number">0</span>&#125;)<br></code></pre></td></tr></table></figure><ul><li>然后后面可以<strong>调用</strong><code>Toast.clear()</code><strong>来关闭提示</strong></li></ul><h2 id="17-window-localStorage-getItem获取不到指定的key值-返回的是null而不是undefined"><a href="#17-window-localStorage-getItem获取不到指定的key值-返回的是null而不是undefined" class="headerlink" title="17.window.localStorage.getItem获取不到指定的key值,返回的是null而不是undefined"></a>17.window.localStorage.getItem获取不到指定的key值,返回的是null而不是undefined</h2><h2 id="18-vue3使用keep-alive路由缓存保活"><a href="#18-vue3使用keep-alive路由缓存保活" class="headerlink" title="18.vue3使用keep-alive路由缓存保活"></a>18.vue3使用keep-alive路由缓存保活</h2><h3 id="添加路由缓存-x2F-保活"><a href="#添加路由缓存-x2F-保活" class="headerlink" title="添加路由缓存&#x2F;保活"></a>添加路由缓存&#x2F;保活</h3><ul><li>1.在需要缓存的路由组件添加元信息</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> routes = [<br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/&#x27;</span>,<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;home&#x27;</span>,<br>    <span class="hljs-attr">component</span>: <span class="hljs-title class_">HomeView</span><br>  &#125;,<br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/&#x27;</span>,<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Home&quot;</span>,<br>    <span class="hljs-attr">component</span>: <span class="hljs-title class_">Home</span>,<br>    <span class="hljs-attr">meta</span>: &#123;<br>      <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;梦洁小站-图书兄弟&quot;</span>,<br>      <span class="hljs-attr">keepAlive</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 组件需要缓存</span><br>    &#125;,<br>  &#125;,<br>]<br></code></pre></td></tr></table></figure><ul><li>2.<code>App.vue</code>原来的<code>&lt;router-view&gt;&lt;/router-view&gt;</code>删除</li><li>3.<code>App.vue</code>更换为如下代码的路由组件</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;router-view v-slot=<span class="hljs-string">&quot;&#123; Component &#125;&quot;</span>&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">transition</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- includeList变量需要通过setup返回 --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">keep-alive</span> <span class="hljs-attr">:include</span>=<span class="hljs-string">&quot;includeList&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;Component&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">component</span> <span class="hljs-attr">:is</span>=<span class="hljs-string">&quot;Component&quot;</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">keep-alive</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span></span><br>&lt;/router-view&gt;<br></code></pre></td></tr></table></figure><ul><li>4.<strong>App.vue组件当中添加如下内容</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; onMounted, toRefs, reactive, watch &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> &#123;useRoute&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-router&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;App&quot;</span>,<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> route = <span class="hljs-title function_">useRoute</span>();<br>    <span class="hljs-comment">//设置需要缓存的路由组件</span><br>    <span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>(&#123;<br>      <span class="hljs-attr">includeList</span>: [],<br>    &#125;);<br>    <span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-comment">//监视路由的改变,如果改变了,则添加进入路由组件</span><br>    <span class="hljs-title function_">watch</span>(<span class="hljs-function">() =&gt;</span> route,<span class="hljs-function">(<span class="hljs-params">newVal,oldVal</span>)=&gt;</span>&#123;<br>        <span class="hljs-comment">//读取当前路由组件的元数据,看是否有KeepAlive并且为true</span><br>        <span class="hljs-comment">//并且在缓存列表includeList当中不存在当前组件才添加进入缓存组件</span><br>      <span class="hljs-keyword">if</span>(newVal.<span class="hljs-property">meta</span>.<span class="hljs-property">keepAlive</span> &amp;&amp; state.<span class="hljs-property">includeList</span>.<span class="hljs-title function_">indexOf</span>(newVal.<span class="hljs-property">name</span>) === -<span class="hljs-number">1</span>)&#123;<br>          state.<span class="hljs-property">includeList</span>.<span class="hljs-title function_">push</span>(newVal.<span class="hljs-property">name</span>);<br>      &#125;<br>    &#125;,&#123;<span class="hljs-attr">deep</span>:<span class="hljs-literal">true</span>&#125;) <span class="hljs-comment">// 开启深度监听,不然没有效果</span><br>    <span class="hljs-keyword">return</span> &#123;<br>        <span class="hljs-comment">//提供给`router-view`组件使用变量名</span><br>      ...<span class="hljs-title function_">toRefs</span>(state),<br>    &#125;;<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="使用失效的问题"><a href="#使用失效的问题" class="headerlink" title="使用失效的问题"></a>使用失效的问题</h3><ul><li><p>我发现是vue-router当中<code>index.js</code>当中的<code>name属性</code>和<code>vue组件当中的name值</code><strong>不匹配导致的,改为相同就可以</strong></p></li><li><p>还有就是,name属性名称第一个字母大写…(为了迎合组件当中name属性的写法)之前我一直小写的</p></li><li><p>其他失效可以看看这个博客 <a href="https://blog.csdn.net/Jeason_KK/article/details/123663766">@vue 的 keep-alive include 属性不生效问题</a></p></li></ul><h2 id="19-vue3项目本地热更新时报错TypeError-parentComponent-ctx-deactivate-is-not-a-function"><a href="#19-vue3项目本地热更新时报错TypeError-parentComponent-ctx-deactivate-is-not-a-function" class="headerlink" title="19.vue3项目本地热更新时报错TypeError: parentComponent.ctx.deactivate is not a function"></a>19.vue3项目本地热更新时报错TypeError: parentComponent.ctx.deactivate is not a function</h2><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207041900520.png" alt="报错信息"></p><ul><li><p><strong>解决方法: 在keep-alive、component上设置key进行排序(即加个key)</strong></p></li><li><p>改之前的代码会报这个错</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;router-view v-slot=<span class="hljs-string">&quot;&#123; Component &#125;&quot;</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">transition</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">keep-alive</span> <span class="hljs-attr">:include</span>=<span class="hljs-string">&quot;includeList&quot;</span> &gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">component</span> <span class="hljs-attr">:is</span>=<span class="hljs-string">&quot;Component&quot;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">keep-alive</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span></span><br>&lt;/router-view&gt;<br></code></pre></td></tr></table></figure><ul><li>改之后,添加key</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;router-view v-slot=<span class="hljs-string">&quot;&#123; Component &#125;&quot;</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">transition</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">keep-alive</span> <span class="hljs-attr">:include</span>=<span class="hljs-string">&quot;includeList&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;Component&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">component</span> <span class="hljs-attr">:is</span>=<span class="hljs-string">&quot;Component&quot;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">keep-alive</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span></span><br>&lt;/router-view&gt;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vue</tag>
      
      <tag>图书兄弟</tag>
      
      <tag>移动端</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>图书兄弟移动端vue3.x项目(含在线演示)</title>
    <link href="/2022/07/05/%E5%89%8D%E7%AB%AF/%E5%9B%BE%E4%B9%A6%E5%85%84%E5%BC%9F%E7%A7%BB%E5%8A%A8%E7%AB%AFvue3.x%E9%A1%B9%E7%9B%AE/"/>
    <url>/2022/07/05/%E5%89%8D%E7%AB%AF/%E5%9B%BE%E4%B9%A6%E5%85%84%E5%BC%9F%E7%A7%BB%E5%8A%A8%E7%AB%AFvue3.x%E9%A1%B9%E7%9B%AE/</url>
    
    <content type="html"><![CDATA[<h2 id="EWSHOP图书兄弟介绍"><a href="#EWSHOP图书兄弟介绍" class="headerlink" title="EWSHOP图书兄弟介绍"></a>EWSHOP图书兄弟介绍</h2><ul><li>使用Vue3全家桶及vant组件库实现移动端有关图书的商品展示，订单支付，地址管理，个人订单信息等功能的实现<ul><li>路由守卫基本都加了~</li></ul></li><li>下载地址<ul><li><a href="https://github.com/superBiuBiuMan/ewShop_mobileWeb">github下载</a></li><li><a href="https://gitee.com/superBiuBiu/ewShop_mobileWeb">gitee下载</a></li></ul></li><li><strong>在线演示</strong><ul><li><a href="http://82.156.205.62:8084/">http://82.156.205.62:8084/</a></li></ul></li><li>其他要点<ul><li>也欢迎大家来我博客看看,博客地址<a href="https://www.dreamlove.top/">https://www.dreamlove.top/</a></li><li>支付宝沙箱版下载<ul><li><a href="https://wwi.lanzoup.com/iD6mk07cuoxc">蓝奏云下载</a></li></ul></li><li>项目运行在iPhone6&#x2F;7&#x2F;8即<code>375*667</code>页面在<strong>效果更佳</strong></li><li>具体项目API<ul><li><a href="https://www.showdoc.com.cn/1207745568269674?page_id=6090123481636428">项目API地址</a></li></ul></li></ul></li></ul><h2 id="截图演示"><a href="#截图演示" class="headerlink" title="截图演示"></a>截图演示</h2><h4 id="主页部分"><a href="#主页部分" class="headerlink" title="主页部分"></a>主页部分</h4><ul><li>&#x2F;</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051100946.png"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051100684.png"></p><h4 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h4><ul><li>&#x2F;category</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051100570.png"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051100083.png"></p><h4 id="购物车"><a href="#购物车" class="headerlink" title="购物车"></a>购物车</h4><ul><li>&#x2F;shopcart</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051100478.png"></p><ul><li>购物车为空</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051100320.png"></p><h4 id="个人中心"><a href="#个人中心" class="headerlink" title="个人中心"></a>个人中心</h4><ul><li>&#x2F;user</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207041925236.png"></p><h4 id="订单管理"><a href="#订单管理" class="headerlink" title="订单管理"></a>订单管理</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207041925652.png"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207041930792.png"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207041930145.png"></p><h4 id="订单详情"><a href="#订单详情" class="headerlink" title="订单详情"></a>订单详情</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207041928141.png"></p><h4 id="订单支付"><a href="#订单支付" class="headerlink" title="订单支付"></a>订单支付</h4><ul><li>由于接口原因,只有支付宝,还有就是,如果想弄那个跳转的,弄下也简单</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207041927509.png"></p><h4 id="地址管理"><a href="#地址管理" class="headerlink" title="地址管理"></a>地址管理</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207041928662.png"></p><h4 id="新增地址"><a href="#新增地址" class="headerlink" title="新增地址"></a>新增地址</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207041928878.png"></p><h4 id="编辑地址"><a href="#编辑地址" class="headerlink" title="编辑地址"></a>编辑地址</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207041929841.png"></p><h4 id="关于我们"><a href="#关于我们" class="headerlink" title="关于我们"></a>关于我们</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207041930774.png"></p>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vue</tag>
      
      <tag>图书兄弟</tag>
      
      <tag>移动端</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>图标库网站-汇集优秀的图标,插画等</title>
    <link href="/2022/07/04/%E5%B7%A5%E5%85%B7/%E5%9B%BE%E6%A0%87%E5%BA%93%E7%BD%91%E7%AB%99-%E6%B1%87%E9%9B%86%E4%BC%98%E7%A7%80%E7%9A%84%E5%9B%BE%E6%A0%87,%E6%8F%92%E7%94%BB%E7%AD%89/"/>
    <url>/2022/07/04/%E5%B7%A5%E5%85%B7/%E5%9B%BE%E6%A0%87%E5%BA%93%E7%BD%91%E7%AB%99-%E6%B1%87%E9%9B%86%E4%BC%98%E7%A7%80%E7%9A%84%E5%9B%BE%E6%A0%87,%E6%8F%92%E7%94%BB%E7%AD%89/</url>
    
    <content type="html"><![CDATA[<ul><li>转载自微信公众号 @喂鱼小思考</li></ul><p>当你想打开阿里的iconfont想找点图标时，却看到这句话：</p><p><strong>💣iconfont系统升级维护中，给您带来不便，敬请谅解！</strong> </p><p>你肯定：</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051114847.png"></p><p>特喵的！作为一个互联网熟知的图标库，居然还整这？</p><hr><p>🌟<strong>不过不用担心！我带着16个精品icon库来救急啦～</strong> </p><p>昨天中午已经发在DY，小伙伴反应都很不错</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051114342.png"><br><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051115770.png"></p><p>🔺<strong>illust</strong>(<strong>个人添加,个人推荐,我喜欢里面的插画</strong>~)</p><p>不过貌似需要科学上网~</p><p>链接🔗：<a href="https://zh-tw.ac-illust.com/">https://zh-tw.ac-illust.com/</a></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051112112.png"></p><p>🔺<strong>IconPark</strong><br>字节跳动商业化CUX设计团队精心打造的致力于图标应用规范化、统一化，提供丰富多样的高质量图标内容</p><p>链接🔗：<a href="https://iconpark.oceanengine.com/official">https://iconpark.oceanengine.com/official</a></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051114803.png"></p><hr><p>🔺<strong>Feather</strong><br>简单漂亮的开源图标</p><p>链接🔗：<a href="https://feathericons.com/">https://feathericons.com/</a></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051114845.png"></p><hr><p>🔺<strong>3DICONS</strong></p><p>制作精美的开源 3D 图标100% 免费用于商业和个人用途</p><p>链接🔗：<a href="https://3dicons.co/">https://3dicons.co/</a></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051114362.png"></p><hr><p>🔺**Heroicons<br>**</p><p>精美的手工 SVG 图标-230个</p><p>链接🔗：<a href="https://heroicons.com/">https://heroicons.com/</a></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051114058.png"></p><hr><p>🔺**Tabler Icons<br>**</p><p>1400+icon</p><p>链接🔗：<a href="https://tablericons.com/">https://tablericons.com/</a></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051114101.png"></p><hr><p>🔺**Iconoir<br>**</p><p>1000+icon</p><p>链接🔗：<a href="https://iconoir.com/">https://iconoir.com/</a></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051114211.png"></p><hr><p>🔺**Halloween<br>**</p><p>🎃 万圣节3D图标</p><p>链接🔗：<a href="https://halloween.wannathis.one/#do">https://halloween.wannathis.one/#do</a></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051114215.png"></p><hr><p>🔺**Undesign<br>**</p><p>为制造商、开发人员和设计师收集免费的设计工具和资源</p><p>链接🔗：<a href="https://undesign.learn.uno/">https://undesign.learn.uno/</a></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051115218.png"></p><hr><p>🔺<strong>イラストセンター</strong></p><p>日本免费商用插图网站，风格萌</p><p>链接🔗：<a href="https://illustcenter.com/">https://illustcenter.com/</a></p><p><img src="/%E5%9B%BE%E6%A0%87%E5%BA%93.assets/jtSqL8.png"></p><hr><p>🔺**Game-Icons<br>**</p><p>免费游戏图标</p><p>链接🔗：<a href="https://game-icons.net/">https://game-icons.net/</a></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051115480.png"></p><hr><p>🔺**Orioniconliblrary<br>**</p><p>适用于的 Web、iOS、Android 和设计项目的 8613 专业和免费 SVG 图标</p><p>链接🔗：<a href="https://orioniconlibrary.com/all-icons">https://orioniconlibrary.com/all-icons</a></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051115730.png"></p><hr><p>🔺**Iconhub<br>**</p><p>可调节类型大小粗细</p><p>链接🔗：<a href="https://iconhub.io/">https://iconhub.io/</a></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051115104.png"></p><hr><p>🔺**css.gg<br>**</p><p>免费开源</p><p>链接🔗：<a href="https://css.gg/app">https://css.gg/app</a></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051115390.png"></p><hr><p>🔺**Ionicons<br>**</p><p>高级设计的图标，用于 Web、iOS、Android 和桌面应用程序。支持 SVG 和网络字体</p><p>链接🔗：<a href="https://ionic.io/ionicons">https://ionic.io/ionicons</a></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051115290.png"></p><hr><p>🔺**Basicons<br>**</p><p>产品设计和开发的基本图标</p><p>链接🔗：<a href="https://basicons.xyz/">https://basicons.xyz/</a></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207051115576.png"></p>]]></content>
    
    
    <categories>
      
      <category>工具</category>
      
    </categories>
    
    
    <tags>
      
      <tag>工具</tag>
      
      <tag>图标库</tag>
      
      <tag>插画库</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>江西财经大学智慧江财登录分析</title>
    <link href="/2022/06/27/NodeJs/%E6%B1%9F%E8%A5%BF%E8%B4%A2%E7%BB%8F%E5%A4%A7%E5%AD%A6%E6%99%BA%E6%85%A7%E6%B1%9F%E8%B4%A2%E7%99%BB%E5%BD%95%E5%88%86%E6%9E%90/"/>
    <url>/2022/06/27/NodeJs/%E6%B1%9F%E8%A5%BF%E8%B4%A2%E7%BB%8F%E5%A4%A7%E5%AD%A6%E6%99%BA%E6%85%A7%E6%B1%9F%E8%B4%A2%E7%99%BB%E5%BD%95%E5%88%86%E6%9E%90/</url>
    
    <content type="html"><![CDATA[<h3 id="先抓包看看"><a href="#先抓包看看" class="headerlink" title="先抓包看看"></a>先抓包看看</h3><ul><li>发现提交登录的参数</li></ul><p>如图,提交的参数</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206271149618.png"></p><ul><li>然后试着搜索这些参数,看哪里用到了,关键的是<code>password</code>是怎么加密的,<strong>全局搜索</strong><code>ctrl+shift+f</code>来进行代码搜索,定位在如下图</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206271403931.png"></p><ul><li>然后我们就知道了加密方式</li></ul><h4 id="逻辑总结"><a href="#逻辑总结" class="headerlink" title="逻辑总结"></a>逻辑总结</h4><ul><li>我就懒得写了,直接引用<a href="https://blog.csdn.net/kdl_csdn">@K哥爬虫</a></li></ul><ol><li>加密入口可以在 index 首页找到，用到了 rsa.js 里面的三个加密函数 <code>RSAKey()</code>、<code>setPublic()</code>、<code>encrypt()</code>；</li><li>rsa.js 里的 <code>BigInteger()</code> 函数依赖 jsbn.js，<code>SecureRandom()</code> 函数依赖 rng.js；</li><li>rng.js 里的变量 <code>rng_psize</code> 在 prng4.js 中定义，<code>prng_newstate()</code> 函数也依赖 prng4.js</li></ol><h3 id="提交方式"><a href="#提交方式" class="headerlink" title="提交方式"></a>提交方式</h3><h4 id="前置知识"><a href="#前置知识" class="headerlink" title="前置知识"></a>前置知识</h4><ul><li><p>表单的name作用：name 属性用于对提交到服务器后的表单数据进行标识</p></li><li><p>注意：<strong>只有设置了 name 属性的表单元素才能在提交表单时传递它们的值。</strong></p></li><li><p>简单来说，name就是提交到后台的索引，比如在复选框中都要设置成name&#x3D;”hobby”说明几个复选框都在爱好下。</p></li><li><p>查看网页源代码发现,是在网页通过<code>form</code>表单提交的,并不是通过<code>axios</code>或者加<code>jQuery</code>进行js提交,可以看看下面的代码,通过<code>form</code>表单提交到<code>/cas/login</code></p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;fm1&quot;</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;`&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span> <span class="hljs-attr">autocomplete</span>=<span class="hljs-string">&quot;off&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;errorMessage&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;error&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display:none;&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;error-massage&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">cellpadding</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">cellspacing</span>=<span class="hljs-string">&quot;0&quot;</span>&gt;</span><br>    <br>      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">colspan</span>=<span class="hljs-string">&quot;2&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;校园卡号/首次登录请激活&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display: none;&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">colspan</span>=<span class="hljs-string">&quot;2&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;passwordEnc&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;pw&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;统一身份认证密码&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;pw&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display: none;&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;imageCode&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display:none;&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">colspan</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;position:relative;&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;errors&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;errors&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;0&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;imageCodeName&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;imageCodeName&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;4&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;yzm&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;验证码&quot;</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;yzm&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display: none;&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;position:absolute; top:5px; right:0;&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;100&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;height:2.5rem;&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#x27;/cas/codeimage&#x27;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;cursor: pointer;&quot;</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;this.src=&#x27;/cas/codeimage?&#x27;+Math.floor(Math.random()*100)&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display:none;&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;rememberPwd&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">colspan</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;height: 15px;&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;ckbRememberPP&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;rememberMe&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;_rememberMe&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;on&quot;</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;ckbRememberPP&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;vertical-align: middle;height: 13px;&quot;</span>&gt;</span>记住密码，2周内自动登录<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">colspan</span>=<span class="hljs-string">&quot;2&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;登 录&quot;</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;javascript:return checkInput();&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">colspan</span>=<span class="hljs-string">&quot;2&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;https://ssl.jxufe.edu.cn/uid/activateAuth?t=20161208120000&#x27;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;zhjh-a&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span>账号激活<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;https://ssl.jxufe.edu.cn/uid/forget?t=20161208120000&#x27;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;wjmm-a&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span>忘记密码<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;line&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;60%&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;pages/account_activate.html?t=20161208120000&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;zhjh&quot;</span>&gt;</span>统一认证账号激活攻略<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;clear-1&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;pages/password_forget.html?t=20161208120000&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;mmzh&quot;</span>&gt;</span>信息门户密码找回攻略<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;line&quot;</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;right&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;40%&quot;</span>&gt;</span> <br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;center&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ewm&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;images/ewm.jpg&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;70&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>移动门户二维码<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;cryptoType&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;1&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;lt&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;_c4ECACA77-B52F-B3C8-EF78-7F2DE9C616E0_k8175C76F-F064-D984-F521-22035A30AD09&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;_eventId&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;submit&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="加密示例代码"><a href="#加密示例代码" class="headerlink" title="加密示例代码"></a>加密示例代码</h3><ul><li>其他依赖github看看就可以 <a href="https://github.com/superBiuBiuMan/jxufe_loginRSA">https://github.com/superBiuBiuMan/jxufe_loginRSA</a></li></ul><h4 id="关键代码"><a href="#关键代码" class="headerlink" title="关键代码"></a>关键代码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//RSA加密</span><br><span class="hljs-keyword">const</span> &#123;<br>    <span class="hljs-title class_">RSAKey</span><br>&#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;./tools/rsa&quot;</span>);<br><br><span class="hljs-keyword">var</span> rsa = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RSAKey</span>();<br><span class="hljs-comment">//如果下面二个参数变动了,就去官网看看源代码就可以</span><br><span class="hljs-keyword">var</span> n = <span class="hljs-string">&quot;5598e3b75d21a2989274e222fa59ab07d829faa29b544e3a920c4dd287aed9302a657280c23220a35ae985ba157400e0502ce8e44570a1513bf7146f372e9c842115fb1b86def80e2ecf9f8e7a586656d12b27529f487e55052e5c31d0836b2e8c01c011bca911d983b1541f20b7466c325b4e30b4a79652470e88135113c9d9&quot;</span>;<br><span class="hljs-keyword">var</span> e = <span class="hljs-string">&quot;10001&quot;</span>;<br><br><span class="hljs-comment">//密码加密</span><br>rsa.<span class="hljs-title function_">setPublic</span>(n, e);<br><span class="hljs-keyword">var</span> encodedPassword = rsa.<span class="hljs-title function_">encrypt</span>(<span class="hljs-string">&#x27;123456789&#x27;</span>);<br><span class="hljs-comment">//输出加密的密码</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(encodedPassword);<br><br></code></pre></td></tr></table></figure><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><p><strong>二个参数可能会发生变动,就去官网看看源代码就可以</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206271615175.png"></p><h4 id="附带下登录的js"><a href="#附带下登录的js" class="headerlink" title="附带下登录的js"></a>附带下登录的js</h4><ul><li>本来想写一个查询成绩的,后面发现不会,抓包分析也不会…跳来跳去的那个认证….</li></ul><p><strong>ts版本</strong></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><code class="hljs ts"><br><span class="hljs-keyword">const</span> axios = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;axios&#x27;</span>);<br><span class="hljs-keyword">const</span> qs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;qs&#x27;</span>);<br><span class="hljs-keyword">const</span> &#123; <span class="hljs-title class_">RSAKey</span> &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;./tools/rsa&quot;</span>);<br><span class="hljs-keyword">const</span> cheerio = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;cheerio&quot;</span>);<br><br><span class="hljs-keyword">const</span> nDefault = <span class="hljs-string">&#x27;5598e3b75d21a2989274e222fa59ab07d829faa29b544e3a920c4dd287aed9302a657280c23220a35ae985ba157400e0502ce8e44570a1513bf7146f372e9c842115fb1b86def80e2ecf9f8e7a586656d12b27529f487e55052e5c31d0836b2e8c01c011bca911d983b1541f20b7466c325b4e30b4a79652470e88135113c9d9&#x27;</span>;<br><span class="hljs-keyword">const</span> eDefault = <span class="hljs-string">&#x27;10001&#x27;</span>;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginAndGet</span> &#123;<br>    <span class="hljs-attr">n</span>: <span class="hljs-built_in">string</span>;<br>    <span class="hljs-attr">e</span>: <span class="hljs-built_in">string</span>;<br>    <span class="hljs-attr">userName</span>: <span class="hljs-built_in">string</span>;<br>    <span class="hljs-attr">passWord</span>: <span class="hljs-built_in">string</span>;<br>    <span class="hljs-attr">encodedPassword</span>: <span class="hljs-built_in">string</span>;<span class="hljs-comment">//加密过后的密码</span><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">userName: <span class="hljs-built_in">string</span>, passWord: <span class="hljs-built_in">string</span>, n: <span class="hljs-built_in">string</span> = nDefault, e: <span class="hljs-built_in">string</span> = eDefault</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">n</span> = n;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">e</span> = e;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">userName</span> = userName;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">passWord</span> = passWord;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getRSAPassword</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">passWord</span>);<br>    &#125;<br>    <span class="hljs-comment">/* 获取加密后的密码 */</span><br>    <span class="hljs-title function_">getRSAPassword</span>(<span class="hljs-attr">originPass</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span> &#123;<br>        <span class="hljs-keyword">let</span> rsa = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RSAKey</span>();<br>        <span class="hljs-comment">//设置加密</span><br>        rsa.<span class="hljs-title function_">setPublic</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">n</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">e</span>);<br>        <span class="hljs-comment">//进行加密</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">encodedPassword</span> = rsa.<span class="hljs-title function_">encrypt</span>(originPass);<br>    &#125;<br><br>    <span class="hljs-comment">/* 开始 */</span><br>    <span class="hljs-title function_">start</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getIt</span>();<br>    &#125;<br><br>    <span class="hljs-comment">/* 获取it参数 */</span><br>    <span class="hljs-title function_">getIt</span>(): <span class="hljs-built_in">void</span> &#123;<br>        <span class="hljs-title function_">axios</span>(&#123;<br>            <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;get&#x27;</span>,<br>            <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;https://ssl.jxufe.edu.cn/cas/login&#x27;</span>,<br>            <span class="hljs-attr">headers</span>: &#123;<br>                <span class="hljs-string">&#x27;User-Agent&#x27;</span>: <span class="hljs-string">&#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36&#x27;</span>,<br>            &#125;<br>        &#125;).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> &#123;<br>            <span class="hljs-keyword">var</span> <span class="hljs-title class_">Data</span> = [];<br>            <span class="hljs-title class_">Data</span>.<span class="hljs-title function_">push</span>(data.<span class="hljs-property">headers</span>[<span class="hljs-string">&#x27;set-cookie&#x27;</span>][<span class="hljs-number">0</span>].<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\w*(?=\.)/m</span>).<span class="hljs-title function_">join</span>()); <span class="hljs-comment">//获取JSESSIONID</span><br>            <span class="hljs-title class_">Data</span>.<span class="hljs-title function_">push</span>(data.<span class="hljs-property">headers</span>[<span class="hljs-string">&#x27;set-cookie&#x27;</span>][<span class="hljs-number">1</span>].<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\w*(?=;)/m</span>).<span class="hljs-title function_">join</span>()); <span class="hljs-comment">//获取sessoinMapKey</span><br>            <span class="hljs-title class_">Data</span>.<span class="hljs-title function_">push</span>(cheerio.<span class="hljs-title function_">load</span>(data.<span class="hljs-property">data</span>)(<span class="hljs-string">&quot;:input[name=&#x27;lt&#x27;]&quot;</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;value&#x27;</span>)); <span class="hljs-comment">//获取It</span><br>            <span class="hljs-comment">// )</span><br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;载入页面获取的东西&quot;</span>, <span class="hljs-title class_">Data</span>);<br>            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Data</span>;<br>        &#125;).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> &#123;<br>            <span class="hljs-comment">// console.log(data);</span><br>            <span class="hljs-comment">// JSESSIONID 0索引和 sessoinMapKey 1 和It 2</span><br>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loginF</span>(data[<span class="hljs-number">2</span>], data[<span class="hljs-number">1</span>], data[<span class="hljs-number">0</span>], <span class="hljs-variable language_">this</span>.<span class="hljs-property">userName</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">encodedPassword</span>);<br>        &#125;);<br>    &#125;<br>    <span class="hljs-comment">/* 登录 */</span><br>    <span class="hljs-title function_">loginF</span>(<span class="hljs-params">lt: <span class="hljs-built_in">string</span>, sess: <span class="hljs-built_in">string</span>, jsess: <span class="hljs-built_in">string</span>, userName: <span class="hljs-built_in">string</span>, encodedPassword: <span class="hljs-built_in">string</span></span>) &#123;<br>        <span class="hljs-comment">//传送的数据</span><br>        <span class="hljs-keyword">var</span> data = qs.<span class="hljs-title function_">stringify</span>(&#123;<br>            <span class="hljs-string">&#x27;username&#x27;</span>: userName,<br>            <span class="hljs-string">&#x27;password&#x27;</span>: encodedPassword,<br>            <span class="hljs-string">&#x27;errors&#x27;</span>: <span class="hljs-string">&#x27;0&#x27;</span>,<br>            <span class="hljs-string">&#x27;_rememberMe&#x27;</span>: <span class="hljs-string">&#x27;on&#x27;</span>,<br>            <span class="hljs-string">&#x27;cryptoType&#x27;</span>: <span class="hljs-string">&#x27;1&#x27;</span>,<br>            <span class="hljs-string">&#x27;_eventId&#x27;</span>: <span class="hljs-string">&#x27;submit&#x27;</span>,<br>            <span class="hljs-string">&#x27;imageCodeName&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>,<br>            <span class="hljs-string">&#x27;lt&#x27;</span>: lt<br>        &#125;);<br>        <span class="hljs-comment">//axios配置</span><br>        <span class="hljs-keyword">var</span> config = &#123;<br>            <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;post&#x27;</span>,<br>            <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;https://ssl.jxufe.edu.cn/cas/login?jsessionid=&#x27;</span> + jsess + <span class="hljs-string">&#x27;.cas_app_2&#x27;</span>,<br>            <span class="hljs-comment">// url: &#x27;https://ssl.jxufe.edu.cn/cas/login&#x27;,</span><br>            <span class="hljs-attr">headers</span>: &#123;<br>                <span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&#x27;application/x-www-form-urlencoded&#x27;</span>,<br>                <span class="hljs-string">&#x27;User-Agent&#x27;</span>: <span class="hljs-string">&#x27; Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36&#x27;</span>,<br>                <span class="hljs-string">&#x27;Cookie&#x27;</span>: <span class="hljs-string">&#x27;JSESSIONID=&#x27;</span> + jsess + <span class="hljs-string">&#x27;.cas_app_2;sessoinMapKey=&#x27;</span> + sess + <span class="hljs-string">&#x27;; jxufe_username=&#x27;</span> + userName,<br>                <span class="hljs-string">&#x27;Referer&#x27;</span>: <span class="hljs-string">&#x27;https://ssl.jxufe.edu.cn/cas/login&#x27;</span>,<br>                <span class="hljs-string">&#x27;Origin&#x27;</span>: <span class="hljs-string">&#x27;https://ssl.jxufe.edu.cn&#x27;</span>,<br>            &#125;,<br>            <span class="hljs-attr">data</span>: data<br>        &#125;;<br>        <span class="hljs-comment">//发送请求</span><br>        <span class="hljs-title function_">axios</span>(config)<br>            .<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">response</span>) &#123;<br>                <span class="hljs-keyword">var</span> result = cheerio.<span class="hljs-title function_">load</span>(response.<span class="hljs-property">data</span>)(<span class="hljs-string">&quot;.error-massage span&quot;</span>).<span class="hljs-title function_">text</span>();<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;登录结果为:&quot;</span> + result);<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;cookie1为&#x27;</span>,response.<span class="hljs-property">headers</span>);<br>            &#125;)<br>            .<span class="hljs-title function_">catch</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) &#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error);<br>            &#125;);<br>    &#125;<br><br>&#125;<br><br><span class="hljs-comment">//测试代码</span><br><span class="hljs-keyword">var</span> test = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LoginAndGet</span>(<span class="hljs-string">&#x27;2202140875&#x27;</span>, <span class="hljs-string">&#x27;superBiuBB&#x27;</span>);<br>test.<span class="hljs-title function_">start</span>();<br></code></pre></td></tr></table></figure><ul><li>转换后的js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> axios = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;axios&#x27;</span>);<br><span class="hljs-keyword">var</span> qs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;qs&#x27;</span>);<br><span class="hljs-keyword">var</span> <span class="hljs-title class_">RSAKey</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;./tools/rsa&quot;</span>).<span class="hljs-property">RSAKey</span>;<br><span class="hljs-keyword">var</span> cheerio = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;cheerio&quot;</span>);<br><span class="hljs-keyword">var</span> nDefault = <span class="hljs-string">&#x27;5598e3b75d21a2989274e222fa59ab07d829faa29b544e3a920c4dd287aed9302a657280c23220a35ae985ba157400e0502ce8e44570a1513bf7146f372e9c842115fb1b86def80e2ecf9f8e7a586656d12b27529f487e55052e5c31d0836b2e8c01c011bca911d983b1541f20b7466c325b4e30b4a79652470e88135113c9d9&#x27;</span>;<br><span class="hljs-keyword">var</span> eDefault = <span class="hljs-string">&#x27;10001&#x27;</span>;<br><span class="hljs-keyword">var</span> <span class="hljs-title class_">LoginAndGet</span> = <span class="hljs-comment">/** <span class="hljs-doctag">@class</span> */</span> (<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">LoginAndGet</span>(<span class="hljs-params">userName, passWord, n, e</span>) &#123;<br>        <span class="hljs-keyword">if</span> (n === <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>) &#123; n = nDefault; &#125;<br>        <span class="hljs-keyword">if</span> (e === <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>) &#123; e = eDefault; &#125;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">n</span> = n;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">e</span> = e;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">userName</span> = userName;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">passWord</span> = passWord;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getRSAPassword</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">passWord</span>);<br>    &#125;<br>    <span class="hljs-comment">/* 获取加密后的密码 */</span><br>    <span class="hljs-title class_">LoginAndGet</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">getRSAPassword</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">originPass</span>) &#123;<br>        <span class="hljs-keyword">var</span> rsa = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RSAKey</span>();<br>        <span class="hljs-comment">//设置加密</span><br>        rsa.<span class="hljs-title function_">setPublic</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">n</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">e</span>);<br>        <span class="hljs-comment">//进行加密</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">encodedPassword</span> = rsa.<span class="hljs-title function_">encrypt</span>(originPass);<br>    &#125;;<br>    <span class="hljs-comment">/* 开始 */</span><br>    <span class="hljs-title class_">LoginAndGet</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">start</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getIt</span>();<br>    &#125;;<br>    <span class="hljs-comment">/* 获取it参数 */</span><br>    <span class="hljs-title class_">LoginAndGet</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">getIt</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">var</span> _this = <span class="hljs-variable language_">this</span>;<br>        <span class="hljs-title function_">axios</span>(&#123;<br>            <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;get&#x27;</span>,<br>            <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;https://ssl.jxufe.edu.cn/cas/login&#x27;</span>,<br>            <span class="hljs-attr">headers</span>: &#123;<br>                <span class="hljs-string">&#x27;User-Agent&#x27;</span>: <span class="hljs-string">&#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36&#x27;</span><br>            &#125;<br>        &#125;).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) &#123;<br>            <span class="hljs-keyword">var</span> <span class="hljs-title class_">Data</span> = [];<br>            <span class="hljs-title class_">Data</span>.<span class="hljs-title function_">push</span>(data.<span class="hljs-property">headers</span>[<span class="hljs-string">&#x27;set-cookie&#x27;</span>][<span class="hljs-number">0</span>].<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\w*(?=\.)/m</span>).<span class="hljs-title function_">join</span>()); <span class="hljs-comment">//获取JSESSIONID</span><br>            <span class="hljs-title class_">Data</span>.<span class="hljs-title function_">push</span>(data.<span class="hljs-property">headers</span>[<span class="hljs-string">&#x27;set-cookie&#x27;</span>][<span class="hljs-number">1</span>].<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\w*(?=;)/m</span>).<span class="hljs-title function_">join</span>()); <span class="hljs-comment">//获取sessoinMapKey</span><br>            <span class="hljs-title class_">Data</span>.<span class="hljs-title function_">push</span>(cheerio.<span class="hljs-title function_">load</span>(data.<span class="hljs-property">data</span>)(<span class="hljs-string">&quot;:input[name=&#x27;lt&#x27;]&quot;</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;value&#x27;</span>)); <span class="hljs-comment">//获取It</span><br>            <span class="hljs-comment">// )</span><br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;载入页面获取的东西&quot;</span>, <span class="hljs-title class_">Data</span>);<br>            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Data</span>;<br>        &#125;).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) &#123;<br>            <span class="hljs-comment">// console.log(data);</span><br>            <span class="hljs-comment">// JSESSIONID 0索引和 sessoinMapKey 1 和It 2</span><br>            _this.<span class="hljs-title function_">loginF</span>(data[<span class="hljs-number">2</span>], data[<span class="hljs-number">1</span>], data[<span class="hljs-number">0</span>], _this.<span class="hljs-property">userName</span>, _this.<span class="hljs-property">encodedPassword</span>);<br>        &#125;);<br>    &#125;;<br>    <span class="hljs-comment">/* 登录 */</span><br>    <span class="hljs-title class_">LoginAndGet</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">loginF</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">lt, sess, jsess, userName, encodedPassword</span>) &#123;<br>        <span class="hljs-comment">//传送的数据</span><br>        <span class="hljs-keyword">var</span> data = qs.<span class="hljs-title function_">stringify</span>(&#123;<br>            <span class="hljs-string">&#x27;username&#x27;</span>: userName,<br>            <span class="hljs-string">&#x27;password&#x27;</span>: encodedPassword,<br>            <span class="hljs-string">&#x27;errors&#x27;</span>: <span class="hljs-string">&#x27;0&#x27;</span>,<br>            <span class="hljs-string">&#x27;_rememberMe&#x27;</span>: <span class="hljs-string">&#x27;on&#x27;</span>,<br>            <span class="hljs-string">&#x27;cryptoType&#x27;</span>: <span class="hljs-string">&#x27;1&#x27;</span>,<br>            <span class="hljs-string">&#x27;_eventId&#x27;</span>: <span class="hljs-string">&#x27;submit&#x27;</span>,<br>            <span class="hljs-string">&#x27;imageCodeName&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>,<br>            <span class="hljs-string">&#x27;lt&#x27;</span>: lt<br>        &#125;);<br>        <span class="hljs-comment">//axios配置</span><br>        <span class="hljs-keyword">var</span> config = &#123;<br>            <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;post&#x27;</span>,<br>            <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;https://ssl.jxufe.edu.cn/cas/login?jsessionid=&#x27;</span> + jsess + <span class="hljs-string">&#x27;.cas_app_2&#x27;</span>,<br>            <span class="hljs-comment">// url: &#x27;https://ssl.jxufe.edu.cn/cas/login&#x27;,</span><br>            <span class="hljs-attr">headers</span>: &#123;<br>                <span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&#x27;application/x-www-form-urlencoded&#x27;</span>,<br>                <span class="hljs-string">&#x27;User-Agent&#x27;</span>: <span class="hljs-string">&#x27; Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36&#x27;</span>,<br>                <span class="hljs-string">&#x27;Cookie&#x27;</span>: <span class="hljs-string">&#x27;JSESSIONID=&#x27;</span> + jsess + <span class="hljs-string">&#x27;.cas_app_2;sessoinMapKey=&#x27;</span> + sess + <span class="hljs-string">&#x27;; jxufe_username=&#x27;</span> + userName,<br>                <span class="hljs-string">&#x27;Referer&#x27;</span>: <span class="hljs-string">&#x27;https://ssl.jxufe.edu.cn/cas/login&#x27;</span>,<br>                <span class="hljs-string">&#x27;Origin&#x27;</span>: <span class="hljs-string">&#x27;https://ssl.jxufe.edu.cn&#x27;</span><br>            &#125;,<br>            <span class="hljs-attr">data</span>: data<br>        &#125;;<br>        <span class="hljs-comment">//发送请求</span><br>        <span class="hljs-title function_">axios</span>(config)<br>            .<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">response</span>) &#123;<br>            <span class="hljs-keyword">var</span> result = cheerio.<span class="hljs-title function_">load</span>(response.<span class="hljs-property">data</span>)(<span class="hljs-string">&quot;.error-massage span&quot;</span>).<span class="hljs-title function_">text</span>();<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;登录结果为:&quot;</span> + result);<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;cookie1为&#x27;</span>, response.<span class="hljs-property">headers</span>);<br>        &#125;)[<span class="hljs-string">&quot;catch&quot;</span>](<span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) &#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error);<br>        &#125;);<br>    &#125;;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">LoginAndGet</span>;<br>&#125;());<br><span class="hljs-comment">//测试代码</span><br><span class="hljs-keyword">var</span> test = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LoginAndGet</span>(<span class="hljs-string">&#x27;2202140875&#x27;</span>, <span class="hljs-string">&#x27;superBiuBB&#x27;</span>);<br>test.<span class="hljs-title function_">start</span>();<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>javscript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NodeJs</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>问卷星问卷抓包分析</title>
    <link href="/2022/06/26/NodeJs/%E9%97%AE%E5%8D%B7%E6%98%9F%E9%97%AE%E5%8D%B7%E6%8A%93%E5%8C%85%E5%88%86%E6%9E%90/"/>
    <url>/2022/06/26/NodeJs/%E9%97%AE%E5%8D%B7%E6%98%9F%E9%97%AE%E5%8D%B7%E6%8A%93%E5%8C%85%E5%88%86%E6%9E%90/</url>
    
    <content type="html"><![CDATA[<h3 id="谷歌调试分析"><a href="#谷歌调试分析" class="headerlink" title="谷歌调试分析"></a>谷歌调试分析</h3><h4 id="提交的包数据"><a href="#提交的包数据" class="headerlink" title="提交的包数据"></a>提交的包数据</h4><p>如图,可以看到提交是数据,我们先以<code>jqsign</code>来进行全局搜索</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206272232432.png"></p><p><strong>这次全局搜索注意点</strong></p><p>在没有提交之前进行全局搜索<code>ctrl+shift+F</code>搜索才可以搜索到,不然提交完成后全局搜索什么都搜索不到</p><p>如图,没有提交之前搜索,可以看到<code>jqsin</code>关键字</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206272231656.png" alt="没有提交之前搜索"></p><h3 id="网页源码分析"><a href="#网页源码分析" class="headerlink" title="网页源码分析"></a>网页源码分析</h3><h4 id="jqnonce-后期jqsign加密需要用到"><a href="#jqnonce-后期jqsign加密需要用到" class="headerlink" title="jqnonce(后期jqsign加密需要用到)"></a>jqnonce(后期jqsign加密需要用到)</h4><p><strong>就在网页源代码里面~所以每次请求网页都会发生变化</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206272258842.png" alt="jqnonce"></p><h4 id="rndnum-后期提交请求需要用到"><a href="#rndnum-后期提交请求需要用到" class="headerlink" title="rndnum(后期提交请求需要用到)"></a>rndnum(后期提交请求需要用到)</h4><ul><li>依旧网页当中有</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//网页提供了很多参数</span><br><span class="hljs-keyword">var</span> isYdb=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> isPub=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> isQywx =<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> isinterview =<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> isQywxAnswerChangeUrl = <span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">var</span> cqType=<span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> ddcorpid=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> sojumpParm=<span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">var</span> parmsign=<span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">var</span> casign=<span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">var</span> cats=<span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">var</span> endTs=<span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">var</span> isKaoShi=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> lastTopic=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> <span class="hljs-title class_">Password</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">Password</span> ? <span class="hljs-variable language_">window</span>.<span class="hljs-property">Password</span> : <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> <span class="hljs-title class_">PasswordExt</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">PasswordExt</span> ? <span class="hljs-variable language_">window</span>.<span class="hljs-property">PasswordExt</span> : <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> pwdExt=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> emailName=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> displayExt=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> phoneName=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> wxNickName=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> cepingName=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> guid = <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> udsid=<span class="hljs-number">0</span>;<span class="hljs-keyword">var</span> fromsour=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> langVer=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> cProvince=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> cCity=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> cIp=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> divTip=<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;divTip&quot;</span>);<br><span class="hljs-keyword">var</span> displayPrevPage=<span class="hljs-string">&quot;none&quot;</span>;<br><span class="hljs-keyword">var</span> inviteid=<span class="hljs-string">&#x27;&#x27;</span>;<span class="hljs-keyword">var</span> jbkid=<span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">var</span> access_token=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> openid = <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> unionId = <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> wxUserId = <span class="hljs-string">&quot;&quot;</span>; <br><span class="hljs-keyword">var</span> isQQLogin=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> isDingTalkLogin = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> wxthird=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> parterts=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> parterjoiner=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> partersign=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> parterrealname=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> parterextf=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> parterdept=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> parterpuser=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> relusername=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> relts=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> relsign=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> relrealname=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> reldept=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> relext = <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> writeuser = <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> formopen=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> formts=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> formsign=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> formnick=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> nbk=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> corpId=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> flist=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> isPvw=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> user_token=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> <span class="hljs-title class_">IsSampleService</span>=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> hashb=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> sjUser=<span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">var</span> sjts=<span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">var</span> sjsign=<span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">var</span> outuser=<span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">var</span> sourcelink=<span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">var</span> outsign=<span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">var</span> sourceurl = <span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">var</span> sourcename=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> isSimple=<span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">var</span> jiFenBao=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> isRunning=<span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> <span class="hljs-title class_">SJBack</span>=<span class="hljs-string">&#x27;&#x27;</span>;<span class="hljs-keyword">var</span> jiFen=<span class="hljs-string">&quot;0&quot;</span>;<br><span class="hljs-keyword">var</span> <span class="hljs-title class_">FromSj</span>=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> <span class="hljs-title class_">ItemDicData</span>=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-comment">//需要用到</span><br><span class="hljs-keyword">var</span> rndnum=<span class="hljs-string">&quot;1792470105.05000187&quot;</span>;<br><span class="hljs-keyword">var</span> totalPage=<span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> totalCut=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> cepingCandidate=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> allowPart =<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> showTotalScore =<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> <span class="hljs-title class_">OneaTime</span> =<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> oneDept =<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> oneneedcontcp =<span class="hljs-number">0</span><br><span class="hljs-keyword">var</span> cpid=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> needSaveJoin=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> isChuangGuan=<span class="hljs-number">0</span>;<br><span class="hljs-comment">//需要用到</span><br><span class="hljs-keyword">var</span> jqnonce=<span class="hljs-string">&quot;61348c0e-ff49-4ffb-b2a7-f60ae3106771&quot;</span>;<br><span class="hljs-keyword">var</span> maxCgTime=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> maxOpTime=<span class="hljs-number">0</span>;<br><span class="hljs-comment">//需要用到,后期提交只不过转换了下</span><br><span class="hljs-keyword">var</span> qBeginDate=<span class="hljs-string">&quot;1656339402157&quot;</span>;<br><span class="hljs-keyword">var</span> randomMode=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> fisrtLoadTime=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getTime</span>();<br><span class="hljs-keyword">var</span> canAward=<span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> allowAward=<span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> isVip =<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> emUserName = <span class="hljs-string">&quot;V30SQaxJ9+XY5Hw0HBxVmINnib19XMvSDwMRfIUgpMA=&quot;</span>;<br><span class="hljs-keyword">var</span> <span class="hljs-title class_">LogStoreLocal</span>=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> needAddList=<span class="hljs-number">0</span>;<br><br><span class="hljs-keyword">var</span> needLogCompanyId=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> needHBAlert=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> isPromoteing=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> prsjts = <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span>  prsjsign = <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span>  cityPeiEQues = <span class="hljs-string">&quot;&quot;</span>;<br><br><span class="hljs-keyword">var</span> ishydj = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> canEditAnswer = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> forbidEditStr = <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> markerText = <span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">var</span> jumpOrgMinPro =<span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> progressBarType = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> isdingtalkFreeUser = <span class="hljs-number">0</span><br><span class="hljs-keyword">var</span> themeId = <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> fengmainId = <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> backgroundId = <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> useNewAppearance = <span class="hljs-string">&quot;1&quot;</span>;<br><span class="hljs-keyword">var</span> hasTouPiao =<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> compressPictures =<span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> completeResultType = <span class="hljs-number">1</span>;<br></code></pre></td></tr></table></figure><h3 id="jqsign参数加密分析"><a href="#jqsign参数加密分析" class="headerlink" title="jqsign参数加密分析"></a>jqsign参数加密分析</h3><p>加密关键js和代码,如图</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206272254016.png" alt="加密关键js和代码"></p><p><strong>代码</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/*a为网页的window.jqnonce的参数</span><br><span class="hljs-comment">  ktimes 单击网页的次数</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">dataenc</span>(<span class="hljs-params">a,ktimes</span>) &#123;<br>    <span class="hljs-keyword">var</span> c, d, e, b = ktimes % <span class="hljs-number">10</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-number">0</span> == b &amp;&amp; (b = <span class="hljs-number">1</span>),<br>    c = [],<br>    d = <span class="hljs-number">0</span>; d &lt; a.<span class="hljs-property">length</span>; d++)<br>        e = a.<span class="hljs-title function_">charCodeAt</span>(d) ^ b,<br>        c.<span class="hljs-title function_">push</span>(<span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>(e));<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">encodeURIComponent</span>(c.<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;&quot;</span>));<br>&#125;<br><br><span class="hljs-title function_">dataenc</span>(<span class="hljs-string">&quot;fcabefd7-5003-480f-a256-6f0e24f813be&quot;</span>,<span class="hljs-number">2</span>);<br><span class="hljs-comment">//返回内容</span><br><span class="hljs-comment">//dac%60gdf5%2F7221%2F6%3A2d%2Fc074%2F4d2g06d%3A31%60g</span><br><br></code></pre></td></tr></table></figure><h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><ul><li>这里以<a href="https://www.wjx.cn/vm/tuf9t53.aspx%E9%97%AE%E5%8D%B7%E4%B8%BA%E4%BE%8B">https://www.wjx.cn/vm/tuf9t53.aspx问卷为例</a></li></ul><h4 id="get参数"><a href="#get参数" class="headerlink" title="get参数"></a>get参数</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//这里以https://www.wjx.cn/vm/tuf9t53.aspx问卷为例</span><br><span class="hljs-attr">shortid</span>: tuf9t53 <span class="hljs-comment">//问卷后缀</span><br><span class="hljs-attr">starttime</span>: <span class="hljs-number">2022</span>/<span class="hljs-number">6</span>/<span class="hljs-number">27</span> <span class="hljs-number">22</span>:<span class="hljs-number">31</span>:<span class="hljs-number">23</span> <span class="hljs-comment">//开始时间</span><br><span class="hljs-attr">submittype</span>: <span class="hljs-number">1</span> <span class="hljs-comment">//提交类型好像(不太清楚)</span><br><span class="hljs-attr">ktimes</span>: <span class="hljs-number">49</span> <span class="hljs-comment">//好像是统计单击了网页多少次</span><br><span class="hljs-attr">hlv</span>: <span class="hljs-number">1</span> <br><span class="hljs-attr">rn</span>: <span class="hljs-number">1792470105.85906191</span><br><span class="hljs-attr">jqpram</span>: hyKUJxeSJ <span class="hljs-comment">//网页加载后有</span><br><span class="hljs-attr">nw</span>: <span class="hljs-number">1</span><br><span class="hljs-attr">t</span>: <span class="hljs-number">1656340310465</span> <span class="hljs-comment">//时间戳</span><br><span class="hljs-attr">jqnonce</span>: 2b1b7383-4cc2-4b14-a29d-4b53af74a1fc<br><span class="hljs-attr">jqsign</span>: ;k8k&gt;:<span class="hljs-number">1</span>:$=jj;$=k8=$h;0m$=k&lt;:ho&gt;=h8oj <span class="hljs-comment">//具体查看jqsign参数加密分析部分</span><br></code></pre></td></tr></table></figure><h4 id="post参数"><a href="#post参数" class="headerlink" title="post参数"></a>post参数</h4><ul><li>这里以这个问卷全部是<strong>单选</strong>为例<a href="https://www.wjx.cn/vm/tuf9t53.aspx">https://www.wjx.cn/vm/tuf9t53.aspx</a></li><li>这个问卷规律很简单<ul><li><code>&#125; </code>分割题目</li><li><strong>单选:</strong><code>1$1</code> 前面的代表题目,后面的代表题目号</li></ul></li></ul><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span>我这里全选A了,会发现规律了<br>&#125; 分割题目<br><span class="hljs-number">1</span><span class="hljs-variable">$1</span> 前面的代表题目,后面的代表题目号<br>submitdata: <span class="hljs-number">1</span><span class="hljs-variable">$1</span>&#125;<span class="hljs-number">2</span><span class="hljs-variable">$1</span>&#125;<span class="hljs-number">3</span><span class="hljs-variable">$1</span>&#125;<span class="hljs-number">4</span><span class="hljs-variable">$1</span>&#125;<span class="hljs-number">5</span><span class="hljs-variable">$1</span><br></code></pre></td></tr></table></figure><ul><li>后面看了下多选的,以这个问卷分析<a href="https://www.wjx.cn/vm/mpPVSKK.aspx">https://www.wjx.cn/vm/mpPVSKK.aspx</a></li><li>这个问卷规律也还挺简单的<ul><li><code>&#125; </code>分割题目</li><li><strong>单选:</strong><code>1$1</code> 前面的代表题目,后面的代表题目号</li><li><strong>多选:</strong><code>6$1|2</code> 前面代表题目,后面代表选项,以<code>|</code>分割</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//第六题为多选,我选了1,2,所以这里就出现了</span><br><span class="hljs-comment">// 6$1|2</span><br><span class="hljs-attr">submitdata</span>: <span class="hljs-number">1</span>$<span class="hljs-number">1</span>&#125;<span class="hljs-number">2</span>$<span class="hljs-number">1</span>&#125;<span class="hljs-number">3</span>$<span class="hljs-number">1</span>&#125;<span class="hljs-number">4</span>$<span class="hljs-number">1</span>&#125;<span class="hljs-number">5</span>$<span class="hljs-number">1</span>&#125;<span class="hljs-number">6</span>$<span class="hljs-number">1</span>|<span class="hljs-number">2</span>&#125;<span class="hljs-number">7</span>$<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>javscript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NodeJs</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>订阅地址-发薪日-白嫖订阅</title>
    <link href="/2022/06/25/%E5%B7%A5%E5%85%B7/%E8%AE%A2%E9%98%85%E5%9C%B0%E5%9D%80-%E5%8F%91%E8%96%AA%E6%97%A5-%E7%99%BD%E5%AB%96%E8%AE%A2%E9%98%85/"/>
    <url>/2022/06/25/%E5%B7%A5%E5%85%B7/%E8%AE%A2%E9%98%85%E5%9C%B0%E5%9D%80-%E5%8F%91%E8%96%AA%E6%97%A5-%E7%99%BD%E5%AB%96%E8%AE%A2%E9%98%85/</url>
    
    <content type="html"><![CDATA[<h3 id="白嫖机场汇总"><a href="#白嫖机场汇总" class="headerlink" title="白嫖机场汇总"></a>白嫖机场汇总</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#白嫖机场汇总。 持续更新</span><br><span class="hljs-comment">#排名不分先后！！！</span><br><span class="hljs-comment">#bulink 老牌白嫖</span><br>https://bulink.xyz/<br><span class="hljs-comment">#几🐔 也是老牌</span><br>https://a.luxury/signin<br><span class="hljs-comment">#Openit 免费订阅</span><br>https://openit.ml/<br><span class="hljs-comment">#ikuuu 比较好，不用签到</span><br>https://ikuuu.live/auth/login<br><span class="hljs-comment">#FIY 节点少…</span><br>https://fly.nullmouse.xyz/user<br><span class="hljs-comment">#咪蒙</span><br>https://love.mimon.cc/<span class="hljs-comment">#/dashboard</span><br><span class="hljs-comment">#SSRRUB 不验证邮箱随便注册</span><br>https://sub.ssrsub.com/<span class="hljs-comment">#/dashboard</span><br><span class="hljs-comment">#狗子快跑 （不验证邮箱）</span><br>https://www.freedog.cyou/user<br><span class="hljs-comment">#Galaxy</span><br>https://www.galaxy-cloud.com/<span class="hljs-comment">#/dashboard</span><br><span class="hljs-comment">#Welink 也是老牌</span><br>https://t.me/welink345bot?start=sZJhe7zV<br><span class="hljs-comment">#lilicloud （不验证邮箱）</span><br>http://www.992266.xyz/<span class="hljs-comment">#/dashboard</span><br><span class="hljs-comment">#PDGC</span><br>https://pdjc.cc/index.php<span class="hljs-comment">#/dashboard</span><br><span class="hljs-comment">#光速云公益站</span><br>http://1q9719r673.qicp.vip/<span class="hljs-comment">#/dashboard</span><br><span class="hljs-comment">#2046 很好的白嫖机场，就是注册麻烦</span><br>https://www.2046.gq/<span class="hljs-comment">#/dashboard</span><br><span class="hljs-comment">#v2云 也很不错，7天不签到销号</span><br>https://cwv587.com/auth/login<br><span class="hljs-comment">#emo tg群发优惠码获取白嫖码</span><br>https://yyds.emovpn.top/<span class="hljs-comment">#/login</span><br><span class="hljs-comment">#emo的电报群 https://t.me/emovpn</span><br><span class="hljs-comment"># 柚子 很不错的机场可以通过优惠码白嫖优惠码可能在tg群更新</span><br><span class="hljs-comment"># 柚子tg群： https://t.me/youzi_pro</span><br>https://www.youzi.pro/<span class="hljs-comment">#/dashboard</span><br><span class="hljs-comment">#泡泡狗 速度不错注册白嫖半年</span><br>https://www.paopao.dog/<span class="hljs-comment">#/dashboard</span><br><span class="hljs-comment">#Magic School 白嫖时间长，看限速说的很厉害但是没感觉</span><br>https://2220.it/portal/clientarea<br>注：基本都不带aff，如要aff可以私聊群主 @gulaiguq <br><br>------------------分割线---------------------<br><br><span class="hljs-comment">#如果感觉白嫖机场好用的话，帮忙点一下下面的aff谢谢</span><br><span class="hljs-comment">#小奇点</span><br>https://t.me/qdyun_bot?start=FJDx7RJK<br><span class="hljs-comment">#天机</span><br>https://t.me/tjvpn_bot?start=6aXmWbIO<br><span class="hljs-comment">#神器</span><br>https://t.me/shenseven_bot?start=2SXyiYQb<br>这些也算白嫖机场，不过要拉人头…所以点一下吧…谢谢谢<br>更新于2022-6-24 14:23<br></code></pre></td></tr></table></figure><h3 id="TG群"><a href="#TG群" class="headerlink" title="TG群"></a>TG群</h3><ul><li>📞[TG电报频道]<a href="https://t.me/payday501">https://t.me/payday501</a></li><li>📞[TG电报群] <a href="https://t.me/payday4478">https://t.me/payday4478</a></li><li>📞[TG电报群] <a href="https://t.me/gulaiguq_baipiao">https://t.me/gulaiguq_baipiao</a></li></ul><h3 id="自己用的"><a href="#自己用的" class="headerlink" title="自己用的"></a>自己用的</h3><ul><li>魔戒机场(不限时的):<a href="https://www.mojie.cyou/">https://www.mojie.cyou/</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>工具</category>
      
    </categories>
    
    
    <tags>
      
      <tag>工具</tag>
      
      <tag>机场</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vue3.0的学习</title>
    <link href="/2022/06/23/%E5%89%8D%E7%AB%AF/vue3.0%E7%9A%84%E5%AD%A6%E4%B9%A0/"/>
    <url>/2022/06/23/%E5%89%8D%E7%AB%AF/vue3.0%E7%9A%84%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h2 id="一-创建vue3-0工程"><a href="#一-创建vue3-0工程" class="headerlink" title="一.创建vue3.0工程"></a>一.创建vue3.0工程</h2><h3 id="1-使用vue-cli创建"><a href="#1-使用vue-cli创建" class="headerlink" title="1.使用vue-cli创建"></a>1.使用vue-cli创建</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">## 查看@vue/cli版本，确保@vue/cli版本在4.5.0以上</span><br>vue --version<br><span class="hljs-comment">## 安装或者升级你的@vue/cli</span><br>npm install -g @vue/cli<br><span class="hljs-comment">## 创建</span><br>vue create vue_test<br><span class="hljs-comment">## 启动</span><br><span class="hljs-built_in">cd</span> vue_test<br>npm run serve<br></code></pre></td></tr></table></figure><h3 id="2-使用-vite-创建"><a href="#2-使用-vite-创建" class="headerlink" title="2.使用 vite 创建"></a>2.使用 vite 创建</h3><p>官方文档：<a href="https://v3.cn.vuejs.org/guide/installation.html#vite">https://v3.cn.vuejs.org/guide/installation.html#vite</a></p><p>vite官网：<a href="https://vitejs.cn/">https://vitejs.cn</a></p><ul><li>什么是vite？—— 新一代前端构建工具。</li><li>优势如下：<ul><li>开发环境中，无需打包操作，可快速的冷启动。</li><li>轻量快速的热重载（HMR）。</li><li>真正的按需编译，不再等待整个应用编译完成。</li></ul></li><li>创建</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">## 创建工程</span><br>npm init vite-app &lt;project-name&gt;<br><span class="hljs-comment">## 进入工程目录</span><br><span class="hljs-built_in">cd</span> &lt;project-name&gt;<br><span class="hljs-comment">## 安装依赖</span><br>npm install<br><span class="hljs-comment">## 运行</span><br>npm run dev<br></code></pre></td></tr></table></figure><ul><li>传统构建 与 vite构建对比图</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206241639183.png" alt="传统的构建"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206241639804.png" alt="vite的构建"></p><h2 id="一-extra-分析vue2-x和vue3-x结构"><a href="#一-extra-分析vue2-x和vue3-x结构" class="headerlink" title="一(extra).分析vue2.x和vue3.x结构"></a>一(extra).分析vue2.x和vue3.x结构</h2><ul><li><p><strong>主要区别</strong></p><ul><li><p>1.引入的不在是vue2.x时候的<strong>vue构造函数</strong>了,而是引入的是一个名字叫<code>createApp</code>的工厂函数,并且比原来的构造函数更轻(我理解的是大小更小,加载更快)</p></li><li><p>2.在vue3.x结构当中,<code>template</code>部分的内容可以不被一个统一的容器所包裹了</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206241649042.png" alt="左vue2.x 右vue3.x"></p></li></ul></li></ul><h3 id="vue2-x的-main-js-初始时的代码"><a href="#vue2-x的-main-js-初始时的代码" class="headerlink" title="vue2.x的 main.js 初始时的代码"></a>vue2.x的 main.js 初始时的代码</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>    <span class="hljs-attr">render</span>:<span class="hljs-function"><span class="hljs-params">h</span>=&gt;</span><span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>&#125;).$mount(<span class="hljs-string">&quot;#app&quot;</span>);<br></code></pre></td></tr></table></figure><h3 id="vue3-x的-main-js-初始化时的代码"><a href="#vue3-x的-main-js-初始化时的代码" class="headerlink" title="vue3.x的 main.js 初始化时的代码"></a>vue3.x的 main.js 初始化时的代码</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123;createApp&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>).<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>);<br></code></pre></td></tr></table></figure><h2 id="二-常用的Composition-API-组合API"><a href="#二-常用的Composition-API-组合API" class="headerlink" title="二.常用的Composition API(组合API)"></a>二.常用的Composition API(组合API)</h2><h3 id="1-setup"><a href="#1-setup" class="headerlink" title="1.setup"></a>1.setup</h3><h4 id="setup是vue3-0新增加的一个配置项-为一个函数-里面可以写函数代码-注意区分下methods当中的写法"><a href="#setup是vue3-0新增加的一个配置项-为一个函数-里面可以写函数代码-注意区分下methods当中的写法" class="headerlink" title="setup是vue3.0新增加的一个配置项,为一个函数,里面可以写函数代码,注意区分下methods当中的写法"></a><code>setup</code>是vue3.0新增加的一个配置项,为一个函数,里面可以写函数代码,<strong>注意区分下methods当中的写法</strong></h4><ul><li><code>methods</code>当中书写一个函数的写法</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">methods</span>:&#123;<br>  ...<br>  <span class="hljs-title function_">sayWelcom</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;欢迎大家来到唐朝&quot;</span>)<br>  &#125;,<br>  ...<br>&#125;,<br></code></pre></td></tr></table></figure><ul><li><code>setup</code>当中书写一个函数的写法</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>  ...<br>  <span class="hljs-keyword">let</span> name = <span class="hljs-string">&#x27;李白&#x27;</span>;<br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-comment">//注意作用域的问题</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name);<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;大家好,我叫李白&quot;</span>);<br>  &#125;<br>  ...<br>  <span class="hljs-keyword">return</span> &#123;<br>    sayHello,<br>  &#125;<br>&#125;,<br></code></pre></td></tr></table></figure><h4 id="组件所用到的数据-方法-都可以写在setup当中-当然-你也可以写在vue2当中的data-methods等当中"><a href="#组件所用到的数据-方法-都可以写在setup当中-当然-你也可以写在vue2当中的data-methods等当中" class="headerlink" title="组件所用到的数据,方法,都可以写在setup当中,当然,你也可以写在vue2当中的data,methods等当中"></a>组件所用到的数据,方法,都可以写在setup当中,当然,你也可以写在vue2当中的data,methods等当中</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>      <span class="hljs-attr">money</span>:<span class="hljs-string">&quot;20K&quot;</span><br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-comment">//vue2当中的可以混合使用vue3的setup</span><br>    <span class="hljs-title function_">sayOther</span>(<span class="hljs-params"></span>)&#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`你的名字叫<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.name&#125;</span>,工资是<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.money&#125;</span>`</span>);<br>    &#125;<br>  &#125;,<br>  <span class="hljs-comment">// setup是新增的一个配置项,为一个函数,数据,方法,什么的都可以写在这里面</span><br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">//下面二行代码是不考虑数据响应式的写法</span><br>    <span class="hljs-keyword">let</span> name = <span class="hljs-string">&quot;李白&quot;</span>;<br>    <span class="hljs-keyword">let</span> age = <span class="hljs-number">1000</span>;<br>    <br>    <br>    <span class="hljs-comment">//需要返回一个对象,对象当中的属性和方法,均可以在模板当中直接使用</span><br>    <span class="hljs-keyword">return</span> &#123;<br>      name,<br>      age,<br>    &#125;<br>  &#125;,<br></code></pre></td></tr></table></figure><h4 id="setup的返回值"><a href="#setup的返回值" class="headerlink" title="setup的返回值"></a>setup的返回值</h4><ul><li>若返回一个对象，则对象中的<strong>属性</strong>、<strong>方法</strong>等 在模板中均可以直接使用。（重点关注！）</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-comment">//与此同时,vue2当中的也可以使用</span><br>  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>      <span class="hljs-attr">money</span>:<span class="hljs-string">&quot;20K&quot;</span><br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-title function_">sayWelcom</span>(<span class="hljs-params"></span>)&#123;<br>      <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;欢迎大家来到唐朝&quot;</span>)<br>    &#125;,<br>    <span class="hljs-comment">//vue2当中的可以混合使用vue3的setup</span><br>    <span class="hljs-title function_">sayOther</span>(<span class="hljs-params"></span>)&#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`你的名字叫<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.name&#125;</span>,工资是<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.money&#125;</span>`</span>);<br>    &#125;<br>  &#125;,<br>  <span class="hljs-comment">// setup是新增的一个配置项,为一个函数,数据,方法,什么的都可以写在这里面</span><br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">//下面二行代码是不考虑数据响应式的写法</span><br>    <span class="hljs-keyword">let</span> name = <span class="hljs-string">&quot;李白&quot;</span>;<br>    <span class="hljs-keyword">let</span> age = <span class="hljs-number">1000</span>;<br>    <br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>)&#123;<br>      <span class="hljs-comment">//注意作用域的问题</span><br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name);<br>      <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;大家好,我叫李白&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">sayOtherSetup</span>(<span class="hljs-params"></span>)&#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`你的名字叫<span class="hljs-subst">$&#123;name&#125;</span>,工资是<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.money&#125;</span>`</span>);<span class="hljs-comment">//你的名字叫李白,工资是undefined</span><br>    &#125;<br>    <span class="hljs-comment">//需要返回一个对象,对象当中的属性和方法,均可以在模板当中直接使用</span><br>    <span class="hljs-keyword">return</span> &#123;<br>      name,<br>      age,<br>      sayHello,<br>      sayOtherSetup<br>    &#125;<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><ul><li>若返回一个渲染函数：则可以自定义渲染内容。（了解）</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206241905608.png" alt="h就是渲染函数,在组件使用记得要引入 import {h} from &quot;vue&quot;"></p><h4 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h4><ul><li><p>vue2.x的配置,比如<code>data</code>,<code>methods</code>,<code>computed</code>可以访问到<code>setup</code>中的<strong>属性</strong>,<strong>方法</strong>,但是,setup不能访问到vue2.x的<code>data</code>,<code>methods</code>,<code>computed</code>等,<strong>因为setup当中的this为undefined</strong></p></li><li><p>setup不能是一个async函数，因为返回值不再是return的对象, 而是promise, 模板看不到return对象中的属性。（<strong>后期也可以返回一个Promise实例，但需要Suspense的配合</strong>）</p></li></ul><h3 id="2-ref函数-处理基本数据类型"><a href="#2-ref函数-处理基本数据类型" class="headerlink" title="2.ref函数-处理基本数据类型"></a>2.ref函数-处理基本数据类型</h3><ul><li><p>首先肯定是引入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;ref&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br></code></pre></td></tr></table></figure></li></ul><h4 id="ref函数作用"><a href="#ref函数作用" class="headerlink" title="ref函数作用:"></a>ref函数作用:</h4><ul><li>创建一个包含响应式数据的引用对象</li><li>js当中操作数据:<code>xxx.value</code></li><li>模板当中读取,不需要添加<code>.value</code>,直接<code>&lt;div&gt;&#123;&#123;xxx&#125;&#125;&lt;/div&gt;</code></li></ul><h4 id="ref函数语法"><a href="#ref函数语法" class="headerlink" title="ref函数语法:"></a>ref函数语法:</h4><ul><li><p><code>const xxx = ref(initValue)</code> </p></li><li><p>查看<code>ref</code>函数创建完成后的数据对象</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;ref&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">//ref作用:定义一个响应式函数,返回响应数据</span><br>    <span class="hljs-keyword">let</span> name = <span class="hljs-title function_">ref</span>(<span class="hljs-string">&quot;李白&quot;</span>);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name);<br>    <span class="hljs-keyword">return</span> &#123;<br>      name,<br>    &#125;;<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><p>输出的内容 </p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206241915707.png" alt="输出查看ref函数生成的变量-传入基本数据类型"></p></li><li><p>对ref传入的基本数据类型进行响应式修改 </p><ul><li><strong>别漏掉了一层value!</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;ref&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">//ref作用:定义一个响应式函数</span><br>    <span class="hljs-keyword">let</span> name = <span class="hljs-title function_">ref</span>(<span class="hljs-string">&quot;李白&quot;</span>);<br>    <span class="hljs-comment">//响应式修改</span><br>    name.<span class="hljs-property">value</span> = <span class="hljs-string">&quot;李黑&quot;</span>;<br>    <span class="hljs-keyword">return</span> &#123;<br>      name,<br>    &#125;;<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure></li></ul><blockquote><p>ref函数创建的对象,全称为 Reference implement 引用实行对象 ,这里简称为引用对象</p></blockquote><h3 id="3-ref函数-处理对象数据类型"><a href="#3-ref函数-处理对象数据类型" class="headerlink" title="3.ref函数-处理对象数据类型"></a>3.ref函数-处理对象数据类型</h3><ul><li><p>首先肯定也是引入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;ref&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span><br></code></pre></td></tr></table></figure></li><li><p>ref函数参数传入一个对象</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;ref&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">//ref作用:定义一个响应式函数</span><br>     <span class="hljs-keyword">let</span> job = <span class="hljs-title function_">ref</span>(&#123;<br>      <span class="hljs-attr">salary</span>:<span class="hljs-string">&quot;30K&quot;</span>,<br>      <span class="hljs-attr">type</span>:<span class="hljs-string">&quot;前端工程师&quot;</span><br>    &#125;)<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(job);<br>    <span class="hljs-keyword">return</span> &#123;<br>      job,<br>    &#125;;<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><p>输出查看变量<code>job</code></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206241919131.png" alt="输出查看ref函数生成的变量-传入对象"></p></li><li><p>对ref传入的对象进行响应式修改 </p><ul><li>注意不要少了一层<code>value</code>,使得指向真正保存数据的结构</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;ref&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">//ref作用:定义一个响应式函数</span><br>     <span class="hljs-keyword">let</span> job = <span class="hljs-title function_">ref</span>(&#123;<br>      <span class="hljs-attr">salary</span>:<span class="hljs-string">&quot;30K&quot;</span>,<br>      <span class="hljs-attr">type</span>:<span class="hljs-string">&quot;前端工程师&quot;</span><br>    &#125;)<br>    <span class="hljs-comment">//改变ref当中的对象-响应式修改</span><br>    job.<span class="hljs-property">value</span>.<span class="hljs-property">salary</span> = <span class="hljs-string">&quot;100k&quot;</span>;<br>    job.<span class="hljs-property">value</span>.<span class="hljs-property">type</span> = <span class="hljs-string">&quot;高级前端工程师&quot;</span>;<br>     <br>    <span class="hljs-keyword">return</span> &#123;<br>      job,<br>    &#125;;<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure></li></ul><h3 id="4-ref函数总结"><a href="#4-ref函数总结" class="headerlink" title="4.ref函数总结"></a>4.ref函数总结</h3><ul><li>ref当中,可以接收的数据类型可以是:基本数据类型,也可以是对象类型</li><li>基本数据类型的数据vue实现响应式的原理:依靠<code>Object.defineProperty()</code>的 <strong>get</strong> 和 <strong>set完成</strong></li><li>对象&#x2F;引用数据类型的数据vue实现响应式的原理: 求助了Vue3.0中的一个新函数—— <code>reactive</code>函数。</li></ul><h3 id="5-reactive函数"><a href="#5-reactive函数" class="headerlink" title="5.reactive函数"></a>5.reactive函数</h3><ul><li><p>首先是引入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;reactive&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span><br></code></pre></td></tr></table></figure></li></ul><h4 id="reactive作用"><a href="#reactive作用" class="headerlink" title="reactive作用:"></a>reactive作用:</h4><ul><li>定义一个对象数据类型的响应式数据,基本类型不要使用(<strong>基本类型的使用请使用ref函数</strong>)<ul><li>如果对基本数据类型使用了,会提示<strong>value cannot be made reactive: 我是基本数据类型,</strong><code>let test = reactive(&quot;我是基本数据类型&quot;); </code>使用这代码就会提示这个</li></ul></li></ul><h4 id="reactive语法"><a href="#reactive语法" class="headerlink" title="reactive语法:"></a>reactive语法:</h4><ul><li><code>const 代理对象 = reactive(源对象) </code><strong>源对象接收一个对象或者数组</strong></li></ul><h4 id="注意点-1"><a href="#注意点-1" class="headerlink" title="注意点:"></a>注意点:</h4><ul><li><p>通过<code>reactive</code>函数处理的源对象,不管是何种方式的添加,删除,数据都是响应式的</p><ul><li><strong>reactive定义的数组或者对象，不能直接对整体进行赋值修改，否则定义的数据将失去响应性!!!!!</strong></li></ul></li><li><p>比方说vue2.x给<strong>对象</strong>添加一个数据要是响应式,必须要通过<code>this.$set</code>或者<code>Vue.set</code>来实现),vue3.0却不用</p></li><li><p>比方说vue2.x对<strong>数组</strong>进行修改,添加,只能使用vue重写的那几个方法,但是vue3.x当中,通过<code>reactive</code>操作的,可以通过下标来操作数组,vue3.0操作过后数组依旧是响应式数据</p></li><li><p>reactive定义的响应式数据是“<strong>深层次的</strong>”,不管有多少层,都是默认全部处理为响应式</p></li><li><p>内部基于 ES6 的 <code>Proxy</code> 实现，通过代理对象操作源对象内部数据进行操作。</p></li></ul><h4 id="示例"><a href="#示例" class="headerlink" title="示例:"></a>示例:</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; reactive, ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;App&quot;</span>,<br>  <span class="hljs-attr">components</span>: &#123;&#125;,<br>  <span class="hljs-comment">// setup是新增的一个配置项,为一个函数,数据,方法,什么的都可以写在这里面</span><br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">//ref对基本数据类型的处理</span><br>    <span class="hljs-keyword">let</span> name = <span class="hljs-title function_">ref</span>(<span class="hljs-string">&quot;李白&quot;</span>);<br>    <span class="hljs-keyword">let</span> age = <span class="hljs-title function_">ref</span>(<span class="hljs-number">1000</span>);<br>    <span class="hljs-comment">// let test = reactive(&quot;我是基本数据类型&quot;);</span><br>    <span class="hljs-comment">//通过reactive函数实现对象的响应式数据</span><br>    <span class="hljs-keyword">let</span> job = <span class="hljs-title function_">reactive</span>(&#123;<br>      <span class="hljs-attr">type</span>:<span class="hljs-string">&quot;前端工程师&quot;</span>,<br>      <span class="hljs-attr">salary</span>:<span class="hljs-string">&quot;10K&quot;</span>,<br>      <span class="hljs-attr">address</span>:<span class="hljs-string">&quot;尚硅谷&quot;</span>,<br>      <span class="hljs-attr">hobby</span>:[<span class="hljs-string">&quot;吃饭&quot;</span>,<span class="hljs-string">&quot;睡觉&quot;</span>,<span class="hljs-string">&quot;打豆豆&quot;</span>]<br>    &#125;)<br><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">changeValue</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-comment">//改变ref当中的基本数据类型</span><br>      name.<span class="hljs-property">value</span> = <span class="hljs-string">&quot;李黑&quot;</span>;<br>      age.<span class="hljs-property">value</span> = <span class="hljs-number">2000</span>;<br><br>      <span class="hljs-comment">//改变reactive的值</span><br>      job.<span class="hljs-property">type</span> = <span class="hljs-string">&quot;高级工程师&quot;</span><br>      job.<span class="hljs-property">salary</span> = <span class="hljs-string">&quot;30K&quot;</span><br>      job.<span class="hljs-property">address</span> = <span class="hljs-string">&quot;苹果&quot;</span><br>      job.<span class="hljs-property">hobby</span>[<span class="hljs-number">0</span>] = <span class="hljs-string">&quot;吃零食&quot;</span>;<span class="hljs-comment">//vue3是可以这样子做的</span><br>    &#125; <br><br>    <span class="hljs-comment">//需要返回一个对象,对象当中的属性和方法,均可以在模板当中直接使用</span><br>    <span class="hljs-keyword">return</span> &#123;<br>      name,<br>      age,<br>      changeValue,<br>      job,<br>    &#125;;<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="失去响应式示例"><a href="#失去响应式示例" class="headerlink" title="失去响应式示例"></a>失去响应式示例</h4><ul><li>当经过一秒后,页面显示的内容并没有被改变!</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;border: 1px solid red&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span></span><br><span class="language-xml">    &#123;&#123; banner &#125;&#125;</span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; reactive, onMounted &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;HomeView&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">components</span>: &#123;&#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//预先定义一个数据填充占位</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">var</span> banner = <span class="hljs-title function_">reactive</span>(&#123;&#125;);</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        banner = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;李白&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-string">&quot;18&quot;</span> &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;修改值完成&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;, <span class="hljs-number">2000</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      banner,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><h3 id="6-reactive对比ref"><a href="#6-reactive对比ref" class="headerlink" title="6.reactive对比ref"></a>6.reactive对比ref</h3><ul><li>从定义数据角度对比：<ul><li>ref用来定义：<strong style="color:#DD5145">基本类型数据</strong>。</li><li>reactive用来定义：<strong style="color:#DD5145">对象（或数组）类型数据</strong>。</li><li>备注：ref也可以用来定义<strong style="color:#DD5145">对象（或数组）类型数据</strong>, 它内部会自动通过<code>reactive</code>转为<strong style="color:#DD5145">代理对象</strong>。</li></ul></li><li>从原理角度对比：<ul><li>ref通过<code>Object.defineProperty()</code>的<code>get</code>与<code>set</code>来实现响应式（数据劫持）。</li><li>reactive通过使用<strong style="color:#DD5145">Proxy</strong>来实现响应式（数据劫持）, 并通过<strong style="color:#DD5145">Reflect</strong>操作<strong style="color:orange">源对象</strong>内部的数据。</li></ul></li><li>从使用角度对比：<ul><li>ref定义的数据：操作数据<strong style="color:#DD5145">需要</strong><code>.value</code>，读取数据时模板中直接读取<strong style="color:#DD5145">不需要</strong><code>.value</code>。</li><li>reactive定义的数据：操作数据与读取数据：<strong style="color:#DD5145">均不需要</strong><code>.value</code>。</li></ul></li></ul><h3 id="7-vue2响应式原理-演示简版"><a href="#7-vue2响应式原理-演示简版" class="headerlink" title="7.vue2响应式原理-演示简版"></a>7.vue2响应式原理-演示简版</h3><h4 id="实现原理："><a href="#实现原理：" class="headerlink" title="实现原理："></a>实现原理：</h4><ul><li><p>对象类型：通过<code>Object.defineProperty()</code>对属性的读取、修改进行拦截（数据劫持）。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(data, <span class="hljs-string">&#x27;count&#x27;</span>, &#123;<br>    get () &#123;&#125;, <br>    set () &#123;&#125;<br>&#125;)<br></code></pre></td></tr></table></figure></li><li><p>数组类型：通过重写更新数组的一系列方法来实现拦截。（对数组的变更方法进行了包裹）。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">push</span>()<br><span class="hljs-title function_">pop</span>()<br><span class="hljs-title function_">shift</span>()<br><span class="hljs-title function_">unshift</span>()<br><span class="hljs-title function_">splice</span>()<br><span class="hljs-title function_">sort</span>()<br><span class="hljs-title function_">reverse</span>()<br></code></pre></td></tr></table></figure></li><li><p>vue2.x当中直接添加,<strong>非响应式</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>      <span class="hljs-title class_">Person</span>: &#123;<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;李白&quot;</span>,<br>        <span class="hljs-attr">age</span>: <span class="hljs-number">1000</span>,<br>        <span class="hljs-attr">hobby</span>: [<span class="hljs-string">&quot;吃饭&quot;</span>, <span class="hljs-string">&quot;睡觉&quot;</span>, <span class="hljs-string">&quot;打豆豆&quot;</span>],<br>      &#125;,<br>    &#125;;<br>  &#125;,<br>  <span class="hljs-attr">methods</span>: &#123;<br>    <span class="hljs-title function_">addSex</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-comment">// 直接添加,添加后的数据非响应式</span><br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">Person</span>.<span class="hljs-property">sex</span> = <span class="hljs-string">&quot;男&quot;</span>;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">Person</span>);<br>    &#125;,<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure></li><li><p>通过<code>this.$set(添加的对象,新增加的属性名称/要修改的索引下标,新添加值/新值)</code>,<strong>为响应式</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;App&quot;</span>,<br>  <span class="hljs-attr">components</span>: &#123;&#125;,<br>  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>      <span class="hljs-title class_">Person</span>: &#123;<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;李白&quot;</span>,<br>        <span class="hljs-attr">age</span>: <span class="hljs-number">1000</span>,<br>        <span class="hljs-attr">hobby</span>: [<span class="hljs-string">&quot;吃饭&quot;</span>, <span class="hljs-string">&quot;睡觉&quot;</span>, <span class="hljs-string">&quot;打豆豆&quot;</span>],<br>      &#125;,<br>    &#125;;<br>  &#125;,<br>  <span class="hljs-attr">methods</span>: &#123;<br>    <span class="hljs-title function_">addSex</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-comment">// 直接添加,添加后的数据非响应式</span><br>      <span class="hljs-comment">// this.Person.sex = &quot;男&quot;;</span><br>      <span class="hljs-comment">// console.log(this.Person);</span><br>      <span class="hljs-comment">//通过this.$set添加 响应式</span><br>      <span class="hljs-variable language_">this</span>.$set(<span class="hljs-variable language_">this</span>.<span class="hljs-property">Person</span>, <span class="hljs-string">&quot;sex&quot;</span>, <span class="hljs-string">&quot;男&quot;</span>);<br>    &#125;,<br>    <span class="hljs-title function_">changeHobby</span>(<span class="hljs-params"></span>)&#123;<br>       <span class="hljs-comment">//通过this.$set添加/修改 响应式</span><br>      <span class="hljs-variable language_">this</span>.$set(<span class="hljs-variable language_">this</span>.<span class="hljs-property">Person</span>.<span class="hljs-property">hobby</span>,<span class="hljs-number">2</span>,<span class="hljs-string">&quot;打游戏&quot;</span>);<br>      <span class="hljs-variable language_">this</span>.$set(<span class="hljs-variable language_">this</span>.<span class="hljs-property">Person</span>.<span class="hljs-property">hobby</span>,<span class="hljs-number">3</span>,<span class="hljs-string">&quot;吃饭饭&quot;</span>);<br>    &#125;<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure></li></ul><h4 id="vue2对响应式数据存在的问题"><a href="#vue2对响应式数据存在的问题" class="headerlink" title="vue2对响应式数据存在的问题"></a>vue2对响应式数据存在的问题</h4><ul><li>新增属性,删除属性,界面不会更新(vue3.x已经解决)</li><li>直接通过下标修改数组,界面不会自动更新(vue3.x已经解决)</li><li>以上vue2.x的解决都是通过重写方法或者this.$set\vue.set</li></ul><h3 id="8-vue3响应式原理和vue2响应式原理-分析简版"><a href="#8-vue3响应式原理和vue2响应式原理-分析简版" class="headerlink" title="8.vue3响应式原理和vue2响应式原理-分析简版"></a>8.vue3响应式原理和vue2响应式原理-分析简版</h3><h4 id="vue2响应式代码示例演示"><a href="#vue2响应式代码示例演示" class="headerlink" title="vue2响应式代码示例演示"></a>vue2响应式代码示例演示</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br><span class="hljs-comment">// vue2的响应式原理 - 当我们在增加/删除/修改/读取的时候可以捕捉到</span><br><span class="hljs-comment">// 缺点,添加无法变成响应式,修改可以,读取也可以</span><br><span class="hljs-keyword">var</span> <span class="hljs-title class_">Person1</span> = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;李白&quot;</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-number">1000</span>,<br>&#125;<br><span class="hljs-keyword">var</span> p1 = &#123;&#125;;<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(p1, <span class="hljs-string">&quot;name&quot;</span>, &#123;<br>    <span class="hljs-comment">//如果不设置这个,delete 删除属性是删除不掉的</span><br>    <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span>,<br>    <span class="hljs-title function_">get</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;你读取了name&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Person1</span>.<span class="hljs-property">name</span>;<br>    &#125;,<br>    <span class="hljs-title function_">set</span>(<span class="hljs-params">newValue</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;你设置了name,并将值设置为&quot;</span>, newValue);<br>        <span class="hljs-title class_">Person1</span>.<span class="hljs-property">name</span> = newValue;<br>    &#125;<br>&#125;);<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(p1, <span class="hljs-string">&quot;age&quot;</span>, &#123;<br>    <span class="hljs-comment">//如果不设置这个,delete 删除属性是删除不掉的</span><br>    <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span>,<br>    <span class="hljs-title function_">get</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;你读取了age&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Person1</span>.<span class="hljs-property">age</span>;<br>    &#125;,<br>    <span class="hljs-title function_">set</span>(<span class="hljs-params">newValue</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;你设置了age,并将值设置为&quot;</span>, newValue);<br>        <span class="hljs-title class_">Person1</span>.<span class="hljs-property">age</span> = newValue;<br>    &#125;<br>&#125;);<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><h3 id="9-vue3响应式原理代码示例演示"><a href="#9-vue3响应式原理代码示例演示" class="headerlink" title="9.vue3响应式原理代码示例演示"></a>9.vue3响应式原理代码示例演示</h3><blockquote><p>vue3响应式原理主要是通过<strong>调用window上面的方法 - Proxy</strong></p></blockquote><ul><li><strong>Proxy语法格式</strong><ul><li>new Proxy(要监视的数据,配置项目)</li><li>配置项目当中,异步传入一个对象,里面可以配置<ul><li><code>get(targetObj,propName)&#123; ... &#125;</code></li><li><code>set(targetObj,propName)&#123; ... &#125;</code></li><li><code>deleteProxy(targetObj,propName)&#123; ... &#125;</code></li></ul></li><li>参数<strong>targetObj</strong>为被修改的对象</li><li>参数<strong>propName</strong>为被修改的属性名称</li></ul></li><li>最基本的实现-无检测,<strong>但是可以实现基本的p2删除,修改,添加,删除反馈到Person2</strong>,但是无法捕捉到变化</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//vue3响应式原理 - 调用window上面的方法Proxy</span><br><span class="hljs-keyword">var</span> <span class="hljs-title class_">Person2</span> = &#123;<br>    <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白&quot;</span>,<br>    <span class="hljs-attr">age</span>:<span class="hljs-number">1000</span>,<br>&#125;<br><span class="hljs-comment">//这样子实现了p2修改,Person2也会被修改</span><br><span class="hljs-keyword">var</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(<span class="hljs-title class_">Person2</span>,&#123;<br><br>&#125;);<br></code></pre></td></tr></table></figure><ul><li>响应式的实现-添加检测操作,这样子捕捉到对谁修改了,可以进行一些操作</li></ul><p>注意这里除了set get 还有<strong>一个新的 deleteProperty</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//vue3响应式原理 - 调用window上面的方法Proxy</span><br><span class="hljs-keyword">var</span> <span class="hljs-title class_">Person2</span> = &#123;<br><span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白&quot;</span>,<br><span class="hljs-attr">age</span>:<span class="hljs-number">1000</span>,<br>&#125;<br><span class="hljs-comment">//这样子实现了p2修改,Person2也会被修改</span><br><span class="hljs-keyword">var</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(<span class="hljs-title class_">Person2</span>,&#123;<br><span class="hljs-comment">/* 参数1为操作的对象 参数2为操作的属性 */</span><br><span class="hljs-title function_">get</span>(<span class="hljs-params">targetObj,propName</span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`检测到<span class="hljs-subst">$&#123;propName&#125;</span>属性被读取了`</span>);                <br><span class="hljs-keyword">return</span> targetObj[propName]<br>&#125;,<br><span class="hljs-title function_">set</span>(<span class="hljs-params">targetObj,propName,newValue</span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`检测到<span class="hljs-subst">$&#123;propName&#125;</span>属性将要被修改为<span class="hljs-subst">$&#123;newValue&#125;</span>`</span>);<br>targetObj[propName] = newValue;<br>&#125;,<br><span class="hljs-comment">//删除检测</span><br><span class="hljs-title function_">deleteProperty</span>(<span class="hljs-params">targetObj,propName</span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`属性<span class="hljs-subst">$&#123;propName&#125;</span>将要被删除`</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-keyword">delete</span> targetObj[propName];<br>&#125;<br>&#125;);<br><br><span class="hljs-comment">//试试看数组</span><br><span class="hljs-keyword">var</span> hobby = [<span class="hljs-string">&#x27;吃饭&#x27;</span>, <span class="hljs-string">&#x27;睡觉&#x27;</span>, <span class="hljs-string">&#x27;打豆豆&#x27;</span>];<br><span class="hljs-keyword">var</span> p3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(hobby, &#123;<br><span class="hljs-title function_">get</span>(<span class="hljs-params">targetObj, propName</span>) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`检测到<span class="hljs-subst">$&#123;propName&#125;</span>属性被读取了`</span>);<br><span class="hljs-keyword">return</span> targetObj[propName]<br>&#125;,<br><span class="hljs-title function_">set</span>(<span class="hljs-params">targetObj, propName, newValue</span>) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`检测到<span class="hljs-subst">$&#123;propName&#125;</span>属性将要被修改为<span class="hljs-subst">$&#123;newValue&#125;</span>`</span>);<br>targetObj[propName] = newValue;<br>&#125;,<br><span class="hljs-comment">//删除检测</span><br><span class="hljs-title function_">deleteProperty</span>(<span class="hljs-params">targetObj, propName</span>) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`属性<span class="hljs-subst">$&#123;propName&#125;</span>将要被删除`</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-keyword">delete</span> targetObj[propName];<br>&#125;<br>&#125;)<br></code></pre></td></tr></table></figure><ul><li>vue3官方真正实现是通过proxy(代理) Reflect(反射) 来实现的</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//vue3响应式原理 - 调用window上面的方法Proxy</span><br><span class="hljs-keyword">var</span> <span class="hljs-title class_">Person2</span> = &#123;<br><span class="hljs-attr">name</span>: <span class="hljs-string">&quot;李白&quot;</span>,<br><span class="hljs-attr">age</span>: <span class="hljs-number">1000</span>,<br>&#125;<br><span class="hljs-comment">//这样子实现了p2修改,Person2也会被修改</span><br><span class="hljs-keyword">var</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(<span class="hljs-title class_">Person2</span>, &#123;<br><span class="hljs-comment">/* 参数1为操作的对象 参数2为操作的属性 */</span><br><span class="hljs-title function_">get</span>(<span class="hljs-params">targetObj, propName</span>) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`检测到<span class="hljs-subst">$&#123;propName&#125;</span>属性被读取了`</span>);<br><span class="hljs-comment">// return targetObj[propName];</span><br><span class="hljs-comment">//实际上vue是通过window上面的Reflect方法进行返回属性的</span><br><span class="hljs-comment">//因为Reflect可以会返回获取成功还是失败</span><br><span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(targetObj,propName);<br>&#125;,<br><span class="hljs-title function_">set</span>(<span class="hljs-params">targetObj, propName, newValue</span>) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`检测到<span class="hljs-subst">$&#123;propName&#125;</span>属性将要被修改为<span class="hljs-subst">$&#123;newValue&#125;</span>`</span>);<br><span class="hljs-comment">// targetObj[propName] = newValue;</span><br><span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(targetObj,propName,newValue);<br>&#125;,<br><span class="hljs-comment">//删除检测</span><br><span class="hljs-title function_">deleteProperty</span>(<span class="hljs-params">targetObj, propName</span>) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`属性<span class="hljs-subst">$&#123;propName&#125;</span>将要被删除`</span>);<br><span class="hljs-comment">// return delete targetObj[propName];</span><br><span class="hljs-comment">//为什么不用delete,delete被占用了,所以用deleteProperty</span><br><span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">deleteProperty</span>(targetObj,propName);<br>&#125;<br>&#125;);<br><span class="hljs-comment">//试试看数组</span><br><span class="hljs-keyword">var</span> hobby = [<span class="hljs-string">&#x27;吃饭&#x27;</span>, <span class="hljs-string">&#x27;睡觉&#x27;</span>, <span class="hljs-string">&#x27;打豆豆&#x27;</span>];<br><span class="hljs-keyword">var</span> p3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(hobby, &#123;<br><span class="hljs-title function_">get</span>(<span class="hljs-params">targetObj, propName</span>) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`检测到<span class="hljs-subst">$&#123;propName&#125;</span>属性被读取了`</span>);<br><span class="hljs-keyword">return</span> targetObj[propName]<br>&#125;,<br><span class="hljs-title function_">set</span>(<span class="hljs-params">targetObj, propName, newValue</span>) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`检测到<span class="hljs-subst">$&#123;propName&#125;</span>属性将要被修改为<span class="hljs-subst">$&#123;newValue&#125;</span>`</span>);<br>targetObj[propName] = newValue;<br>&#125;,<br><span class="hljs-comment">//删除检测</span><br><span class="hljs-title function_">deleteProperty</span>(<span class="hljs-params">targetObj, propName</span>) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`属性<span class="hljs-subst">$&#123;propName&#125;</span>将要被删除`</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-keyword">delete</span> targetObj[propName];<br>&#125;<br>&#125;)<br></code></pre></td></tr></table></figure><ul><li>有人<strong>读取</strong>的时候调用 get</li><li>有人<strong>修改&#x2F;添加</strong>的时候调用set</li><li>有人<strong>删除</strong>的时候调用deleteProperty</li></ul><h3 id="10-setup注意的二个点"><a href="#10-setup注意的二个点" class="headerlink" title="10.setup注意的二个点"></a>10.setup注意的二个点</h3><h4 id="注意点1-setup优于所有的生命周期先执行"><a href="#注意点1-setup优于所有的生命周期先执行" class="headerlink" title="注意点1-setup优于所有的生命周期先执行"></a>注意点1-setup优于所有的生命周期先执行</h4><ul><li>在<code>beforeCreate</code>之前,<code>setup</code>就会被执行,但是<strong>此时的setup当中的this是undefined</strong>(所以这就是为什么vue3.x的<code>setup</code>当中不可以使用vue2.x配置对象当中<code>data</code>,<code>computed</code>,<code>methods</code>等)</li></ul><h4 id="注意点2-setup的参数"><a href="#注意点2-setup的参数" class="headerlink" title="注意点2-setup的参数"></a>注意点2-setup的参数</h4><ul><li>参数1—<strong>props</strong>:值为对象,包含,组件外部传递过来的属性,并且组件内部使用props配置对象进行接收了的值,就会出现在setup的props参数当中</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//父组件</span><br>&lt;<span class="hljs-title class_">Demo</span> weight=<span class="hljs-string">&quot;100kg&quot;</span> height=<span class="hljs-string">&quot;180&quot;</span>&gt;&lt;/<span class="hljs-title class_">Demo</span>&gt;<br></code></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//子组件</span><br><span class="hljs-keyword">import</span> &#123; reactive &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-comment">//声明接收了父组件传递过来的值</span><br>  <span class="hljs-attr">props</span>:[<span class="hljs-string">&#x27;weight&#x27;</span>],<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params">props, context</span>) &#123;<br>   <span class="hljs-comment">//输出 &#123;weight: &#x27;100kg&#x27;&#125;</span><br>   <span class="hljs-comment">//由于height没有被props配置对象声明接收</span><br>   <span class="hljs-comment">//所以输出setup参数当中的props没有出现height</span><br>   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(props);<br>    <span class="hljs-keyword">let</span> data = <span class="hljs-title function_">reactive</span>(&#123;<br>      <span class="hljs-title class_">Person</span>: &#123;<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;李白&quot;</span>,<br>        <span class="hljs-attr">sex</span>: <span class="hljs-string">&quot;男&quot;</span>,<br>      &#125;,<br>    &#125;);<br>    <span class="hljs-keyword">return</span> &#123;<br>      data,<br>    &#125;;<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><ul><li><p>参数2—<strong>context</strong>:上下文对象</p><ul><li><p><strong>attrts</strong>: 值为对象,包含着从外部组件传递过来的属性,但是组件内部并没有在使用<code>props</code>配置对象接收的属性(<code>attrs</code>作用相当于捡下配置对象<code>props</code>的漏网之鱼)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//父组件</span><br>&lt;<span class="hljs-title class_">Demo</span> weight=<span class="hljs-string">&quot;100kg&quot;</span> height=<span class="hljs-string">&quot;180&quot;</span>&gt;&lt;/<span class="hljs-title class_">Demo</span>&gt;<br><br><span class="hljs-comment">//子组件</span><br><span class="hljs-keyword">import</span> &#123; reactive &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-comment">//声明接收了父组件传递过来的值</span><br>  <span class="hljs-attr">props</span>:[<span class="hljs-string">&#x27;weight&#x27;</span>],<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params">props, context</span>) &#123;<br>   <span class="hljs-comment">//输出Proxy &#123;height: &#x27;180&#x27;, __vInternal: 1&#125;</span><br>   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(context.<span class="hljs-property">attrs</span>);<br>    <span class="hljs-keyword">let</span> data = <span class="hljs-title function_">reactive</span>(&#123;<br>      <span class="hljs-title class_">Person</span>: &#123;<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;李白&quot;</span>,<br>        <span class="hljs-attr">sex</span>: <span class="hljs-string">&quot;男&quot;</span>,<br>      &#125;,<br>    &#125;);<br>    <span class="hljs-keyword">return</span> &#123;<br>      data,<br>    &#125;;<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure></li><li><p><strong>slots</strong>: 收到的插槽内容 相当于<code>this.$slots</code></p></li><li><p><strong>emit</strong>: 分发自定义事件的函数(存储着组件接收到的自定义事件),类似于<code>this.$emit</code> ,使用方法和<code>this.$emit</code>一样</p><ul><li><p>当然了,vue3多出来的一个配置项目叫<strong>emits</strong> ,负责接收传递过来的自定义事件,和<code>props</code>配置对象一样.(老师演示的时候必须要加这个<code>emits</code>配置对象去接收自定义事件,不然会有警告提示,我使用的时候是不用加也可以的)</p></li><li><p><code>context.emit</code> 的使用</p><p><strong>父组件</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Demo</span> @<span class="hljs-attr">sayHello</span>=<span class="hljs-string">&quot;hello&quot;</span> <span class="hljs-attr">weight</span>=<span class="hljs-string">&quot;100kg&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;180&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Demo</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Demo</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/components/Demo&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;App&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">components</span>: &#123; <span class="hljs-title class_">Demo</span> &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">hello</span>(<span class="hljs-params">value</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;我会说&quot;</span> + value);</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      hello,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p><strong>子组件</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是Demo<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">    &#123;&#123; data.Person.name &#125;&#125;</span><br><span class="language-xml">    &#123;&#123; data.Person.age &#125;&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;one&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;chufa&quot;</span>&gt;</span>按钮触发自定义事件<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; reactive &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">props</span>:[<span class="hljs-string">&#x27;weight&#x27;</span>],</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">emits</span>:[<span class="hljs-string">&quot;sayHello&quot;</span>],<span class="hljs-comment">//可加可不加</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params">props, context</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> data = <span class="hljs-title function_">reactive</span>(&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-title class_">Person</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;李白&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">sex</span>: <span class="hljs-string">&quot;男&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">chufa</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">        context.<span class="hljs-title function_">emit</span>(<span class="hljs-string">&quot;sayHello&quot;</span>,<span class="hljs-string">&quot;叫我将军大人&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      data,</span></span><br><span class="language-javascript"><span class="language-xml">      chufa</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure></li></ul></li></ul></li></ul><h3 id="11-vue3的computed"><a href="#11-vue3的computed" class="headerlink" title="11.vue3的computed"></a>11.vue3的computed</h3><h4 id="回顾vue2时候的computed"><a href="#回顾vue2时候的computed" class="headerlink" title="回顾vue2时候的computed"></a>回顾vue2时候的computed</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是Demo<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">    姓:<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;name&quot;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="language-xml">    名:<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;last_name&quot;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>全称展示:<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">    全称修改:<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;fullName&quot;</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;李&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">last_name</span>: <span class="hljs-string">&quot;白&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">computed</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//简写</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// fullName() &#123;</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//   return this.name + &quot;-&quot; + this.last_name;</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// &#125;,</span></span></span><br><span class="language-javascript"><span class="language-xml">    </span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//全写</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-attr">fullName</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-title function_">get</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">&quot;-&quot;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">last_name</span>;</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-title function_">set</span>(<span class="hljs-params">newValue</span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">        [<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">last_name</span>] = newValue.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;-&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><h4 id="vue3时候的computed计算属性"><a href="#vue3时候的computed计算属性" class="headerlink" title="vue3时候的computed计算属性"></a>vue3时候的computed计算属性</h4><ul><li><p>可以传入一个回调函数,返回值作为计算后的值,也可以传入一个配置对象,设置getter 和 setter</p></li><li><p>首先引入包</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;computed&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br></code></pre></td></tr></table></figure></li><li><p>添加只读,不可修改  - <strong>简写方式</strong></p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; computed, reactive &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> person = <span class="hljs-title function_">reactive</span>(&#123;<br>      <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李&quot;</span>,<br>      <span class="hljs-attr">last_name</span>:<span class="hljs-string">&quot;白&quot;</span>,<br>    &#125;);<br>    <span class="hljs-comment">//只读,不可修改</span><br>person.<span class="hljs-property">fullName</span> = <span class="hljs-title function_">computed</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>        <span class="hljs-keyword">return</span> person.<span class="hljs-property">name</span> + <span class="hljs-string">&quot;-&quot;</span> + person.<span class="hljs-property">last_name</span>;<br>    &#125;);<br><br>    <span class="hljs-keyword">return</span> &#123;<br>      person<br>    &#125;<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><ul><li><p>可读可修改,和computed一个,添加配置对象,设置<code>get</code> 和 <code>set</code>即可实现可读可修改 -完整写法</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; computed, reactive &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> person = <span class="hljs-title function_">reactive</span>(&#123;<br>      <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李&quot;</span>,<br>      <span class="hljs-attr">last_name</span>:<span class="hljs-string">&quot;白&quot;</span>,<br>    &#125;);<br>    <span class="hljs-comment">//可读可修改</span><br>    person.<span class="hljs-property">fullName</span> = <span class="hljs-title function_">computed</span>(&#123;<br>      <span class="hljs-title function_">get</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">return</span> person.<span class="hljs-property">name</span> + <span class="hljs-string">&quot;-&quot;</span> + person.<span class="hljs-property">last_name</span>;<br>      &#125;,<br>      <span class="hljs-title function_">set</span>(<span class="hljs-params">newValue</span>)&#123;<br>         <span class="hljs-comment">//解构赋值</span><br>        [person.<span class="hljs-property">name</span>,person.<span class="hljs-property">last_name</span>] = newValue.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;-&quot;</span>);<br>      &#125;<br>    &#125;)<br>    <span class="hljs-keyword">return</span> &#123;<br>      person<br>    &#125;<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure></li></ul><h3 id="12-vue3的watch"><a href="#12-vue3的watch" class="headerlink" title="12.vue3的watch"></a>12.vue3的watch</h3><ul><li><p>首先导入包</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;watch&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br></code></pre></td></tr></table></figure></li><li><p>语法格式:</p><ul><li>watch(监视的数据,回调函数)<ul><li>回调函数有二个参数,一个为newValue,一个为oldValue</li></ul></li></ul></li><li><p>两个小“坑”：</p><ul><li>监视reactive定义的响应式数据时：oldValue无法正确获取、强制开启了深度监视（deep配置失效）</li><li>监视reactive定义的响应式数据中某个属性时：deep配置有效</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//情况一：监视ref定义的响应式数据</span><br><span class="hljs-title function_">watch</span>(sum,<span class="hljs-function">(<span class="hljs-params">newValue,oldValue</span>)=&gt;</span>&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;sum变化了&#x27;</span>,newValue,oldValue)<br>&#125;,&#123;<span class="hljs-attr">immediate</span>:<span class="hljs-literal">true</span>&#125;)<br><br><span class="hljs-comment">//情况二：监视多个ref定义的响应式数据 使用数组形式</span><br><span class="hljs-title function_">watch</span>([sum,msg],<span class="hljs-function">(<span class="hljs-params">newValue,oldValue</span>)=&gt;</span>&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;sum或msg变化了&#x27;</span>,newValue,oldValue)<br>&#125;) <br><br><span class="hljs-comment">/* 情况三：监视reactive定义的响应式数据</span><br><span class="hljs-comment">若watch监视的是reactive定义的响应式数据，则无法正确获得oldValue！！</span><br><span class="hljs-comment">若watch监视的是reactive定义的响应式数据，则强制开启了深度监视 </span><br><span class="hljs-comment">*/</span><br><span class="hljs-title function_">watch</span>(person,<span class="hljs-function">(<span class="hljs-params">newValue,oldValue</span>)=&gt;</span>&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;person变化了&#x27;</span>,newValue,oldValue)<br>&#125;,&#123;<span class="hljs-attr">immediate</span>:<span class="hljs-literal">true</span>,<span class="hljs-attr">deep</span>:<span class="hljs-literal">false</span>&#125;) <span class="hljs-comment">//此处的deep配置不再奏效</span><br><br><span class="hljs-comment">//情况四：监视reactive定义的响应式数据中的[某个属性] 注意形式</span><br><span class="hljs-title function_">watch</span>(<span class="hljs-function">()=&gt;</span>person.<span class="hljs-property">job</span>,<span class="hljs-function">(<span class="hljs-params">newValue,oldValue</span>)=&gt;</span>&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;person的job变化了&#x27;</span>,newValue,oldValue)<br>&#125;,&#123;<span class="hljs-attr">immediate</span>:<span class="hljs-literal">true</span>,<span class="hljs-attr">deep</span>:<span class="hljs-literal">true</span>&#125;) <br><br><span class="hljs-comment">//情况五：监视reactive定义的响应式数据中的[某些属性] 注意形式</span><br><span class="hljs-title function_">watch</span>([<span class="hljs-function">()=&gt;</span>person.<span class="hljs-property">job</span>,<span class="hljs-function">()=&gt;</span>person.<span class="hljs-property">name</span>],<span class="hljs-function">(<span class="hljs-params">newValue,oldValue</span>)=&gt;</span>&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;person的job变化了&#x27;</span>,newValue,oldValue)<br>&#125;,&#123;<span class="hljs-attr">immediate</span>:<span class="hljs-literal">true</span>,<span class="hljs-attr">deep</span>:<span class="hljs-literal">true</span>&#125;)<br><br><span class="hljs-comment">//特殊情况</span><br><span class="hljs-title function_">watch</span>(<span class="hljs-function">()=&gt;</span>person.<span class="hljs-property">job</span>,<span class="hljs-function">(<span class="hljs-params">newValue,oldValue</span>)=&gt;</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;person的job变化了&#x27;</span>,newValue,oldValue)<br>&#125;,&#123;<span class="hljs-attr">deep</span>:<span class="hljs-literal">true</span>&#125;) <span class="hljs-comment">//此处由于监视的是reactive素定义的对象中的某个属性，所以deep配置有效</span><br></code></pre></td></tr></table></figure><ul><li><p>针对监视是否有value的值的分析 ref对象讨论(reactive对象不需要讨论)</p><ul><li><p>结论:要监视数据的变化,<strong>必须要是真正保存数据的结构</strong>才可以</p><ul><li>所以ref创建的对象&#x2F;引用数据类型需要添加value</li></ul></li><li><p>对于ref所创建的<strong>基本数据类型</strong>,<strong>第一个参数直接写入就可以</strong> 比如<code>let number = ref(0);</code></p><ul><li><p>因为真正监视的是ref所创建的<code>refImpl对象</code>,监视里面的<code>RefImpl对象</code>当中<code>value</code>的值的变化</p></li><li><p>如图 当我们修改值的时候,实际上修改的是<code>value</code>的值,所以监视的时候发现<code>value</code>变化了,就有反应</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206242101799.png"></p></li></ul></li><li><p>对于ref当中的<strong>引用数据类型</strong>,需要添加value获取真正保存数据的结构proxy 或者添加一下深度监视</p><ul><li><p>因为对于引用数据类型,ref是交给<code>proxy</code>来创建的,</p></li><li><p>所以书写代码的时候,第一个参数要么为 <code>person.value</code> 或者第三个参数配置对象添加<code>deep:true</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> person = <span class="hljs-title function_">ref</span>(&#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;李白&quot;</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,<br>    <span class="hljs-attr">jobList</span>: &#123;<br>        <span class="hljs-attr">j1</span>: &#123;<br>            <span class="hljs-attr">salary</span>: <span class="hljs-number">13</span>,<br>        &#125;,<br>    &#125;,<br>&#125;); <br><span class="hljs-title function_">watch</span>(person.<span class="hljs-property">value</span>,<span class="hljs-function">(<span class="hljs-params">newValue,oldValue</span>)=&gt;</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;person被改变了&quot;</span>);<br>&#125;)  <br><span class="hljs-comment">// 或者</span><br><span class="hljs-title function_">watch</span>(person,<span class="hljs-function">(<span class="hljs-params">newValue,oldValue</span>)=&gt;</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;person被改变了&quot;</span>);<br>&#125;,&#123;<span class="hljs-attr">deep</span>:<span class="hljs-literal">true</span>&#125;)<br><br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206242104063.png" alt="ref创建后的person"></p></li></ul></li></ul></li></ul><h3 id="13-vue3的watchEffect"><a href="#13-vue3的watchEffect" class="headerlink" title="13.vue3的watchEffect"></a>13.vue3的watchEffect</h3><ul><li><p>首先是导入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;watchEffect&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br></code></pre></td></tr></table></figure></li><li><p>watchEffect和watch的区别</p><ul><li><strong>watchEffect:</strong> 不用指明监视哪个属性，监视的回调中用到哪个属性，那就监视用到的属性</li></ul></li><li><p>watchEffect有点像computed:</p><ul><li>但<strong>computed注重的计算出来的值</strong>(回调函数的返回值)，所以<strong>必须要写返回值</strong>。</li><li>而<strong>watchEffect更注重的是过程</strong>(回调函数的函数体)，所以<strong>不用写返回值</strong>。</li></ul></li><li><p>示例</p></li></ul><p>通过<code>watchEffect</code>来监视用到的值</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>数字&#123;&#123; number &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;number += 1&quot;</span>&gt;</span>单击我数字+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>/&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>薪资:&#123;&#123;person.jobList.j1.salary&#125;&#125;K<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;person.jobList.j1.salary += 1&quot;</span>&gt;</span>单击我薪资+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; ref, watch, reactive ,watchEffect&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> number = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> person = <span class="hljs-title function_">ref</span>(&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;李白&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">jobList</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">j1</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-attr">salary</span>: <span class="hljs-number">13</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">watchEffect</span>(<span class="hljs-function">()=&gt;</span>&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//用到了numbere和person当中的name</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//那么就会自动监视这二个值,当发生变化的时候就执行这个回调</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">const</span> numberName = number.<span class="hljs-property">value</span> + person.<span class="hljs-property">name</span>;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;watchEffect回调执行了&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;)</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      number,</span></span><br><span class="language-javascript"><span class="language-xml">      person,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;less&quot;</span> <span class="hljs-attr">scoped</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><h3 id="14-vue3的生命周期钩子"><a href="#14-vue3的生命周期钩子" class="headerlink" title="14.vue3的生命周期钩子"></a>14.vue3的生命周期钩子</h3><h4 id="vue2的生命周期-vue2生命周期介绍官网"><a href="#vue2的生命周期-vue2生命周期介绍官网" class="headerlink" title="vue2的生命周期 @vue2生命周期介绍官网"></a>vue2的生命周期 <a href="https://cn.vuejs.org/v2/guide/instance.html#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%9B%BE%E7%A4%BA">@vue2生命周期介绍官网</a></h4><h4 id="vue3的生命周期-vue3生命周期介绍官网"><a href="#vue3的生命周期-vue3生命周期介绍官网" class="headerlink" title="vue3的生命周期 @vue3生命周期介绍官网"></a>vue3的生命周期 <a href="https://v3.cn.vuejs.org/guide/instance.html#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%9B%BE%E7%A4%BA">@vue3生命周期介绍官网</a></h4><ul><li><p><strong><code>setup</code>永远在所有的生命周期之前</strong></p></li><li><p>Vue3.0中可以继续使用Vue2.x中的生命周期钩子，<strong>但有有两个被更名</strong>：</p><ul><li><code>beforeDestroy</code> &#x3D;&gt;变为了 <code>beforeUnmount</code></li><li><code>destroyed</code> &#x3D;&gt;变为了 <code>unmounted</code></li></ul></li><li><p>代码– <strong>配置对象当中的生命周期钩子</strong></p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-comment">//vue3的生命周期钩子-配置项 在配置对象方面,不同点就在于beforeDestroy =&gt;变为了beforeUnmounte ,desctroyed =&gt;变为了unmounted</span><br><span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;--- beforecreate ---&quot;</span>);<br>&#125;,<br><span class="hljs-title function_">created</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;--- created ---&quot;</span>);<br>&#125;,<br><span class="hljs-title function_">beforeMount</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;--- beforeMount ---&quot;</span>);<br>&#125;,<br><span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;--- mounted ---&quot;</span>);<br>&#125;,<br><span class="hljs-title function_">beforeUpdate</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;--- beforeUpdate ---&quot;</span>);<br>&#125;, <br><span class="hljs-title function_">updated</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;--- updated --- &quot;</span>);<br>&#125;,<br><span class="hljs-title function_">beforeUnmount</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;--- beforeUnmount ---&quot;</span>);<br>&#125;,<br><span class="hljs-title function_">unmounted</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;--- unmounted ---&quot;</span>);<br>&#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><ul><li>代码 — <strong>vue3的组合函数的生命周期</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-comment">//组合函数生命周期钩子</span><br><span class="hljs-keyword">import</span> &#123;<br>  onBeforeMount,<br>  onMounted,<br>  onBeforeUpdate,<br>  onUpdated,<br>  onBeforeUnmount,<br>  onUnmounted,<br>&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-comment">// vue3的生命周期钩子</span><br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;&quot;</span>,<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;--- setup ---&quot;</span>);<br>    <span class="hljs-keyword">let</span> number = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);<br>    <span class="hljs-comment">// 组合函数生命周期钩子</span><br>    <span class="hljs-title function_">onBeforeMount</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-comment">//生命周期回调函数</span><br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;--- onBeofreMount ---&quot;</span>);<br>    &#125;);<br>    <span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-comment">//生命周期回调函数</span><br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;--- onMounted  ---&quot;</span>);<br>    &#125;);<br>    <span class="hljs-title function_">onBeforeUpdate</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-comment">//生命周期回调函数</span><br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;--- onBeforeUpdate ---&quot;</span>);<br>    &#125;);<br>    <span class="hljs-title function_">onUpdated</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-comment">//生命周期回调函数</span><br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;--- onUpdated ---&quot;</span>);<br>    &#125;);<br>    <span class="hljs-title function_">onBeforeUnmount</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-comment">//生命周期回调函数</span><br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;--- onBeofreUnmount ---&quot;</span>);<br>    &#125;);<br>    <span class="hljs-title function_">onUnmounted</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-comment">//生命周期回调函数</span><br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;--- onUnmounted ---&quot;</span>);<br>    &#125;);<br><br>    <span class="hljs-keyword">return</span> &#123;<br>      number,<br>    &#125;;<br>  &#125;<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><ul><li><p>组合函数形式的生命周期钩子和vue2.x配置对象生命周期钩子的对应关系</p><ul><li><p><code>beforeCreate</code>&#x3D;&#x3D;&#x3D;&gt;<code>setup()</code></p></li><li><p><code>created</code>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<code>setup()</code></p></li><li><p><code>beforeMount</code> &#x3D;&#x3D;&#x3D;&gt;<code>onBeforeMount</code></p></li><li><p><code>mounted</code>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<code>onMounted</code></p></li><li><p><code>beforeUpdate</code>&#x3D;&#x3D;&#x3D;&gt;<code>onBeforeUpdate</code></p></li><li><p><code>updated</code> &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<code>onUpdated</code></p></li><li><p><code>beforeUnmount</code> &#x3D;&#x3D;&gt;<code>onBeforeUnmount</code></p></li><li><p><code>unmounted</code> &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<code>onUnmounted</code></p></li></ul></li><li><p>其他都是加了一个<code>on</code>就没有了,还有就是,如果配置对象生命周期函数和组合函数生命周期一起写了,永远是组合函数的先执行</p></li></ul><h3 id="15-自定义hooks"><a href="#15-自定义hooks" class="headerlink" title="15.自定义hooks"></a>15.自定义hooks</h3><ul><li><p>什么是hook？—— 本质是一个函数，把setup函数中使用的Composition API进行了封装。</p></li><li><p>类似于vue2.x中的mixin。</p></li><li><p>自定义hook的优势: <strong>复用代码</strong>, 让setup中的逻辑更清楚易懂。</p></li></ul><h4 id="比如说有一个需求-单击鼠标可以获取鼠标的位置的函数功能-我们用hook看看"><a href="#比如说有一个需求-单击鼠标可以获取鼠标的位置的函数功能-我们用hook看看" class="headerlink" title="比如说有一个需求,单击鼠标可以获取鼠标的位置的函数功能,我们用hook看看"></a>比如说有一个需求,单击鼠标可以获取鼠标的位置的函数功能,我们用hook看看</h4><p><strong>hooks&#x2F;usePoint.js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; reactive, onMounted, onUnmounted &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> point = <span class="hljs-title function_">reactive</span>(&#123;<br>        <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>,<br>        <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>,<br>    &#125;);<br><br>    <span class="hljs-comment">//获取单击坐标</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">getPoint</span>(<span class="hljs-params">event</span>) &#123;<br>        point.<span class="hljs-property">x</span> = event.<span class="hljs-property">pageX</span>;<br>        point.<span class="hljs-property">y</span> = event.<span class="hljs-property">pageY</span>;<br>    &#125;<br>    <span class="hljs-comment">//生命周期</span><br>    <span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-comment">//添加鼠标单击回调</span><br>        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, getPoint);<br><br>    &#125;);<br><br>    <span class="hljs-comment">//卸载后移除回调</span><br>    <span class="hljs-title function_">onUnmounted</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-comment">//移除回调</span><br>        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, getPoint);<br>    &#125;);<br>    <span class="hljs-comment">//必须,相当于ref或者reactive执行后返回一个数据</span><br>    <span class="hljs-keyword">return</span> point;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>App.vue</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Demo</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;isShow&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Demo</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Test</span>/&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;isShow = !isShow&quot;</span>&gt;</span>切换显示<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Demo</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/components/Demo&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Test</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/components/Test&quot;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;App&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">components</span>: &#123; <span class="hljs-title class_">Demo</span> ,<span class="hljs-title class_">Test</span>&#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    </span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> isShow = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">true</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      isShow,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p><strong>componets&#x2F;Demo.vue</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>我是Demo<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>坐标轴:x轴&#123;&#123; point.x &#125;&#125; y轴:&#123;&#123; point.y &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> usePoint <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../hooks/usePoint&quot;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//使用hooks,并接受返回的数据用于展示</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> point = <span class="hljs-title function_">usePoint</span>();</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      point,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><p><strong>components&#x2F;Test.vue</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>/&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是test<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>坐标轴:x轴&#123;&#123; point.x &#125;&#125; y轴:&#123;&#123; point.y &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> usePoint <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../hooks/usePoint&quot;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;&#x27;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//使用hooks,并接受返回的数据用于展示</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">let</span> point = <span class="hljs-title function_">usePoint</span>();</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">          point,</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h3 id="16-toRef和toRefs"><a href="#16-toRef和toRefs" class="headerlink" title="16.toRef和toRefs"></a>16.toRef和toRefs</h3><h4 id="toRef"><a href="#toRef" class="headerlink" title="toRef"></a>toRef</h4><h5 id="语法格式"><a href="#语法格式" class="headerlink" title="语法格式"></a>语法格式</h5><ul><li><strong>toRef</strong> :(要分割的对象,分割的属性)<ul><li>比如<code>toRef(person,&#39;name&#39;);</code> 意思为分割响应式数据<code>person</code>当中的name</li></ul></li></ul><h5 id="用途点"><a href="#用途点" class="headerlink" title="用途点"></a>用途点</h5><ul><li>不想在<code>template</code>模板当中,写这么多重复的,比如下方代码,太多<code>person</code>这个单词了,我们不想这样子,就可以在<code>setup</code> return的时候做些处理</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是Demo<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">    姓:<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;person.name&quot;</span>/&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">    名:<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;person.last_name&quot;</span>/&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>全称展示:&#123;&#123;person.fullName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">    全称修改:<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;person.fullName&quot;</span>/&gt;</span> </span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><ul><li>切记,普通的这样子处理是不可以实现响应式的,</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br><span class="hljs-keyword">import</span> &#123;reactive&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;&#x27;</span>,<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>)&#123;<br>      <span class="hljs-keyword">let</span> person = <span class="hljs-title function_">reactive</span>(&#123;<br>          <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白&quot;</span>,<br>          <span class="hljs-attr">age</span>:<span class="hljs-number">18</span>,<br>          <span class="hljs-attr">job</span>:&#123;<br>              <span class="hljs-attr">job1</span>:&#123;<br>                  <span class="hljs-attr">salary</span>:<span class="hljs-number">10</span><br>              &#125;<br>          &#125;<br>      &#125;);<br>      <span class="hljs-keyword">return</span> &#123;<br>          <span class="hljs-comment">//如果我们直接更改,是达不到响应式的</span><br>          <span class="hljs-comment">//因为下方的代码等同于这样子,未经过reactive处理的了</span><br>        <span class="hljs-comment">//   return &#123;</span><br>        <span class="hljs-comment">//       name:&quot;李白&quot;,</span><br>        <span class="hljs-comment">//       age:18</span><br>        <span class="hljs-comment">//   &#125;</span><br>          <span class="hljs-attr">name</span>:person.<span class="hljs-property">name</span>,<br>          <span class="hljs-attr">age</span>:person.<span class="hljs-property">age</span>,<br>      &#125;<br>  &#125;<br>&#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><ul><li>这样子才可以实现响应式分割</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>我是Demo<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;&#123;person&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>姓名:&#123;&#123;name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>年龄:&#123;&#123;age&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>工资:&#123;&#123;salary&#125;&#125;K<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;name+=&#x27;!&#x27;&quot;</span>&gt;</span>改变姓名<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;age++&quot;</span>&gt;</span>改变年龄<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;salary++&quot;</span>&gt;</span>改变工资<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123;reactive,toRef,ref,toRefs&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> person = <span class="hljs-title function_">reactive</span>(&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">age</span>:<span class="hljs-number">18</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">job</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">job1</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-attr">salary</span>:<span class="hljs-number">10</span></span></span><br><span class="language-javascript"><span class="language-xml">        &#125;</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;)</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      person,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">name</span>:<span class="hljs-title function_">toRef</span>(person,<span class="hljs-string">&#x27;name&#x27;</span>),</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">age</span>:<span class="hljs-title function_">toRef</span>(person,<span class="hljs-string">&#x27;age&#x27;</span>),</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">salary</span>:<span class="hljs-title function_">toRef</span>(person.<span class="hljs-property">job</span>.<span class="hljs-property">job1</span>,<span class="hljs-string">&#x27;salary&#x27;</span>)</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;less&quot;</span> <span class="hljs-attr">scoped</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206251345989.png" alt="toRef示意图-可以理解,通过toRef创建的,数据始终指向源数据"></p><h4 id="toRefs"><a href="#toRefs" class="headerlink" title="toRefs"></a>toRefs</h4><h5 id="语法格式-1"><a href="#语法格式-1" class="headerlink" title="语法格式"></a>语法格式</h5><ul><li><code>toRefs(要拆分的响应式数据)</code> ,返回分割后的响应式数据对象</li></ul><h5 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br><span class="hljs-keyword">import</span> &#123;reactive,toRef,ref,toRefs&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;&quot;</span>,<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">let</span> person = <span class="hljs-title function_">reactive</span>(&#123;<br>      <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白&quot;</span>,<br>      <span class="hljs-attr">age</span>:<span class="hljs-number">18</span>,<br>      <span class="hljs-attr">job</span>:&#123;<br>        <span class="hljs-attr">job1</span>:&#123;<br>          <span class="hljs-attr">salary</span>:<span class="hljs-number">10</span><br>        &#125;<br>      &#125;<br>    &#125;)<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">toRefs</span>(person));<br>    <span class="hljs-keyword">return</span> &#123;<br>      person,<br>      <span class="hljs-attr">name</span>:<span class="hljs-title function_">toRef</span>(person,<span class="hljs-string">&#x27;name&#x27;</span>),<br>      <span class="hljs-attr">age</span>:<span class="hljs-title function_">toRef</span>(person,<span class="hljs-string">&#x27;age&#x27;</span>),<br>      <span class="hljs-attr">salary</span>:<span class="hljs-title function_">toRef</span>(person.<span class="hljs-property">job</span>.<span class="hljs-property">job1</span>,<span class="hljs-string">&#x27;salary&#x27;</span>)<br>    &#125;<br>  &#125;<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206251346405.png" alt="拆分toRefs后输出内容"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206251348513.png" alt="toRefs示意图 将这个person对象拆分为多部分,每一部分都是指向源数据的部分"></p><h2 id="三-其他composition-API"><a href="#三-其他composition-API" class="headerlink" title="三.其他composition API"></a>三.其他composition API</h2><ul><li><p>这二者什么时候使用?</p><ul><li><p>如果有一个对象数据，结构比较深, 但变化时只是外层属性变化 &#x3D;&#x3D;&#x3D;&gt; <code>shallowReactive</code></p></li><li><p>如果有一个对象数据，后续功能不会修改该对象中的属性，而是生新的对象来替换 &#x3D;&#x3D;&#x3D;&gt; <code>shallowRef</code></p></li></ul></li></ul><h3 id="1-shallowRef和shallowReactive"><a href="#1-shallowRef和shallowReactive" class="headerlink" title="1.shallowRef和shallowReactive"></a>1.shallowRef和shallowReactive</h3><h4 id="shallowRef"><a href="#shallowRef" class="headerlink" title="shallowRef"></a>shallowRef</h4><ul><li><p>只处理基本数据类型的响应式,不对对象的响应式进行处理(在普通的<code>ref</code>当中,如果遇到的是对象,那么会将对象交给<code>reactive</code>进行处理,但是使用了<code>shallowRef</code>后就不会)</p></li><li><p>使用依旧需要导入包</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;shallowRef&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br></code></pre></td></tr></table></figure></li><li><p>怎么使用和ref一样的用法</p></li><li><p><strong>如图,shallRef传入一个对象后输出,会发现原来怎么样,就是怎么样的</strong></p></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206251352569.png" alt="图,shallRef传入一个对象后输出,会发现原来怎么样,就是怎么样的"></p><ul><li><strong>而原来的ref函数如果遇到对象会交给reactive进行处理</strong></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206251354203.png" alt="而原来的ref函数如果遇到对象会交给reactive进行处理"></p><h4 id="shallowReactive"><a href="#shallowReactive" class="headerlink" title="shallowReactive"></a>shallowReactive</h4><ul><li><p>只使得对象第一层为响应式数据,更深层次不会变为响应式数据</p></li><li><p>使用,依旧先导入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;shallowReactive&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br></code></pre></td></tr></table></figure></li><li><p>然后使用方法和<code>reactive</code>是一样的</p></li></ul><p><strong>示例代码</strong></p><p><code>person为shallowReactive创建的</code>,button想操作里面的salary,结果是不行的</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>我是Demo<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;&#123;person&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>姓名:&#123;&#123;person.name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>年龄:&#123;&#123;person.age&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>工资:&#123;&#123;person.job.job1.salary&#125;&#125;K<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;person.name+=&#x27;!&#x27;&quot;</span>&gt;</span>改变姓名<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;person.age++&quot;</span>&gt;</span>改变年龄<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;person.job.job1.salary++&quot;</span>&gt;</span>改变工资<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123;shallowReactive&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> person = <span class="hljs-title function_">shallowReactive</span>(&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">age</span>:<span class="hljs-number">18</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">job</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">job1</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-attr">salary</span>:<span class="hljs-number">10</span></span></span><br><span class="language-javascript"><span class="language-xml">        &#125;</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;)</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//不管是ref reactive shallowReactive shallowRef 返回的都是响应式数据,只不过深层次的是否是响应式的问题了</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      person,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206251403250.png"></p><ul><li>不管是ref reactive shallowReactive shallowRef 返回的都是响应式数据,只不过深层次的是否是响应式的问题了<ul><li>所以你会发现,直接替换person,x这二个数据,也会引发视图变化</li></ul></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206251403807.png"></p><h3 id="2-readonly和shallowReadonly"><a href="#2-readonly和shallowReadonly" class="headerlink" title="2.readonly和shallowReadonly"></a>2.readonly和shallowReadonly</h3><ul><li>readonly: 让一个响应式数据变为只读的（<strong>深</strong>只读）,通俗点就是全部都是只读数据</li><li>shallowReadonly：让一个响应式数据变为只读的（<strong>浅</strong>只读）,通俗点就是只有第一层数据为只读的</li><li>应用场景: 不希望数据被修改时。</li><li>都是传递给一个响应数据,将这个响应式数据变为只读的,注意,<strong>非响应式数据是数据被修改了,视图没有发生变化,这个时候数据还是可以被修改的</strong></li></ul><h4 id="readonly"><a href="#readonly" class="headerlink" title="readonly"></a>readonly</h4><ul><li><p>先导入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;readonly&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br></code></pre></td></tr></table></figure></li><li><p>传入一个响应式数据,返回一个全部为只读的数据</p></li></ul><h4 id="shallowReadonly"><a href="#shallowReadonly" class="headerlink" title="shallowReadonly"></a>shallowReadonly</h4><ul><li><p>先导入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;shallowReadonly&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br></code></pre></td></tr></table></figure></li><li><p>传入一个响应式数据,返回一个第一层为只读的数据</p></li></ul><h4 id="二者的示例代码"><a href="#二者的示例代码" class="headerlink" title="二者的示例代码"></a>二者的示例代码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>我是Demo<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>姓名:&#123;&#123;name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>年龄:&#123;&#123;age&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>工资:&#123;&#123;job.job1.salary&#125;&#125;K<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;&#123;a&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;name+=&#x27;!&#x27;&quot;</span>&gt;</span>改变姓名<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;age++&quot;</span>&gt;</span>改变年龄<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;job.job1.salary++&quot;</span>&gt;</span>改变工资<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;a++&quot;</span>&gt;</span>改变a<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123;ref,reactive,toRefs,readonly, shallowReadonly&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> person = <span class="hljs-title function_">reactive</span>(&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">age</span>:<span class="hljs-number">18</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">job</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">job1</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-attr">salary</span>:<span class="hljs-number">10</span></span></span><br><span class="language-javascript"><span class="language-xml">        &#125;</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> a = <span class="hljs-title function_">ref</span>(<span class="hljs-number">100</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    a = <span class="hljs-title function_">readonly</span>(a);</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//person = readonly(person);//全部变为了只读</span></span></span><br><span class="language-javascript"><span class="language-xml">    person = <span class="hljs-title function_">shallowReadonly</span>(person);<span class="hljs-comment">//第一层变为了只读,其他没有变</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      ...<span class="hljs-title function_">toRefs</span>(person),</span></span><br><span class="language-javascript"><span class="language-xml">      a</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><p>代码效果:除了<code>改变工资</code>外,其他的都不可以修改</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206251408950.png"></p><h3 id="3-toRaw和markRaw"><a href="#3-toRaw和markRaw" class="headerlink" title="3.toRaw和markRaw"></a>3.toRaw和markRaw</h3><h4 id="toRaw"><a href="#toRaw" class="headerlink" title="toRaw"></a>toRaw</h4><ul><li>作用：将一个由<code>reactive</code>生成的<strong style="color:orange">响应式对象</strong>转为<strong style="color:orange">普通对象</strong>。</li><li>使用场景：用于读取响应式对象对应的普通对象，对这个普通对象的所有操作，不会引起页面更新。</li></ul><ul><li><p>语法: <code> var 转换成的普通对象 =  toRaw(响应式对象)</code></p></li><li><p>引入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;toRaw&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br></code></pre></td></tr></table></figure></li></ul><h4 id="markRaw"><a href="#markRaw" class="headerlink" title="markRaw"></a>markRaw</h4><ul><li><p>作用：标记一个对象，使其永远不会再成为响应式对象。</p></li><li><p><strong>要知道,在vue3的时候,对一个响应式数据添加新值,那么这个新值也会变为响应式数据的,并且是可以通过数组索引来操作响应式数据的(但是在vue2是不可以的)</strong></p></li><li><p>应用场景:</p><ol><li>有些值不应被设置为响应式的，例如复杂的第三方类库等。</li><li>当渲染具有不可变数据源的大列表时，跳过响应式转换可以提高性能。</li></ol></li><li><p>引入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;markRaw&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br></code></pre></td></tr></table></figure></li></ul><h4 id="二者的示例代码-1"><a href="#二者的示例代码-1" class="headerlink" title="二者的示例代码"></a>二者的示例代码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>我是Demo<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>姓名:&#123;&#123; name &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>年龄:&#123;&#123; age &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>工资:&#123;&#123; job.job1.salary &#125;&#125;K<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;name += &#x27;!&#x27;&quot;</span>&gt;</span>改变姓名<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;age++&quot;</span>&gt;</span>改变年龄<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;job.job1.salary++&quot;</span>&gt;</span>改变工资<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;showRawPerson&quot;</span>&gt;</span>显示原始的数据<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>车位信息:&#123;&#123; person.car &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;addCar&quot;</span>&gt;</span>添加车位<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;person.car.name+=&#x27;!&#x27;&quot;</span>&gt;</span>车子名称改变<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;person.car.price++&quot;</span>&gt;</span>车子价格改变<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; reactive, toRefs, toRaw, markRaw &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> person = <span class="hljs-title function_">reactive</span>(&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;李白&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">job</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">job1</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-attr">salary</span>: <span class="hljs-number">10</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">showRawPerson</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">let</span> rawPerson = <span class="hljs-title function_">toRaw</span>(person);</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//看看是否会影响person--测试是不会的</span></span></span><br><span class="language-javascript"><span class="language-xml">      rawPerson.<span class="hljs-property">age</span>++;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rawPerson);</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">addCar</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//将要新添加数据</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//但是我不想新添加的数据为想响应式的,就可以使用markRaw</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//进行标记,标记为非响应式数据</span></span></span><br><span class="language-javascript"><span class="language-xml">      person.<span class="hljs-property">car</span> = <span class="hljs-title function_">markRaw</span>(&#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;宝马&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">price</span>: <span class="hljs-number">40</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      person,</span></span><br><span class="language-javascript"><span class="language-xml">      ...<span class="hljs-title function_">toRefs</span>(person),</span></span><br><span class="language-javascript"><span class="language-xml">      showRawPerson,</span></span><br><span class="language-javascript"><span class="language-xml">      addCar,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h3 id="4-customRef"><a href="#4-customRef" class="headerlink" title="4.customRef"></a>4.customRef</h3><ul><li><p>功能:<strong>自定义ref,并对其依赖项跟踪和更新触发</strong>(可以显示控制)</p></li><li><p>要自定义ref,需要记住下面二个</p><ul><li>需要返回<code>customRef</code>函数创建的东东</li><li><code>customRef</code>函数自动传入的回调函数参数分别为<code>tracker</code>(追踪器),<code>trigger</code>(触发器),并且这个函数需要返回一个配置对象(配置对象包含<code>set</code>和<code>get</code>)</li></ul></li><li><p>引入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;customRef&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br></code></pre></td></tr></table></figure></li><li><p>案例: 实现防抖,输入内容0.5秒后才更新</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>我是Demo<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;searchKey&quot;</span> /&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;&#123; searchKey &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; customRef &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">//创建一个自定义的 ref，并对其依赖项跟踪和更新触发进行显式控制。</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//这里就产生了闭包</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> searchKey = <span class="hljs-title function_">myRef</span>(<span class="hljs-number">0</span>);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//自定义的ref -- 防抖</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">myRef</span>(<span class="hljs-params">value</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">// 通过customRef去实现自定义 -- 毛坯房来自己处理</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">// ref --- 精装房来自己处理</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">let</span> timer; <span class="hljs-comment">//定时器</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//所以自定义ref ,都需要返回毛坯房</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">return</span> <span class="hljs-title function_">customRef</span>(<span class="hljs-function">(<span class="hljs-params">tracker, trigger</span>) =&gt;</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">//毛坯房里面,需要返回一个对象</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-title function_">get</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;你调用了get&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-comment">//告诉vue这个值是需要更新的</span></span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-title function_">tracker</span>();</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-keyword">return</span> value; <span class="hljs-comment">//返回值</span></span></span><br><span class="language-javascript"><span class="language-xml">          &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-title function_">set</span>(<span class="hljs-params">newValue</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;调用了set&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-comment">//告诉Vue去更新界面</span></span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-built_in">clearTimeout</span>(timer);</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-comment">//0.5秒后更新视图</span></span></span><br><span class="language-javascript"><span class="language-xml">            timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">              <span class="hljs-title function_">trigger</span>();</span></span><br><span class="language-javascript"><span class="language-xml">              value = newValue;</span></span><br><span class="language-javascript"><span class="language-xml">            &#125;, <span class="hljs-number">500</span>);</span></span><br><span class="language-javascript"><span class="language-xml">          &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">        &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      searchKey,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h3 id="5-provide和inject"><a href="#5-provide和inject" class="headerlink" title="5.provide和inject"></a>5.provide和inject</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206251422348.png"></p><ul><li><p>作用：实现<strong style="color:#DD5145">祖与后代组件间</strong>通信</p></li><li><p>套路：父组件有一个 <code>provide</code> 选项来提供数据，后代组件有一个 <code>inject</code> 选项来开始使用这些数据</p></li></ul><ul><li><p>引入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;provide,inject&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br></code></pre></td></tr></table></figure></li><li><p>语法格式</p><ul><li><strong>provide(‘提供的名称’,数据)</strong></li><li><strong>let 接收到的数据 &#x3D; inject(‘provide提供的名称’)</strong></li></ul></li><li><p>具体写法</p><ul><li><p>祖组件当中</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;provide&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>)&#123;<br>......<br>    <span class="hljs-comment">//发送数据</span><br>    <span class="hljs-keyword">let</span> car = <span class="hljs-title function_">reactive</span>(&#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;奔驰&#x27;</span>,<span class="hljs-attr">price</span>:<span class="hljs-string">&#x27;40万&#x27;</span>&#125;)<br>    <span class="hljs-title function_">provide</span>(<span class="hljs-string">&#x27;car&#x27;</span>,car)<br>    ......<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>后代组件当中</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;inject&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-title function_">setup</span>(<span class="hljs-params">props,context</span>)&#123;<br>......<br>   <span class="hljs-comment">//接收数据</span><br>    <span class="hljs-keyword">const</span> car = <span class="hljs-title function_">inject</span>(<span class="hljs-string">&#x27;car&#x27;</span>)<br>    <span class="hljs-keyword">return</span> &#123;car&#125;<br>......<br>&#125;<br></code></pre></td></tr></table></figure></li></ul></li></ul><h3 id="6-响应式数据判断-isRef-isReactive-isProxy-isReadonly"><a href="#6-响应式数据判断-isRef-isReactive-isProxy-isReadonly" class="headerlink" title="6.响应式数据判断-isRef,isReactive,isProxy,isReadonly"></a>6.响应式数据判断-isRef,isReactive,isProxy,isReadonly</h3><ul><li>isRef:检查一个值是否是<code>ref对象</code></li><li>isReactive:检查一个对象是否由 <code>reactive</code>所创建的响应式代理</li><li>isProxy:检查一个对象是否是由<code>readonly</code>或者<code>reactive</code>函数所创建的<strong>响应式&#x2F;只读数据代理</strong><ul><li><strong>readonly函数对reactive响应式数据设置为只读是不会将其转换为对象的,而是依旧是proxy</strong></li></ul></li><li>isReadonly:检查一个对象是否是由<code>readonly</code>函数所创建的只读代理</li></ul><p>示例代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;reactive,isRef,isReactive,isReadonly,isProxy&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">let</span> info = <span class="hljs-title function_">reactive</span>(&#123;<br>      <span class="hljs-attr">people</span>:<span class="hljs-string">&quot;一家四口人&quot;</span>,<br>      <span class="hljs-attr">money</span>:<span class="hljs-number">8888888</span><br>    &#125;);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;isRef&quot;</span>,<span class="hljs-title function_">isRef</span>(info));<span class="hljs-comment">//false</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;isReactive&quot;</span>,<span class="hljs-title function_">isReactive</span>(info));<span class="hljs-comment">//true</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;isReadonly&quot;</span>,<span class="hljs-title function_">isReadonly</span>(info));<span class="hljs-comment">//false</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;isProxy&quot;</span>,<span class="hljs-title function_">isProxy</span>(info));<span class="hljs-comment">//true</span><br><br>    <span class="hljs-keyword">let</span> info1 = <span class="hljs-title function_">ref</span>(&#123;<br>      <span class="hljs-attr">people</span>:<span class="hljs-string">&quot;一家四口人&quot;</span>,<br>      <span class="hljs-attr">money</span>:<span class="hljs-number">8888888</span><br>    &#125;);<br><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isProxy</span>(info1));<span class="hljs-comment">//false</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isProxy</span>(info1.<span class="hljs-property">value</span>));<span class="hljs-comment">//true</span><br>  &#125;<br></code></pre></td></tr></table></figure><h2 id="四-新的组件"><a href="#四-新的组件" class="headerlink" title="四.新的组件"></a>四.新的组件</h2><h3 id="1-Fragment"><a href="#1-Fragment" class="headerlink" title="1.Fragment"></a>1.Fragment</h3><ul><li>在vue2的时候,我们知道,组件必须要有一个根标签</li><li>在vue2中,组件可以没有根标签,vue会将多个标签包含在一个<code>fragment</code>虚拟元素中</li><li>好处:<strong>减少标签层级,减少内存占用</strong></li><li>如图 在vue开发提示中,没有书写根标签就会有一个蓝色的fragment</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206251431632.png"></p><h3 id="2-Teleport"><a href="#2-Teleport" class="headerlink" title="2.Teleport"></a>2.Teleport</h3><ul><li>什么是<code>teleport组件</code>,teleport组件可以将我们的<strong>组件html结构</strong>移动到指定的<strong>dom位置的技术</strong></li><li>语法:<code>&lt;teleport to=&quot;移动的位置&quot;&gt;&lt;/teleport&gt; </code><ul><li>移动的位置可以是html,body等,也可以是选择器</li></ul></li><li>如图,就是将此弹窗移动到html标签下</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;isShow = true&quot;</span>&gt;</span>开启弹窗<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>  &lt;!-- to当中填写要飞跃到的dom名称,比如html,body,设置可以传入一个选择器 --&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">teleport</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;html&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 遮罩层 --&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;mask&quot;</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;isShow&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是内容<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是内容<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是内容<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是内容<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是内容<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;isShow = false&quot;</span>&gt;</span>关闭弹窗<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">teleport</span>&gt;</span></span><br>  <br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> isShow = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      isShow,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.mask</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.5</span>);</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">position</span>: absolute;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.content</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid hotpink;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">background-color</span>: aquamarine;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">text-align</span>: center;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">position</span>: absolute;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-comment">/* 参照于父元素移动 */</span></span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">top</span>:<span class="hljs-number">50%</span>;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-comment">/* 参照于自身移动 */</span></span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>,-<span class="hljs-number">50%</span>);</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><p>图,在没有显示对话框前,通过<code>teleport</code>进行了占位,移动到了html结构下</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206251434546.png"></p><h3 id="3-suspense-x2F-异步加载"><a href="#3-suspense-x2F-异步加载" class="headerlink" title="3.suspense&#x2F;异步加载"></a>3.suspense&#x2F;异步加载</h3><h4 id="前置了解"><a href="#前置了解" class="headerlink" title="前置了解"></a>前置了解</h4><ul><li><p>在普通方式的引入下<code>(import xxx组件 from &quot;xxxx&quot;)</code>,通过这种方式,如果这个组件有一个组件没有加载完成,那么其他组件都不会显示</p><p>如图 有多层的结构下,<strong>如果红色圈圈当中的组件没有加载完成</strong>,那么其他组件都不会显示的</p></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206251437912.png" alt="有多层的结构下,如果红色圈圈当中的组件没有加载完成,那么其他组件都不会显示的"></p><p><strong>如图</strong>,<code>我是APP</code>和<code>我是儿子</code>这二个同时被加载出来,不管哪一个组件实现加载完成,后一个组件必须要等待前一个组件加载完成才会显示</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206251452693.gif"></p><ul><li>所以vue3.x就有了异步加载(其实vue2.x的时候vue-router就有异步加载了)</li></ul><h4 id="注意要点"><a href="#注意要点" class="headerlink" title="注意要点"></a>注意要点</h4><ul><li><strong>异步加载的组件可以用suspense，也可以不用</strong></li><li><strong>如果组件中setup的返回值是一个Promise对象，该组件必须要用suspense</strong></li><li><strong>如果组件中setup出现了async,await，该组件必须要用suspense</strong></li></ul><h4 id="单纯defineAsyncComponent函数使用-未使用suspense的异步加载"><a href="#单纯defineAsyncComponent函数使用-未使用suspense的异步加载" class="headerlink" title="单纯defineAsyncComponent函数使用(未使用suspense的异步加载)"></a>单纯defineAsyncComponent函数使用(未使用suspense的异步加载)</h4><ul><li>如果只需要异步加载组件,而不需要其他的显示效果,就defineAsyncComponent即可实现</li></ul><p>示例代码</p><p>这样子加载<code>Son</code>组件的时候,就是异步的了,就不会因为<code>Son</code>组件没有加载完成而导致整个网页都没有显示</p><p><strong>Son组件代码</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;son&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是儿子<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Son&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.son</span>&#123;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">background-color</span>: green;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">padding</span>: <span class="hljs-number">30px</span>;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><p><strong>App组件代码</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是APP<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">Son</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Son</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//原来方式引入</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">// import Son from &quot;@/components/Son&quot;;</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">// 异步组件引入</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123;defineAsyncComponent&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> <span class="hljs-title class_">Son</span> = <span class="hljs-title function_">defineAsyncComponent</span>(<span class="hljs-function">()=&gt;</span><span class="hljs-title function_">import</span>(<span class="hljs-string">&quot;@/components/Son&quot;</span>))</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;App&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">components</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title class_">Son</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.app</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">background-color</span>: hotpink;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">padding</span>: <span class="hljs-number">40px</span>;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><p>动图效果,可以看到,先<code>我是APP</code>进行加载完成,然后<code>Son</code>加载完成后显示,不是一起显示的</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206251451168.gif"></p><h4 id="defineAsyncComponent函数和suspense组件组合使用-异步加载"><a href="#defineAsyncComponent函数和suspense组件组合使用-异步加载" class="headerlink" title="defineAsyncComponent函数和suspense组件组合使用(异步加载)"></a>defineAsyncComponent函数和suspense组件组合使用(异步加载)</h4><p>等待异步组件时渲染一些额外内容，让应用有更好的用户体验,<strong>suspense组件和异步引入defineAsyncComponent</strong>函数组合显示</p><h5 id="目的"><a href="#目的" class="headerlink" title="目的:"></a>目的:</h5><ul><li>为了让组件加载显示完成的时候不那么突兀,<strong>我们可以使用suspense组件</strong></li><li>可以使用<code>async</code>和<code>await</code></li></ul><h5 id="使用"><a href="#使用" class="headerlink" title="使用:"></a>使用:</h5><ul><li><p>引入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;defineAsyncComponent&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-comment">//当然,suspense是组件,不需要引入</span><br></code></pre></td></tr></table></figure></li><li><p><code>suspense</code>组件提供二个插槽,一个是组件加载完成后显示的,<strong>插槽名称为default</strong>,一个是加载时候的内容,<strong>插槽名称为fallback</strong></p></li><li><p>注意:</p><ul><li><strong>如果组件中setup的返回值是一个Promise对象，该组件必须要用suspense</strong></li><li><strong>如果组件中setup出现了async,await，该组件必须要用suspense</strong></li></ul></li></ul><h5 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h5><p><strong>Son组件</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;son&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是儿子 &#123;&#123;name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">    </span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Son&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">// 这种写法效果和下面的一样</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">/*   async setup() &#123;</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">    let name = &quot;李白&quot;;</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">    let p = new Promise((resolve, reject) =&gt; &#123;</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">      setTimeout(() =&gt; &#123;</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">        resolve(&#123; name &#125;);</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">      &#125;, 3000);</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">    &#125;);</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">    return await p </span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">  &#125;, */</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> name = <span class="hljs-string">&quot;李白&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-title function_">resolve</span>(&#123; name &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;, <span class="hljs-number">3000</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.son</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">background-color</span>: green;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">padding</span>: <span class="hljs-number">30px</span>;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><p><strong>App组件</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是APP<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 为了不让显示这么突兀,我们就结合suspense组件(悬念,悬疑) --&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">suspense</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-comment">&lt;!-- 提供二个插槽,一个加载完成后显示的,插槽名称为default,一个加载中时候的内容,插槽名称为fallback --&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:default</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Son</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Son</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:fallback</span>&gt;</span> 加载中..... <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">suspense</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//原来方式引入</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//import Son from &quot;@/components/Son&quot;;</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">// 异步组件引入</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; defineAsyncComponent &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> <span class="hljs-title class_">Son</span> = <span class="hljs-title function_">defineAsyncComponent</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">import</span>(<span class="hljs-string">&quot;@/components/Son.vue&quot;</span>));</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;App&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">components</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title class_">Son</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.app</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">background-color</span>: hotpink;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">padding</span>: <span class="hljs-number">40px</span>;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><h2 id="五-其他"><a href="#五-其他" class="headerlink" title="五.其他"></a>五.其他</h2><ul><li><p>我现在才知道,使用具名插槽还可以简写</p><ul><li>跟 v-on(简写为@xxx&#x3D;”xxxx”) 和 v-bind(简写为:xxxx&#x3D;”xxxx”) 一样，v-slot 也有缩写。</li><li><code>v-slot:</code> 替换为字符<code> #</code></li><li>例如 v-slot:header 可以被重写为 #header</li><li>所以上面使用<code>suspense组件插槽</code>还可以这样子写</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;suspense&gt;<br>  &lt;!-- 提供二个插槽,一个加载完成后显示的,插槽名称为<span class="hljs-keyword">default</span>,一个加载中时候的内容,插槽名称为fallback --&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">default</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Son</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Son</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">fallback</span>&gt;</span> 加载中..... <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br>&lt;/suspense&gt;<br></code></pre></td></tr></table></figure></li></ul><ul><li><p>data选项应始终被声明为一个函数。</p></li><li><p>过度类名的更改：</p><ul><li><p>Vue2.x写法</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.v-enter</span>,<br><span class="hljs-selector-class">.v-leave-to</span> &#123;<br>  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-selector-class">.v-leave</span>,<br><span class="hljs-selector-class">.v-enter-to</span> &#123;<br>  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>Vue3.x写法</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.v-enter-from</span>,<br><span class="hljs-selector-class">.v-leave-to</span> &#123;<br>  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-selector-class">.v-leave-from</span>,<br><span class="hljs-selector-class">.v-enter-to</span> &#123;<br>  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul></li><li><p><strong style="color:#DD5145">移除</strong>keyCode作为 v-on 的修饰符，同时也不再支持<code>config.keyCodes</code></p></li><li><p><strong style="color:#DD5145">移除</strong><code>v-on.native</code>修饰符</p><ul><li><p>父组件中绑定事件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;my-component<br>  v-on:close=&quot;handleComponentEvent&quot;<br>  v-on:click=&quot;handleNativeClickEvent&quot;<br>/&gt;<br></code></pre></td></tr></table></figure></li><li><p>子组件中声明自定义事件(<code>emit</code>配置对象接收到的就是自定义事件,否者就是原生事件)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script&gt;<br>  export default &#123;<br>    emits: [&#x27;close&#x27;]<br>  &#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure></li></ul></li><li><p><strong style="color:#DD5145">移除</strong>过滤器（filter）</p><blockquote><p>过滤器虽然这看起来很方便，但它需要一个自定义语法，打破大括号内表达式是 “只是 JavaScript” 的假设，这不仅有学习成本，而且有实现成本！建议用方法调用或计算属性去替换过滤器。</p></blockquote></li><li><p>……</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>javscript</tag>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>记录下bilibili(b站)小火箭页面上划动画效果的实现</title>
    <link href="/2022/06/08/%E5%89%8D%E7%AB%AF/%E8%AE%B0%E5%BD%95%E4%B8%8Bbilibili(b%E7%AB%99)%E5%B0%8F%E7%81%AB%E7%AE%AD%E9%A1%B5%E9%9D%A2%E4%B8%8A%E5%88%92%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C%E7%9A%84%E5%AE%9E%E7%8E%B0/"/>
    <url>/2022/06/08/%E5%89%8D%E7%AB%AF/%E8%AE%B0%E5%BD%95%E4%B8%8Bbilibili(b%E7%AB%99)%E5%B0%8F%E7%81%AB%E7%AE%AD%E9%A1%B5%E9%9D%A2%E4%B8%8A%E5%88%92%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C%E7%9A%84%E5%AE%9E%E7%8E%B0/</url>
    
    <content type="html"><![CDATA[<h3 id="突发"><a href="#突发" class="headerlink" title="突发"></a>突发</h3><ul><li>觉得这种bilibili小火箭很有意思,想看看怎么实现的,发现是精灵图来实现的</li><li>已经实现了滚动到顶部~</li><li><a href="http://www.qiutianaimeili.com/html/page/2021/06/2028tl9nhl7wfij.html">css中animation的steps分步动画</a></li></ul><h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206082307750.gif" alt="哔哩哔哩小火箭效果"></p><h3 id="素材"><a href="#素材" class="headerlink" title="素材"></a>素材</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206082312323.png" alt="rocket_top"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206082312501.png" alt="rocket_frame"></p><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><ul><li>基础动画效果</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>bilibili小火箭<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        * &#123;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-class">.rock</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">position</span>: fixed;</span><br><span class="language-css">            <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">150px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">174px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">&quot;img/rocket_top.png&quot;</span>);</span><br><span class="language-css">            <span class="hljs-attribute">overflow</span>: hidden;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.rock</span><span class="hljs-selector-pseudo">:hover</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">&quot;img/rocket_frame.png&quot;</span>);</span><br><span class="language-css">            <span class="hljs-attribute">animation</span>: rockMove <span class="hljs-built_in">steps</span>(<span class="hljs-number">4</span>) .<span class="hljs-number">4s</span> infinite;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-keyword">@keyframes</span> rockMove &#123;</span><br><span class="language-css">            <span class="hljs-number">0%</span> &#123;</span><br><span class="language-css">                <span class="hljs-attribute">background-position</span>-x: <span class="hljs-number">0</span>;</span><br><span class="language-css">            &#125;</span><br><span class="language-css">            <span class="hljs-comment">/* 25% &#123;</span></span><br><span class="hljs-comment"><span class="language-css">                background-position-x: -150px;</span></span><br><span class="hljs-comment"><span class="language-css">            &#125;</span></span><br><span class="hljs-comment"><span class="language-css"></span></span><br><span class="hljs-comment"><span class="language-css">            50% &#123;</span></span><br><span class="hljs-comment"><span class="language-css">                background-position-x: -300px;</span></span><br><span class="hljs-comment"><span class="language-css">            &#125;</span></span><br><span class="hljs-comment"><span class="language-css"></span></span><br><span class="hljs-comment"><span class="language-css">            75% &#123;</span></span><br><span class="hljs-comment"><span class="language-css">                background-position-x: -450px;</span></span><br><span class="hljs-comment"><span class="language-css">            &#125; */</span></span><br><span class="language-css">            <span class="hljs-number">100%</span> &#123;</span><br><span class="language-css">                <span class="hljs-attribute">background-position</span>-x: -<span class="hljs-number">600px</span>;</span><br><span class="language-css">            &#125;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;rock fly&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>带js滚动到顶部效果</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>bilibili小火箭<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        * &#123;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">body</span>,<span class="hljs-selector-tag">html</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">1500px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.rock</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">position</span>: fixed;</span><br><span class="language-css">            <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">150px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">174px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">&quot;img/rocket_top.png&quot;</span>);</span><br><span class="language-css">            <span class="hljs-attribute">overflow</span>: hidden;</span><br><span class="language-css">            <span class="hljs-attribute">display</span>: none;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.rock</span><span class="hljs-selector-pseudo">:hover</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">&quot;img/rocket_frame.png&quot;</span>);</span><br><span class="language-css">            <span class="hljs-attribute">animation</span>: rockMove <span class="hljs-built_in">steps</span>(<span class="hljs-number">4</span>) .<span class="hljs-number">4s</span> infinite;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-keyword">@keyframes</span> rockMove &#123;</span><br><span class="language-css">            <span class="hljs-number">0%</span> &#123;</span><br><span class="language-css">                <span class="hljs-attribute">background-position</span>-x: <span class="hljs-number">0</span>;</span><br><span class="language-css">            &#125;</span><br><span class="language-css"></span><br><span class="language-css">            <span class="hljs-comment">/* 25% &#123;</span></span><br><span class="hljs-comment"><span class="language-css">                background-position-x: -150px;</span></span><br><span class="hljs-comment"><span class="language-css">            &#125;</span></span><br><span class="hljs-comment"><span class="language-css"></span></span><br><span class="hljs-comment"><span class="language-css">            50% &#123;</span></span><br><span class="hljs-comment"><span class="language-css">                background-position-x: -300px;</span></span><br><span class="hljs-comment"><span class="language-css">            &#125;</span></span><br><span class="hljs-comment"><span class="language-css"></span></span><br><span class="hljs-comment"><span class="language-css">            75% &#123;</span></span><br><span class="hljs-comment"><span class="language-css">                background-position-x: -450px;</span></span><br><span class="hljs-comment"><span class="language-css">            &#125; */</span></span><br><span class="language-css">            <span class="hljs-number">100%</span> &#123;</span><br><span class="language-css">                <span class="hljs-attribute">background-position</span>-x: -<span class="hljs-number">600px</span>;</span><br><span class="language-css">            &#125;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;rock fly&quot;</span>&gt;</span><br>        <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 获取当前视口的大小</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> viewHeight = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">clientHeight</span>;</span><br><span class="language-javascript">        <span class="hljs-comment">//小火箭添加单击事件</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.rock&quot;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">//小火箭被单击,回到顶部</span></span><br><span class="language-javascript">            <span class="hljs-comment">// document.documentElement.scrollTop = 0;</span></span><br><span class="language-javascript">            <span class="hljs-comment">//当然,也可以慢慢回到顶部</span></span><br><span class="language-javascript">            <span class="hljs-title function_">slowToTop</span>();</span><br><span class="language-javascript">        &#125;)</span><br><span class="language-javascript">        <span class="hljs-comment">//当然,这里使用节流会更好</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">window</span>.<span class="hljs-property">onscroll</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">scrollTop</span> &gt;= viewHeight) &#123;</span><br><span class="language-javascript">                <span class="hljs-comment">//显示小火箭元素</span></span><br><span class="language-javascript">                <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.rock&quot;</span>).<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">&quot;block&quot;</span>;</span><br><span class="language-javascript">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-comment">//隐藏小火箭</span></span><br><span class="language-javascript">                <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.rock&quot;</span>).<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">&quot;none&quot;</span>;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-variable language_">window</span>.<span class="hljs-property">onresize</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            viewHeight = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">clientHeight</span>;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-comment">/* 缓慢回到顶部 */</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">slowToTop</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">let</span> value = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">scrollTop</span>;</span><br><span class="language-javascript">                <span class="hljs-keyword">if</span>(value&lt;=<span class="hljs-number">0</span>)&#123;</span><br><span class="language-javascript">                    <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">scrollTop</span> = <span class="hljs-number">0</span>;</span><br><span class="language-javascript">                &#125;<span class="hljs-keyword">else</span>&#123;</span><br><span class="language-javascript">                    <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">scrollTop</span> -= <span class="hljs-number">80</span>;</span><br><span class="language-javascript">                    <span class="hljs-title function_">slowToTop</span>();</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">            &#125;, <span class="hljs-number">1000</span>/<span class="hljs-number">50</span>);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>javscript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Typescript的学习笔记</title>
    <link href="/2022/06/05/%E5%89%8D%E7%AB%AF/Typescript%E7%9A%84%E5%AD%A6%E4%B9%A0/"/>
    <url>/2022/06/05/%E5%89%8D%E7%AB%AF/Typescript%E7%9A%84%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h2 id="前置准备"><a href="#前置准备" class="headerlink" title="前置准备"></a>前置准备</h2><ul><li>nodejs必安装</li><li>全局安装<code>typescript</code></li></ul><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">npm <span class="hljs-keyword">install</span> typescript -g<br></code></pre></td></tr></table></figure><ul><li>使用<code>tsc</code>命令对ts文件进行编译<ul><li>进入命名行</li><li>进入ts文件所在目录</li><li>执行命名<code>tsc xxx.ts</code>即可,xxx.ts中xxx为文件名<ul><li>如果没有在报错的情况下进行编译,默认情况下依旧会进行编译,但是可以后期配置不编译</li></ul></li><li>编译可以编译为任意js(兼容性处理更加好),后期可以通过配置文件进行配置</li></ul></li></ul><h2 id="ts的基本类型"><a href="#ts的基本类型" class="headerlink" title="ts的基本类型"></a>ts的基本类型</h2><ul><li><p>类型声明是TS非常重要的一个特点</p></li><li><p>通过类型声明可以指定TS中变量（参数、形参）的类型</p></li><li><p><strong>指定类型后，当为变量赋值时，TS编译器会自动检查值是否符合类型声明，符合则赋值，否则报错</strong></p></li><li><p>简而言之，类型声明给变量设置了类型，使得变量只能存储某种类型的值</p></li></ul><p><strong>ts一些类型</strong></p><table><thead><tr><th align="center">类型</th><th align="center">例子</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">number</td><td align="center">1, -33, 2.5</td><td align="center">任意数字</td></tr><tr><td align="center">string</td><td align="center">‘hi’, “hi”, <code>hi</code></td><td align="center">任意字符串</td></tr><tr><td align="center">boolean</td><td align="center">true、false</td><td align="center">布尔值true或false</td></tr><tr><td align="center">字面量</td><td align="center">其本身</td><td align="center">限制变量的值就是该字面量的值</td></tr><tr><td align="center">any</td><td align="center">*</td><td align="center">任意类型</td></tr><tr><td align="center">unknown</td><td align="center">*</td><td align="center">类型安全的any</td></tr><tr><td align="center">void</td><td align="center">空值（undefined）</td><td align="center">没有值（或undefined）</td></tr><tr><td align="center">never</td><td align="center">没有值</td><td align="center">不能是任何值</td></tr><tr><td align="center">object</td><td align="center">{name:’孙悟空’}</td><td align="center">任意的JS对象</td></tr><tr><td align="center">array</td><td align="center">[1,2,3]</td><td align="center">任意JS数组</td></tr><tr><td align="center">tuple</td><td align="center">[4,5]</td><td align="center">元素，TS新增类型，固定长度数组</td></tr><tr><td align="center">enum</td><td align="center">enum{A, B}</td><td align="center">枚举，TS中新增类型</td></tr><tr><td align="center">…</td><td align="center">…</td><td align="center">…</td></tr></tbody></table><h3 id="类型声明细节"><a href="#类型声明细节" class="headerlink" title="类型声明细节"></a>类型声明细节</h3><h4 id="类型声明-手动"><a href="#类型声明-手动" class="headerlink" title="类型声明(手动)"></a>类型声明(手动)</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">//手动指明类型</span><br><span class="hljs-keyword">let</span> 变量: 类型;<br><br><span class="hljs-comment">//手动指明类型并赋值</span><br><span class="hljs-keyword">let</span> 变量: 类型 = 值;<br><br><span class="hljs-comment">//设置函数形参的变量类型和返回值的类型</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params">参数: 类型, 参数: 类型</span>): 类型&#123;<br>    ...<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="类型声明-自动"><a href="#类型声明-自动" class="headerlink" title="类型声明(自动)"></a>类型声明(自动)</h4><ul><li>变量的声明和赋值是同时进行的,<strong>ts就可以自动对变量进行类型检测的</strong></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">//ts会自动指明类型</span><br><span class="hljs-comment">//这样子变量类型就会自动根据变量值判断</span><br><span class="hljs-keyword">let</span> 变量 = 变量值;<br></code></pre></td></tr></table></figure><p>示例</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// 变量的声明和赋值是同时进行</span><br>    <span class="hljs-comment">//指明了是string类型</span><br><span class="hljs-keyword">let</span> typeString = <span class="hljs-string">&#x27;123&#x27;</span>;<br>typeString = <span class="hljs-string">&quot;456&quot;</span>;<br><span class="hljs-comment">// typeString = false;//报错</span><br></code></pre></td></tr></table></figure><h4 id="类型声明特殊情况-使用字面量"><a href="#类型声明特殊情况-使用字面量" class="headerlink" title="类型声明特殊情况-使用字面量"></a>类型声明特殊情况-使用字面量</h4><ul><li>使用字面量去指定变量的类型，通过字面量可以确定变量的取值范围</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">zml</span>:<span class="hljs-number">10</span>;<br>zml = <span class="hljs-number">10</span>;<br><span class="hljs-comment">// zml = 100;//报错</span><br><br><span class="hljs-keyword">let</span> <span class="hljs-attr">sex</span>: <span class="hljs-string">&quot;男&quot;</span> | <span class="hljs-string">&quot;女&quot;</span>;<br>sex = <span class="hljs-string">&quot;男&quot;</span>;<br>sex = <span class="hljs-string">&quot;女&quot;</span>;<br><span class="hljs-comment">// sex = &quot;未知&quot;;//报错</span><br><br><span class="hljs-keyword">let</span> <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;red&#x27;</span> | <span class="hljs-string">&#x27;blue&#x27;</span> | <span class="hljs-string">&#x27;black&#x27;</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">num</span>: <span class="hljs-number">1</span> | <span class="hljs-number">2</span> | <span class="hljs-number">3</span> | <span class="hljs-number">4</span> | <span class="hljs-number">5</span>;<br></code></pre></td></tr></table></figure><h3 id="ts的其他类型说明"><a href="#ts的其他类型说明" class="headerlink" title="ts的其他类型说明"></a>ts的其他类型说明</h3><h4 id="number"><a href="#number" class="headerlink" title="number"></a>number</h4><ul><li><p>这个不多说声明</p></li><li><p><strong>支持进制表示</strong></p></li><li><p>示例代码</p></li></ul> <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">decimal</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">6</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">hex</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0xf00d</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">binary</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0b1010</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">octal</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0o744</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">big</span>: <span class="hljs-built_in">bigint</span> = <span class="hljs-number">100n</span>;<br></code></pre></td></tr></table></figure><h4 id="boolean"><a href="#boolean" class="headerlink" title="boolean"></a>boolean</h4><ul><li>示例代码</li></ul> <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">isDone</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;<br><span class="hljs-comment">//let isDone: boolean = 134;报错</span><br></code></pre></td></tr></table></figure><h4 id="string"><a href="#string" class="headerlink" title="string"></a>string</h4><ul><li><p>示例代码</p> <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">color</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">&quot;blue&quot;</span>;<br>color = <span class="hljs-string">&#x27;red&#x27;</span>;<br> <br><span class="hljs-keyword">let</span> <span class="hljs-attr">fullName</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">`Bob Bobbington`</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">37</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">sentence</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">`Hello, my name is <span class="hljs-subst">$&#123;fullName&#125;</span>.</span><br><span class="hljs-string"> </span><br><span class="hljs-string"> I&#x27;ll be <span class="hljs-subst">$&#123;age + <span class="hljs-number">1</span>&#125;</span> years old next month.`</span>;<br></code></pre></td></tr></table></figure></li></ul><h4 id="any"><a href="#any" class="headerlink" title="any"></a>any</h4><ul><li><p>使用any任意类型,相当于对该变量关闭了ts的类型检测,和普通的js代码一样了</p><ul><li>示例代码;</li></ul></li></ul> <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs typescript"> <span class="hljs-comment">//声明的时候指明类型,显式的any  </span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">d</span>: <span class="hljs-built_in">any</span> = <span class="hljs-number">4</span>;<br>d = <span class="hljs-string">&#x27;hello&#x27;</span>;<br>d = <span class="hljs-literal">true</span>;<br><br><span class="hljs-comment">//声明变量的时候不指定类型ts自动判断变量的类型为any,,相当于声明隐式any</span><br><span class="hljs-keyword">let</span> d; <br><br><span class="hljs-comment">//声明显示的ayn</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">anyType</span>:<span class="hljs-built_in">any</span>;<br><br><span class="hljs-keyword">let</span> <span class="hljs-attr">s</span>:<span class="hljs-built_in">string</span> = <span class="hljs-string">&#x27;123&#x27;</span>;<br>s = anyType;<span class="hljs-comment">//不会发生报错,因为d的类型是any,会祸害其他人</span><br></code></pre></td></tr></table></figure><h4 id="unknown"><a href="#unknown" class="headerlink" title="unknown"></a>unknown</h4><ul><li><p>示例代码</p> <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">notSure</span>: <span class="hljs-built_in">unknown</span> = <span class="hljs-number">4</span>;<br>notSure = <span class="hljs-string">&#x27;hello&#x27;</span>;<br><br><span class="hljs-keyword">let</span> <span class="hljs-attr">str</span>:<span class="hljs-built_in">string</span> = <span class="hljs-string">&#x27;123&#x27;</span>;<br><span class="hljs-comment">// str = notSure;//发生报错,unknown不会祸害其他</span><br></code></pre></td></tr></table></figure></li></ul><h4 id="void"><a href="#void" class="headerlink" title="void"></a>void</h4><ul><li><p>表示没有返回值</p></li><li><p>示例代码</p> <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">unusable</span>: <span class="hljs-built_in">void</span> = <span class="hljs-literal">undefined</span>;<br><br><span class="hljs-comment">//void类型</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn1</span>(<span class="hljs-params"></span>):<span class="hljs-built_in">void</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;123&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h4 id="never"><a href="#never" class="headerlink" title="never"></a>never</h4><ul><li><p>表示永远不会返回结果,比如这个函数是用来报错的,所以永远不会返回结果</p></li><li><p>示例代码</p> <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">error</span>(<span class="hljs-params">message: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">never</span> &#123;<br>  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(message);<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h4 id="object"><a href="#object" class="headerlink" title="object"></a>object</h4><ul><li><p>不过这种object类型不太经常用,因为很多情况下都是object</p></li><li><p>比如 typeof null返回值是object</p></li><li><p>并且ts认为函数也是一个object</p></li><li><p>示例代码</p> <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">obj</span>: <span class="hljs-built_in">object</span> = &#123;&#125;;<br></code></pre></td></tr></table></figure></li></ul><h4 id=""><a href="#" class="headerlink" title="{}"></a>{}</h4><ul><li>用来指定对象中可以包含哪些属性,<strong>并且结构要一模一样</strong>,多了,少了都不可以!</li><li>比如 <code>let b: &#123;name:string&#125;</code> &#x2F;&#x2F;设定指向一个对象,并且有name属性,并且name属性为string</li><li>属性名<strong>后面加一个问号</strong>,表示这个属性是可选的</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">//sex为可选</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">myObj</span>: &#123; <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>, sex?: <span class="hljs-built_in">string</span> &#125;;<br><br>myObj = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;李白&#x27;</span> &#125;;<span class="hljs-comment">//不报错</span><br>myObj = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;李白&#x27;</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">&#x27;男&#x27;</span> &#125;;<span class="hljs-comment">//不报错</span><br></code></pre></td></tr></table></figure><ul><li><p><code>[propName:string]:any </code>表示任意类型的属性值,propName名字可以随便的,这里只是为了区分下,也可以<code>[xxxx:string]:any</code>,当然,如果需要指明value的类型,可以把any改为指定的类型,比如<code>[propName:string]:string</code> 表示value要为string类型</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">//表示有必须要有key为name,value类型为string的值,和其他任意数量的任意key(类型必须要为string)和value(类型随意)</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">myObj</span>: &#123; <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>, [<span class="hljs-attr">propName</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">any</span> &#125;<br>myObj = &#123; <span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;李白&#x27;</span>, <span class="hljs-string">&quot;sex&quot;</span>: <span class="hljs-string">&#x27;男&#x27;</span> &#125;;<br>myObj = &#123; <span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;李白&#x27;</span>, <span class="hljs-string">&quot;sex&quot;</span>: <span class="hljs-string">&#x27;男&#x27;</span>, <span class="hljs-string">&#x27;hobby&#x27;</span>: <span class="hljs-string">&quot;吃饭&quot;</span> &#125;;<span class="hljs-comment">//不报错</span><br>myObj = &#123; <span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;李白&#x27;</span>, <span class="hljs-string">&quot;sex&quot;</span>: <span class="hljs-string">&#x27;男&#x27;</span>, <span class="hljs-string">&#x27;hobby&#x27;</span>: <span class="hljs-number">555</span> &#125;;<span class="hljs-comment">//不报错</span><br></code></pre></td></tr></table></figure></li></ul><h4 id="设置函数结构的类型声明"><a href="#设置函数结构的类型声明" class="headerlink" title="设置函数结构的类型声明"></a>设置函数结构的类型声明</h4><ul><li>语法: <strong>(形参1:类型1 , 形参2:类型2 [,…] ) &#x3D;&gt; 返回值</strong></li><li>比如 希望<code>getSum</code>为函数,并且有二个参数,均为number,并且返回值为number</li></ul><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-keyword">function</span> get<span class="hljs-constructor">Sum(<span class="hljs-params">a</span>: <span class="hljs-params">number</span>, <span class="hljs-params">b</span>: <span class="hljs-params">number</span>)</span>: number &#123;<br>    return a + b;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>希望<code>getResult</code>为函数,并且有二个参数,一个为<code>object</code>,另一个为<code>string</code>,并且返回值为<code>number</code>或者<code>string</code></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getResult</span>(<span class="hljs-params">a: <span class="hljs-built_in">object</span>, b: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span> &#123;<br>    <span class="hljs-keyword">return</span> a + b;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="array"><a href="#array" class="headerlink" title="array"></a>array</h4><ul><li><p>之前的数组的什么都可以存的,在ts当中可以设置存储数据的类型</p></li><li><p>格式</p><ul><li><code>类型[] </code></li><li><code>Array&lt;类型&gt;</code></li></ul></li><li><p>示例代码</p> <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">//表示数组里面只可以存储number类型</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">typeNumberArray</span>:<span class="hljs-built_in">number</span>[];<br><span class="hljs-keyword">let</span> <span class="hljs-attr">typeNumberArray</span>:<span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;;<br>typeNumberArray = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>];<br><span class="hljs-comment">// typeNumberArray = [1,2,&#x27;3&#x27;];//报错</span><br><br><br><span class="hljs-keyword">let</span> <span class="hljs-attr">a</span>:<span class="hljs-built_in">string</span>[];<span class="hljs-comment">//代表字符串数组</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">b</span>:<span class="hljs-built_in">number</span>[];<span class="hljs-comment">//代表数字数组</span><br></code></pre></td></tr></table></figure></li></ul><h4 id="tuple-元组"><a href="#tuple-元组" class="headerlink" title="tuple(元组)"></a>tuple(元组)</h4><ul><li><p>元组就是固定长度的数组,里面存储的值多了不可以,少了也不可以</p></li><li><p>和数组的类型声明不用的就是反转了下,现在<code>[]</code>在前面了,类型在后面了</p></li><li><p>示例代码</p> <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">x</span>: [<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>];<br>x = [<span class="hljs-string">&quot;hello&quot;</span>, <span class="hljs-number">10</span>]; <br><br><span class="hljs-keyword">let</span> <span class="hljs-attr">h</span>: [<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>];<br>h = [<span class="hljs-string">&#x27;123&#x27;</span>, <span class="hljs-string">&#x27;456&#x27;</span>];<br>h = [<span class="hljs-string">&#x27;123&#x27;</span>];<span class="hljs-comment">//少了,报错;</span><br>h = [<span class="hljs-string">&#x27;123&#x27;</span>, <span class="hljs-string">&#x27;456&#x27;</span>, <span class="hljs-string">&#x27;689&#x27;</span>];<span class="hljs-comment">//多了,报错</span><br></code></pre></td></tr></table></figure></li></ul><h4 id="enum-枚举"><a href="#enum-枚举" class="headerlink" title="enum(枚举)"></a>enum(枚举)</h4><ul><li><p>示例代码</p> <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Sex</span> &#123;<br>    <span class="hljs-title class_">Male</span>,<br>    <span class="hljs-title class_">Female</span><br>&#125;<br><br><span class="hljs-comment">//设置一个数组的结构为userName和sex</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">userInfo</span>: &#123; <span class="hljs-attr">userName</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">sex</span>: <span class="hljs-title class_">Sex</span> &#125;;<br><br>userInfo = &#123;<br>    <span class="hljs-attr">userName</span>:<span class="hljs-string">&quot;李白&quot;</span>,<br>    <span class="hljs-comment">//使用枚举</span><br>    <span class="hljs-attr">sex</span>:<span class="hljs-title class_">Sex</span>.<span class="hljs-property">Male</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>上面代码编译后的js代码</strong></p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> <span class="hljs-title class_">Sex</span>;<br>(<span class="hljs-keyword">function</span> (<span class="hljs-params">Sex</span>) &#123;<br>    <span class="hljs-title class_">Sex</span>[<span class="hljs-title class_">Sex</span>[<span class="hljs-string">&quot;Male&quot;</span>] = <span class="hljs-number">0</span>] = <span class="hljs-string">&quot;Male&quot;</span>;<br>    <span class="hljs-title class_">Sex</span>[<span class="hljs-title class_">Sex</span>[<span class="hljs-string">&quot;Female&quot;</span>] = <span class="hljs-number">1</span>] = <span class="hljs-string">&quot;Female&quot;</span>;<br>&#125;)(<span class="hljs-title class_">Sex</span> || (<span class="hljs-title class_">Sex</span> = &#123;&#125;));<br><span class="hljs-comment">//设置一个数组的结构为userName和sex</span><br><span class="hljs-keyword">var</span> userInfo;<br>userInfo = &#123;<br>    <span class="hljs-attr">userName</span>: <span class="hljs-string">&quot;李白&quot;</span>,<br>    <span class="hljs-comment">//使用枚举</span><br>    <span class="hljs-attr">sex</span>: <span class="hljs-title class_">Sex</span>.<span class="hljs-property">Male</span><br>&#125;;<br><br></code></pre></td></tr></table></figure><h4 id="amp-表示同时满足条件"><a href="#amp-表示同时满足条件" class="headerlink" title="&amp;(表示同时满足条件)"></a>&amp;(表示同时满足条件)</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">//表示key当中既要有name属性和age属性,并且符合规定的value类型</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">all</span>: &#123; <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> &#125; &amp; &#123; <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> &#125;;<br>all = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;李白&quot;</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-number">1000</span><br>&#125;<br></code></pre></td></tr></table></figure><h4 id="type-类型别名"><a href="#type-类型别名" class="headerlink" title="type(类型别名)"></a>type(类型别名)</h4><ul><li>关键字是<code>type</code></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">type</span> myType = <span class="hljs-number">1</span> | <span class="hljs-number">2</span> | <span class="hljs-number">3</span> | <span class="hljs-number">4</span> | <span class="hljs-number">5</span> | <span class="hljs-number">6</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">one</span>: myType;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">two</span>: myType;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">three</span>: myType;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">four</span>: myType;<br></code></pre></td></tr></table></figure><h3 id="类型断言"><a href="#类型断言" class="headerlink" title="类型断言"></a>类型断言</h3><ul><li><p>有时候二边类型编译器判断是不同,但是我们已经明确知道了二边类型是一样的,这时候就可以使用类型断言</p></li><li><p>语法 <strong>变量 as 类型</strong> 或者 <strong>&lt;类型&gt;变量</strong></p></li><li><p>比如: 如果直接将unknown赋值给其他类型的变量,是会发生报错的,所以我们需要类型断言</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">notSure</span>: <span class="hljs-built_in">unknown</span> = <span class="hljs-string">&#x27;biubiu&#x27;</span>;<br><br><span class="hljs-keyword">let</span> strType = <span class="hljs-string">&#x27;123&#x27;</span>;<br><br><span class="hljs-comment">//不进行断言,会报错</span><br><span class="hljs-comment">// strType = notSure;</span><br><br><span class="hljs-comment">//进行类型断言</span><br>strType = notSure <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>;<br><span class="hljs-comment">//或者这种形式的类型断言</span><br><br>strType = &lt;<span class="hljs-built_in">string</span>&gt; notSure;<br></code></pre></td></tr></table></figure></li></ul><h2 id="ts编译"><a href="#ts编译" class="headerlink" title="ts编译"></a>ts编译</h2><h3 id="自动编译-单个文件编译-无需配置文件"><a href="#自动编译-单个文件编译-无需配置文件" class="headerlink" title="自动编译(单个文件编译,无需配置文件)"></a>自动编译(单个文件编译,无需配置文件)</h3><ul><li>编译文件的时候,使用 <code>-w</code>指令后,ts编译器会自动监视文件的变化,并在文件发生变化时候对文件进行重新编译</li><li>示例: <code>tsc xxx.ts -w</code></li><li>缺点: 只能对一个文件进行ts,因为没有配置文件!</li></ul><h3 id="自动编译-整个编译-有配置文件"><a href="#自动编译-整个编译-有配置文件" class="headerlink" title="自动编译(整个编译,有配置文件)"></a>自动编译(整个编译,有配置文件)</h3><ul><li><p>配置文件名称为<code>tsconfig.json</code></p></li><li><p><code>tsconfig.json</code>是一个JSON文件,里面填写配置文件项</p></li><li><p>注意: <code>tsconfig.json</code>是可以添加注释的~其他的JSON不可以哦</p></li><li><p><strong>tsconfig.json配置对象</strong>如下,<a href="https://www.typescriptlang.org/tsconfig/">官网API</a></p></li></ul><h4 id="1-include"><a href="#1-include" class="headerlink" title="1.include"></a>1.include</h4><ul><li>设置希望被编译文件所在的目录,为一个数组</li><li>默认值为: <code>[&quot;**/*&quot;]</code> 代表当前命名行下所有文件夹和文件</li></ul><p>示例:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-comment">// 所有src目录和tests目录下的文件和文件夹里面的ts文件,都会被编译</span><br>    <span class="hljs-attr">&quot;include&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;src/**/*&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;tests/**/*&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>了解下 <code>**</code> 和 <code>* </code> 在tsconfig.json的作用</p><ul><li><code>**/</code> 递归匹配任意子目录</li><li><code>*</code> 表示匹配任意文件</li></ul><h4 id="2-exclude"><a href="#2-exclude" class="headerlink" title="2.exclude"></a>2.exclude</h4><ul><li>设置排除列表</li><li>默认值:<code>[&quot;node_modules&quot;, &quot;bower_components&quot;, &quot;jspm_packages&quot;]</code></li></ul><p>示例:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-comment">// test目录及下层等的ts文件都不会编译</span><br>    <span class="hljs-attr">&quot;exclude&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;./test/**/*&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h4 id="3-files"><a href="#3-files" class="headerlink" title="3.files"></a>3.files</h4><ul><li>指定被编译文件的列表,只有需要编译的文件少时才会用到</li></ul><p>示例: 列表中的文件都会被ts编译器所编译</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;files&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-string">&quot;core.ts&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;sys.ts&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;types.ts&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;scanner.ts&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;parser.ts&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;utilities.ts&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;binder.ts&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;checker.ts&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;tsc.ts&quot;</span><br>  <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br><br></code></pre></td></tr></table></figure><h4 id="4-extends"><a href="#4-extends" class="headerlink" title="4.extends"></a>4.extends</h4><ul><li>继承配置文件</li><li><a href="https://www.typescriptlang.org/tsconfig#extends">具体可看官网</a></li></ul><p>示例:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-comment">//上述示例中,当前配置文件会自动打包包含config目录下的base.json文件当中的所有信息</span><br><span class="hljs-attr">&quot;extends&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;./config/base&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h4 id="5-compilerOptions-重要"><a href="#5-compilerOptions-重要" class="headerlink" title="5.compilerOptions(重要)"></a>5.compilerOptions(重要)</h4><ul><li>编译器的选项,比如说编译模式之类的,里面是由<code>key</code>和<code>value</code>组成的</li><li>下面为常见的key</li></ul><h5 id="1-taget"><a href="#1-taget" class="headerlink" title="1.taget"></a>1.taget</h5><ul><li>用来指明ts被编译为js的版本,<strong>默认值为”es3”</strong></li><li><strong>可选值为</strong>: <code>&#39;es3&#39;, &#39;es5&#39;, &#39;es6&#39;, &#39;es2015&#39;, &#39;es2016&#39;, &#39;es2017&#39;, &#39;es2018&#39;, &#39;es2019&#39;, &#39;es2020&#39;, &#39;es2021&#39;, &#39;esnext&#39;.</code></li></ul><p>target设置为es6的效果</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//编译前//编译后</span><br><span class="hljs-keyword">var</span> a = <span class="hljs-number">123</span>;           =&gt;  <span class="hljs-keyword">var</span> a = <span class="hljs-number">123</span>;<br><span class="hljs-keyword">var</span> b = <span class="hljs-string">&#x27;true&#x27;</span>;        =&gt;  <span class="hljs-keyword">var</span> b = <span class="hljs-string">&#x27;true&#x27;</span>;<br><span class="hljs-keyword">let</span> c = <span class="hljs-string">&#x27;我是动感超人&#x27;</span>;  =&gt;  <span class="hljs-keyword">let</span> c = <span class="hljs-string">&#x27;我是动感超人&#x27;</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(c);        =&gt;  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(c);<br><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>&#123;   =&gt; &#123;<span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <br>&#125;, <span class="hljs-number">900</span>);&#125;, <span class="hljs-number">900</span>);<br></code></pre></td></tr></table></figure><h5 id="2-module"><a href="#2-module" class="headerlink" title="2.module"></a>2.module</h5><ul><li>指明要使用的模块化规范</li><li><strong>可选值为:</strong><code>&#39;none&#39;, &#39;commonjs&#39;, &#39;amd&#39;, &#39;system&#39;, &#39;umd&#39;, &#39;es6&#39;, &#39;es2015&#39;, &#39;es2020&#39;, &#39;es2022&#39;, &#39;esnext&#39;, &#39;node12&#39;, &#39;nodenext&#39;</code></li></ul><p>实例如图: 设置模块化规范为<code>commonjs</code></p><p><code>index.ts</code>使用es6模块化规范导出<code>say</code>函数,<code>app.ts</code>引入<code>say函数并输出</code>,然后查看编译后的<code>app.js</code></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206060835209.png"></p><h5 id="3-outDir"><a href="#3-outDir" class="headerlink" title="3.outDir"></a>3.outDir</h5><ul><li>指定编译后的js文件所在目录</li><li>默认情况下,编译后的js文件会和ts文件位于相同的目录,设置<code>outDir</code>后可以改变编译后文件的位置</li></ul><p>示例:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;compilerOptions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-comment">// 将编译后的js文件输出到当前配置文件所在目录下的dist文件夹下</span><br>        <span class="hljs-attr">&quot;outDir&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;./dist&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h5 id="4-outFile"><a href="#4-outFile" class="headerlink" title="4.outFile"></a>4.outFile</h5><ul><li>将所有的文件编译为一个js文件,默认会将所有编写在<strong>全局作用域下的代码</strong>合并为一个js文件</li><li>如果<code>module</code>配置项指定了<code>none</code>,<code>style</code>或者<code>amd</code>,则会将模块一起合并到文件之中,这几个才可以,<code>es6</code>不可以</li></ul><h5 id="5-lib"><a href="#5-lib" class="headerlink" title="5.lib"></a>5.lib</h5><ul><li>指明要使用的库</li><li>可以写的值</li></ul><figure class="highlight sml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sml"><span class="hljs-symbol">&#x27;es5&#x27;</span>, <span class="hljs-symbol">&#x27;es6&#x27;</span>, <span class="hljs-symbol">&#x27;es2015&#x27;</span>, <span class="hljs-symbol">&#x27;es7&#x27;</span>, <span class="hljs-symbol">&#x27;es2016&#x27;</span>, <span class="hljs-symbol">&#x27;es2017&#x27;</span>, <span class="hljs-symbol">&#x27;es2018&#x27;</span>, <span class="hljs-symbol">&#x27;es2019&#x27;</span>, <span class="hljs-symbol">&#x27;es2020&#x27;</span>, <span class="hljs-symbol">&#x27;es2021&#x27;</span>, <span class="hljs-symbol">&#x27;esnext&#x27;</span>, <span class="hljs-symbol">&#x27;dom&#x27;</span>, <span class="hljs-symbol">&#x27;dom</span>.iterable&#x27;, <span class="hljs-symbol">&#x27;webworker&#x27;</span>, <span class="hljs-symbol">&#x27;webworker</span>.importscripts&#x27;, <span class="hljs-symbol">&#x27;webworker</span>.iterable&#x27;, <span class="hljs-symbol">&#x27;scripthost&#x27;</span>, <span class="hljs-symbol">&#x27;es2015</span>.core&#x27;, <span class="hljs-symbol">&#x27;es2015</span>.collection&#x27;, <span class="hljs-symbol">&#x27;es2015</span>.generator&#x27;, <span class="hljs-symbol">&#x27;es2015</span>.iterable&#x27;, <span class="hljs-symbol">&#x27;es2015</span>.promise&#x27;, <span class="hljs-symbol">&#x27;es2015</span>.proxy&#x27;, <span class="hljs-symbol">&#x27;es2015</span>.reflect&#x27;, <span class="hljs-symbol">&#x27;es2015</span>.symbol&#x27;, <span class="hljs-symbol">&#x27;es2015</span>.symbol.wellknown&#x27;, <span class="hljs-symbol">&#x27;es2016</span>.<span class="hljs-built_in">array</span>.include&#x27;, <span class="hljs-symbol">&#x27;es2017</span>.object&#x27;, <span class="hljs-symbol">&#x27;es2017</span>.sharedmemory&#x27;, <span class="hljs-symbol">&#x27;es2017</span>.string&#x27;, <span class="hljs-symbol">&#x27;es2017</span>.intl&#x27;, <span class="hljs-symbol">&#x27;es2017</span>.typedarrays&#x27;, <span class="hljs-symbol">&#x27;es2018</span>.asyncgenerator&#x27;, <span class="hljs-symbol">&#x27;es2018</span>.asynciterable&#x27;, <span class="hljs-symbol">&#x27;es2018</span>.intl&#x27;, <span class="hljs-symbol">&#x27;es2018</span>.promise&#x27;, <span class="hljs-symbol">&#x27;es2018</span>.regexp&#x27;, <span class="hljs-symbol">&#x27;es2019</span>.array&#x27;, <span class="hljs-symbol">&#x27;es2019</span>.object&#x27;, <span class="hljs-symbol">&#x27;es2019</span>.string&#x27;, <span class="hljs-symbol">&#x27;es2019</span>.symbol&#x27;, <span class="hljs-symbol">&#x27;es2020</span>.bigint&#x27;, <span class="hljs-symbol">&#x27;es2020</span>.promise&#x27;, <span class="hljs-symbol">&#x27;es2020</span>.sharedmemory&#x27;, <span class="hljs-symbol">&#x27;es2020</span>.string&#x27;, <span class="hljs-symbol">&#x27;es2020</span>.symbol.wellknown&#x27;, <span class="hljs-symbol">&#x27;es2020</span>.intl&#x27;, <span class="hljs-symbol">&#x27;es2021</span>.promise&#x27;, <span class="hljs-symbol">&#x27;es2021</span>.string&#x27;, <span class="hljs-symbol">&#x27;es2021</span>.weakref&#x27;, <span class="hljs-symbol">&#x27;es2021</span>.intl&#x27;, <span class="hljs-symbol">&#x27;esnext</span>.array&#x27;, <span class="hljs-symbol">&#x27;esnext</span>.symbol&#x27;, <span class="hljs-symbol">&#x27;esnext</span>.asynciterable&#x27;, <span class="hljs-symbol">&#x27;esnext</span>.intl&#x27;, <span class="hljs-symbol">&#x27;esnext</span>.bigint&#x27;, <span class="hljs-symbol">&#x27;esnext</span>.string&#x27;, <span class="hljs-symbol">&#x27;esnext</span>.promise&#x27;, <span class="hljs-symbol">&#x27;esnext</span>.weakref&#x27;.<br></code></pre></td></tr></table></figure><h5 id="6-allowJs"><a href="#6-allowJs" class="headerlink" title="6.allowJs"></a>6.allowJs</h5><ul><li>是否对js文件进行编译,因为当前目录不止会有ts,可能还有js文件</li><li>默认为<code>false</code>,代表不编译js</li><li>为true代表编译,为false代表不编译js</li></ul><h5 id="7-checkJs"><a href="#7-checkJs" class="headerlink" title="7.checkJs"></a>7.checkJs</h5><ul><li>是否对js文件进行检查</li><li>默认为<code>false</code>,代表不检查</li></ul><h5 id="8-removeComments"><a href="#8-removeComments" class="headerlink" title="8.removeComments"></a>8.removeComments</h5><ul><li>是否移除注释</li><li>默认为<code>false</code>代表不移除</li></ul><h5 id="9-noEmit"><a href="#9-noEmit" class="headerlink" title="9.noEmit"></a>9.noEmit</h5><ul><li>不生成编译后的文件</li><li>默认为<code>false</code>,代表生成编译后的文件</li><li>一般用在只想用ts进行语法检查的情况下使用这个配置项</li></ul><h5 id="10-noEmitOnError"><a href="#10-noEmitOnError" class="headerlink" title="10.noEmitOnError"></a>10.noEmitOnError</h5><ul><li>当有错误的时候不生成编译后的文件</li><li>默认为<code>false</code>,代表ts文件有报错也生成js文件,所以我们经常可以看到有报错还编译生成了js文件就是这个原因</li></ul><hr><blockquote><p>严格检查系列</p></blockquote><h5 id="11-strict-总开关"><a href="#11-strict-总开关" class="headerlink" title="11.strict(总开关)"></a>11.strict(总开关)</h5><ul><li>开启了这个,下面所有的配置项都会设置为true,<strong>默认值为false</strong></li></ul><h5 id="12-alwaysStrict"><a href="#12-alwaysStrict" class="headerlink" title="12.alwaysStrict"></a>12.alwaysStrict</h5><ul><li><p>总是以严格模式对代码进行编译</p></li><li><p><strong>注意:如果使用了es6模块化,那么就自动开启了严格模式,所以编译后不会添加”use strict”关键字</strong></p></li><li><p>值可以为 true | false</p></li></ul><h5 id="13-noImplicitAny"><a href="#13-noImplicitAny" class="headerlink" title="13.noImplicitAny"></a>13.noImplicitAny</h5><ul><li>禁止隐式的any类型,默认为<code>false</code></li><li>设置为<code>true</code>后,隐式的any类型不被允许</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206060853464.png"></p><h5 id="14-noImplicitThis"><a href="#14-noImplicitThis" class="headerlink" title="14.noImplicitThis"></a>14.noImplicitThis</h5><ul><li>禁止类型不明确的this</li></ul><p>如图 所以要指明this的类型 测试了.断言是不可以的忽略这语句的</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206060854166.png"></p><h3 id="忽略错误"><a href="#忽略错误" class="headerlink" title="忽略错误"></a>忽略错误</h3><ul><li>比如根据id获取,可能会获取不到,但是已经确认了 后面加一个 <strong>!</strong><ul><li>var a &#x3D; document.getElementById(“food”)!;</li></ul></li><li>或者直接<code>@ts-ignore</code> 忽略当前行错误</li></ul><p>其他的一些忽略</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs awk">忽略全文<br><span class="hljs-regexp">//</span> @ts-nocheck<br>取消忽略全文<br><span class="hljs-regexp">//</span> @ts-check<br></code></pre></td></tr></table></figure><h3 id="ts-node-编译运行ts代码"><a href="#ts-node-编译运行ts代码" class="headerlink" title="ts-node(编译运行ts代码)"></a>ts-node(编译运行ts代码)</h3><p>安装:</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">npm install ts-<span class="hljs-keyword">node</span> <span class="hljs-title">-g</span><br></code></pre></td></tr></table></figure><p>使用: xxx.ts为文件名称</p><p><code>ts-node xxx.ts</code></p><h2 id="class类"><a href="#class类" class="headerlink" title="class类"></a>class类</h2><ul><li>其实我们一些类的思想已经有了,比如<ul><li>操作浏览器要使用window对象</li><li>操作网页要使用document对象</li><li>操作控制台要使用console对象</li></ul></li><li>ts当中的的类是作为一种类型存在的</li></ul><p>如图,演示了一种<code>Person</code>类型,一种<code>string</code>类型</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206062125593.png" alt="如图,演示了一种Person类型,一种string类型"></p><h3 id="类的实例属性"><a href="#类的实例属性" class="headerlink" title="类的实例属性"></a>类的实例属性</h3><ul><li>实例属性,就是实例化对象的属性,<strong>每一个实例对象当中的实例属性都是独立的</strong></li><li>声明实例属性的时候,既可以赋予初始值,也可以后期通过<code>constructor</code>函数来赋初始值</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;<br>    <span class="hljs-attr">sex</span>: <span class="hljs-built_in">string</span>;<br>    gender = <span class="hljs-string">&#x27;男&#x27;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="类的构造函数"><a href="#类的构造函数" class="headerlink" title="类的构造函数"></a>类的构造函数</h3><ul><li><strong>构造函数,就是为实例属性赋予初始值的一个函数!</strong></li><li>注意,构造函数当中不需要返回值和返回值类型!</li><li>注意,如果没有在<code>constructor</code>上方注明实例属性,那么输入代码的时候可能会没有提示</li></ul><p><strong>正确的(含有实例属性)</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;<br>    <span class="hljs-attr">sex</span>: <span class="hljs-built_in">string</span>;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">age, sex</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">sex</span> = sex;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">var</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-number">100</span>,<span class="hljs-string">&#x27;男&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p1.<span class="hljs-property">age</span>);<br></code></pre></td></tr></table></figure><p><strong>错误的,没有声明实例属性</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>    <span class="hljs-comment">// age: number;</span><br>    <span class="hljs-comment">// sex: string;</span><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">age, sex</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">sex</span> = sex;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">var</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-number">100</span>,<span class="hljs-string">&#x27;男&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p1.<span class="hljs-property">age</span>);<br><br></code></pre></td></tr></table></figure><p><strong>没有声明实例属性的报错提示</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206062134909.png" alt="没有声明实例属性的报错提示"></p><h3 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h3><h4 id="extends-js-ts都有"><a href="#extends-js-ts都有" class="headerlink" title="extends(js,ts都有)"></a>extends(js,ts都有)</h4><ul><li>不多说,看代码~关键字<code>extends</code>,记得调用<code>super</code>去调用父类的构造函数</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">//父类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>    <span class="hljs-attr">food</span>: <span class="hljs-built_in">string</span>;<br>    <span class="hljs-comment">//叫声</span><br>    <span class="hljs-attr">ww</span>: <span class="hljs-built_in">string</span>;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, food: <span class="hljs-built_in">string</span>, ww: <span class="hljs-built_in">string</span></span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">food</span> = food;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">ww</span> = ww;<br>    &#125;<br>    <span class="hljs-title function_">say</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`我会<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.ww&#125;</span>叫`</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//子类 - 继承 Animal类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> &#123;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, food: <span class="hljs-built_in">string</span>, ww: <span class="hljs-built_in">string</span></span>) &#123;<br>        <span class="hljs-variable language_">super</span>(name, food, ww);<br>    &#125;<br>&#125;<br><span class="hljs-keyword">var</span> xiaobai = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">&quot;小白&quot;</span>, <span class="hljs-string">&quot;狗粮&quot;</span>, <span class="hljs-string">&quot;汪汪&quot;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(xiaobai);<br><br></code></pre></td></tr></table></figure><h3 id="可见性修饰符-用于属性或方法"><a href="#可见性修饰符-用于属性或方法" class="headerlink" title="可见性修饰符(用于属性或方法)"></a>可见性修饰符(用于属性或方法)</h3><h4 id="public"><a href="#public" class="headerlink" title="public"></a>public</h4><ul><li>公有:<strong>默认值</strong>,所有的成员都可以在任何地方访问,不管是继承后的子类,还是自己,都可以</li><li>没有说明可见性修饰符则默认是<code>public</code></li></ul><h4 id="protected"><a href="#protected" class="headerlink" title="protected"></a>protected</h4><ul><li>保护: 只可以在其声明所在类和子类当中使用(实例化对象不可用)</li></ul><p><strong>示例代码:</strong> 设置叫声为私有属性</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">//父类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>    <span class="hljs-attr">food</span>: <span class="hljs-built_in">string</span>;<br>    <span class="hljs-comment">//叫声</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-attr">ww</span>: <span class="hljs-built_in">string</span>;<span class="hljs-comment">//设置为私有属性</span><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, food: <span class="hljs-built_in">string</span>, ww: <span class="hljs-built_in">string</span></span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">food</span> = food;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">ww</span> = ww;<br>    &#125;<br>    <span class="hljs-title function_">say</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`我会<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.ww&#125;</span>叫`</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//子类 - 继承 Animal类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> &#123;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, food: <span class="hljs-built_in">string</span>, ww: <span class="hljs-built_in">string</span></span>) &#123;<br>        <span class="hljs-variable language_">super</span>(name, food, ww);<br>    &#125;<br>&#125;<br><span class="hljs-keyword">var</span> xiaobai = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">&quot;小白&quot;</span>, <span class="hljs-string">&quot;狗粮&quot;</span>, <span class="hljs-string">&quot;汪汪&quot;</span>);<br><br><span class="hljs-comment">//报错</span><br><span class="hljs-comment">//提示:属性“ww”受保护，只能在类“Animal”及其子类中访问</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(xiaobai.<span class="hljs-property">ww</span>);<br></code></pre></td></tr></table></figure><p><strong>报错提示</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206062147272.png" alt="报错提示"></p><p>修饰符用于方法</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206062148976.png" alt="修饰符用于方法"></p><h4 id="private"><a href="#private" class="headerlink" title="private"></a>private</h4><ul><li>私有:只可以在其声明所在类中使用,其他都不可以使用</li></ul><p>示例代码</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;<br><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name; <span class="hljs-comment">// 可以修改</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>    &#125;<br><br>    <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`大家好，我是<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.name&#125;</span>`</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Employee</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Person</span>&#123;<br><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span></span>)&#123;<br>        <span class="hljs-variable language_">super</span>(name, age);<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name; <span class="hljs-comment">//子类中不能修改</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&#x27;孙悟空&#x27;</span>, <span class="hljs-number">18</span>);<br>p.<span class="hljs-property">name</span> = <span class="hljs-string">&#x27;猪八戒&#x27;</span>;<span class="hljs-comment">// 不能修改</span><br></code></pre></td></tr></table></figure><h3 id="readonly修饰符-只可用于属性"><a href="#readonly修饰符-只可用于属性" class="headerlink" title="readonly修饰符(只可用于属性)"></a>readonly修饰符(只可用于属性)</h3><ul><li><p>readonly表示只读,用来<strong>防止在构造函数之外对属性进制赋值</strong>!!!</p></li><li><p><strong>使用readonly关键字修饰该属性是只读的，注意只能修饰属性不能修饰方法。</strong></p></li><li><p><strong>接口或者 {} 表示的对象类型,也可以使用readonly</strong></p></li><li><p>只要是readonly来修饰的属性，必须手动提供明确的类型,否者就成为了一个字面量!</p></li></ul><p><strong>示例代码:</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>    <span class="hljs-comment">//只要是readonly来修饰的属性，必须手动提供明确的类型,否者就成为了一个字面量!</span><br>    <span class="hljs-keyword">readonly</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">18</span>;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">age: <span class="hljs-built_in">number</span></span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">var</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-number">100</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p1);<br><span class="hljs-comment">//报错,提示无法分配到 &quot;age&quot; ，因为它是只读属性</span><br>p1.<span class="hljs-property">age</span> = <span class="hljs-number">200</span>;<br><br></code></pre></td></tr></table></figure><p><strong>示例代码:用于{}</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">obj</span>: &#123; <span class="hljs-keyword">readonly</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> &#125; = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;jack&#x27;</span> &#125;;<br><span class="hljs-comment">//报错,提示无法分配到 &quot;name&quot; ，因为它是只读属性。</span><br>obj.<span class="hljs-property">name</span> = <span class="hljs-string">&#x27;Mike&#x27;</span>;<br></code></pre></td></tr></table></figure><h3 id="接口-interface"><a href="#接口-interface" class="headerlink" title="接口(interface)"></a>接口(interface)</h3><ul><li>接口的作用类似于抽象类，不同点在于<strong>接口中的所有方法和属性都是没有实值的</strong>，<strong>换句话说接口中的所有方法都是抽象方法</strong>。<strong>接口主要负责定义一个类的结构</strong>，接口可以去限制一个对象的接口，<strong>对象只有包含接口中定义的所有属性和方法时才能匹配接口</strong>。同时，可以让一个类去实现接口，实现接口时类中要保护接口中的所有属性。</li><li>可以使用接口对对象进行约束</li><li>也可以使用接口对类进行约束</li></ul><p><strong>示例:使用接口对对象进行约束</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Person</span> &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>    <span class="hljs-comment">//规定要有一个函数为&#x27;sayHello&#x27;,并且没有返回值</span><br>    <span class="hljs-title function_">sayHello</span>(): <span class="hljs-built_in">void</span>;<br>&#125;<br><br><span class="hljs-comment">//规定这个per的对象结构为Person定义的结构</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn1</span>(<span class="hljs-params">per: Person</span>) &#123;<br>    <span class="hljs-comment">//调用per当中的sayHello</span><br>    per.<span class="hljs-title function_">sayHello</span>();<br>&#125;<br><span class="hljs-keyword">var</span> myObj = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;孙悟空&quot;</span>,<br>    <span class="hljs-comment">//es6的写法</span><br>    <span class="hljs-comment">// sayHello()&#123;</span><br>    <span class="hljs-comment">//     console.log(&quot;叫我齐天大圣!&quot;);</span><br>    <span class="hljs-comment">// &#125;</span><br>    <span class="hljs-comment">//或者这种es5的写法也可以</span><br>    <span class="hljs-attr">sayHello</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;叫我齐天大圣!&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-title function_">fn1</span>(myObj);<br></code></pre></td></tr></table></figure><p><strong>示例:使用接口对类进行约束</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Person</span> &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>    <span class="hljs-title function_">sayHello</span>(): <span class="hljs-built_in">void</span>;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Person</span> &#123;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">public</span> name: <span class="hljs-built_in">string</span></span>) &#123;<br>    &#125;<br><br>    <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;大家好，我是&#x27;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="抽象类-x2F-抽象方法"><a href="#抽象类-x2F-抽象方法" class="headerlink" title="抽象类&#x2F;抽象方法"></a>抽象类&#x2F;抽象方法</h3><ul><li>抽象类是专门用来被其他类所继承的类，<strong>它只能被其他类所继承不能用来创建实例</strong></li><li>抽象类中可以有<strong>抽象方法</strong>和<strong>普通方法</strong></li><li>抽象方法只能定义在抽象类当中</li><li>子类<strong>必须要</strong>对抽象类的抽象方法进行重写</li></ul><p>示例</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Animals</span> &#123;<br>    <span class="hljs-comment">//定义抽象方法</span><br>    <span class="hljs-keyword">abstract</span> <span class="hljs-title function_">run</span>(): <span class="hljs-built_in">void</span>;<br>    <span class="hljs-title function_">say</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;动物在叫&quot;</span>);<br>    &#125;<br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animals</span> &#123;<br>    <span class="hljs-title function_">run</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;狗会汪汪叫&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">var</span> xiaobai = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>();<br>xiaobai.<span class="hljs-title function_">run</span>();<span class="hljs-comment">//输出:狗会汪汪叫</span><br>xiaobai.<span class="hljs-title function_">say</span>();<span class="hljs-comment">//输出:动物在叫</span><br><br></code></pre></td></tr></table></figure><h3 id="泛型-Generic"><a href="#泛型-Generic" class="headerlink" title="泛型(Generic)"></a>泛型(Generic)</h3><ul><li><p>定义一个函数或类时，有些情况下无法确定其中要使用的具体类型（返回值、参数、属性的类型不能确定），此时泛型便能够发挥作用。</p></li><li><p>格式,在括号前面添加<code>&lt;&gt;</code></p></li><li><p>比如一个函数,我要求有一个参数,用户传入这个参数的类型就是这个函数返回值的类型,那要怎么做?使用泛型</p></li></ul><p>不推荐使用any!</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">//!不推荐使用any!</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params">arg: <span class="hljs-built_in">any</span></span>): <span class="hljs-built_in">any</span>&#123;<br><span class="hljs-keyword">return</span> arg;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>使用泛型</strong></p><ul><li>这里的<code>&lt;T&gt;</code>就是泛型，T是我们给这个类型起的名字（不一定非叫T），设置泛型后即可在函数中使用T来表示该类型。所以泛型其实很好理解，就表示某个类型。</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">function</span> test&lt;T&gt;(<span class="hljs-attr">arg</span>: T) &#123;<br>    <span class="hljs-keyword">return</span> arg;<br>&#125;<br></code></pre></td></tr></table></figure><p>那么如何使用泛型定义的函数?</p><ul><li><strong>方式一:直接使用</strong></li><li>使用时可以直接传递参数使用，类型会由TS自动推断出来，但有时编译器无法自动推断时还需要使用下面的方式</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">function</span> test&lt;T&gt;(<span class="hljs-attr">arg</span>: T) &#123;<br>    <span class="hljs-keyword">return</span> arg;<br>&#125;<br><br><span class="hljs-comment">//方式一（直接使用）：</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">test</span>(<span class="hljs-string">&quot;李白&quot;</span>));<span class="hljs-comment">//输出:李白</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">test</span>(<span class="hljs-number">123</span>));<span class="hljs-comment">//输出:123</span><br><br><br></code></pre></td></tr></table></figure><ul><li><strong>方式二:指明类型</strong></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">function</span> test&lt;T&gt;(<span class="hljs-attr">arg</span>: T) &#123;<br>    <span class="hljs-keyword">return</span> arg;<br>&#125;<br><br><span class="hljs-comment">// 方式二:指明类型</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(test&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">&#x27;杜甫&#x27;</span>));<span class="hljs-comment">//输出:杜甫</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(test&lt;<span class="hljs-built_in">boolean</span>&gt;(<span class="hljs-literal">true</span>));<span class="hljs-comment">//输出:true</span><br></code></pre></td></tr></table></figure><ul><li>可以同时指定多个泛型，泛型间使用逗号隔开：</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">function</span> test2&lt;T, K&gt;(<span class="hljs-attr">arg1</span>: T, <span class="hljs-attr">arg2</span>: K): K &#123;<br>    <span class="hljs-keyword">return</span> arg2;<br>&#125;<br><br>test2&lt;<span class="hljs-built_in">number</span>, <span class="hljs-built_in">string</span>&gt;(<span class="hljs-number">100</span>, <span class="hljs-string">&#x27;杜甫&#x27;</span>);<br></code></pre></td></tr></table></figure><ul><li>类中同样可以使用泛型：</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>&lt;T&gt;&#123;<br>    <span class="hljs-attr">prop</span>: T;<br><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">prop: T</span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">prop</span> = prop;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>除此之外，也可以对泛型的范围进行约束</li></ul><p>使用<code>T extends MyInter</code>表示泛型T必须是MyInter的子类，不一定非要使用接口类和抽象类同样适用。</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">MyInter</span>&#123;<br>    <span class="hljs-attr">length</span>: <span class="hljs-built_in">number</span>;<br>&#125;<br><br><span class="hljs-keyword">function</span> test&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">MyInter</span>&gt;(<span class="hljs-attr">arg</span>: T): <span class="hljs-built_in">number</span>&#123;<br>    <span class="hljs-keyword">return</span> arg.<span class="hljs-property">length</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="函数默认值"><a href="#函数默认值" class="headerlink" title="函数默认值"></a>函数默认值</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 设置name 默认值为&#x27;李白&#x27; age为&#x27;18&#x27;</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">sayHello</span>(<span class="hljs-params">name: string = <span class="hljs-string">&quot;李白&quot;</span>, age: string = <span class="hljs-string">&quot;18&quot;</span></span>) &#123; <br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;我的名字叫&quot;</span>,name,<span class="hljs-string">&quot;年龄为&quot;</span>,age);<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
      <category>typescript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>javscript</tag>
      
      <tag>ES6</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>typescript完成的贪吃蛇前端小游戏</title>
    <link href="/2022/06/03/%E5%89%8D%E7%AB%AF/typescript%E5%AE%8C%E6%88%90%E7%9A%84%E8%B4%AA%E5%90%83%E8%9B%87/"/>
    <url>/2022/06/03/%E5%89%8D%E7%AB%AF/typescript%E5%AE%8C%E6%88%90%E7%9A%84%E8%B4%AA%E5%90%83%E8%9B%87/</url>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>使用typescript的语法完成的</li><li>使用了webpack打包工具,可以兼容IE10以上浏览器</li><li>该有的碰撞到自己身体和碰到墙壁游戏结束和食物随机功能都有~,具体可以自己体验体验</li><li>有源代码和编译好后的文件(dist目录)</li></ul><h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><ul><li><a href="https://github.com/superBiuBiuMan/snake_eatFood">github地址</a></li><li><a href="https://gitee.com/superBiuBiu/snake_eatFood">gitee地址</a></li></ul><h2 id="制作难点"><a href="#制作难点" class="headerlink" title="制作难点"></a>制作难点</h2><h3 id="蛇掉头的功能"><a href="#蛇掉头的功能" class="headerlink" title="蛇掉头的功能"></a><strong>蛇掉头的功能</strong></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/* 设置坐标 */</span><br>    <span class="hljs-title class_">XYPositionSet</span>(<span class="hljs-attr">newValue</span>: number, <span class="hljs-attr">axle</span>: string) &#123;<br>        <span class="hljs-comment">//新的坐标等于原来的坐标,不设置</span><br>        <span class="hljs-comment">//@ts-ignore</span><br>        <span class="hljs-keyword">if</span> (newValue === <span class="hljs-variable language_">this</span>[axle]) &#123;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-comment">//判断是否超过范围</span><br>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isOutArea</span>(newValue)) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;碰到墙壁了&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-comment">//设置是哪一个坐标上的位置</span><br>        <span class="hljs-keyword">let</span> setPosition = axle === <span class="hljs-string">&quot;X&quot;</span> ? <span class="hljs-string">&quot;left&quot;</span> : <span class="hljs-string">&quot;top&quot;</span>;<br><br>        <span class="hljs-comment">/**</span><br><span class="hljs-comment">         *  1.判断掉头二种方法,一种是根据方向,如果当前为左边的方法,那么下一次方向为右边,那么就是掉头了,上下的判断也是</span><br><span class="hljs-comment">         *  2.第二种方法: 左右判断,如果此时蛇头的left等于第一个蛇身的left,那么就是掉头了</span><br><span class="hljs-comment">         *               上下判断,如果此时蛇头的top等于第一个蛇身的top,那么就是掉头了</span><br><span class="hljs-comment">         */</span><br>        <span class="hljs-keyword">let</span> one = <span class="hljs-variable language_">this</span>.<span class="hljs-property">bodies</span>[<span class="hljs-number">1</span>] <span class="hljs-keyword">as</span> <span class="hljs-title class_">HTMLElement</span>;<br>        <span class="hljs-keyword">let</span> checkPosition = axle === <span class="hljs-string">&quot;X&quot;</span> ? <span class="hljs-string">&quot;offsetLeft&quot;</span> : <span class="hljs-string">&quot;offsetTop&quot;</span>;<br>        <span class="hljs-comment">//注意顺序! </span><br>        <span class="hljs-comment">//如果此时蛇头的left/top等于新设置的蛇头的值,那么就是掉头了,并且此时已经在向新方向在移动了!!!!!!!!!!</span><br>        <span class="hljs-comment">//@ts-ignore</span><br>        <span class="hljs-keyword">if</span> (one &amp;&amp; one[checkPosition] === newValue) &#123;<br>            <span class="hljs-comment">//说明掉头了</span><br>            <span class="hljs-comment">// console.log(&quot;掉头了&quot;);</span><br>            <span class="hljs-comment">//掉头后,方向都变化了,比如left =&gt; right , top =&gt; down</span><br>            <span class="hljs-comment">// 蛇 向左走是left在减少 向右走是left在增加</span><br>            <span class="hljs-comment">// 蛇 向上走是top在减少  向下走是top在增加</span><br>            <span class="hljs-comment">// 并且,执行到这一段代码的时候,方向已经被改变了,并且已经确定了新位置</span><br><br>            <span class="hljs-comment">//对于水平突然变化</span><br>            <span class="hljs-comment">// 如果新值newValue大于旧值X,则说明蛇之前在向左走, 现在方向被修改为了向右,所以现在每次蛇都是向右在移动位置(每次都+10的left),要使蛇继续向左走就需要值每次减少而不是增加(设置每次都-10的left)</span><br>            <span class="hljs-comment">// 如果新值newValue小于旧值X,则说明蛇之前在向右走, 现在方向被修改为了向左,所以现在每次蛇都是向左在移动位置(每次都-10的left),要使蛇继续向右走就需要值每次增加而不是减少(设置每次都+10的left)</span><br><br>            <span class="hljs-comment">//对于垂直突然变化</span><br>            <span class="hljs-comment">// 如果新值newValue大于旧值Y,则说明蛇之前向上走,现在方向被修改了向下,所以现在每次蛇都是向下在移动位置(每次都+10的top),要使蛇继续向下走就需要值每次减少而不是增加(设置每次都-10的top)</span><br>            <span class="hljs-comment">// 如果新值newValue小于旧值Y,则说明蛇之前向下走,现在方向被修改了向上,所以现在每次蛇都是向上在移动位置(每次都-10的top),要使蛇继续向下走就需要值每次增加而不是减少(设置每次都+10的top)</span><br><br>            <span class="hljs-comment">//@ts-ignore</span><br>            <span class="hljs-keyword">if</span> (newValue &gt; <span class="hljs-variable language_">this</span>[axle]) &#123;<br>                <span class="hljs-comment">//@ts-ignore</span><br>                newValue = <span class="hljs-variable language_">this</span>[axle] - <span class="hljs-number">10</span>;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-comment">//@ts-ignore</span><br>                newValue = <span class="hljs-variable language_">this</span>[axle] + <span class="hljs-number">10</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">//设置body位置</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setBodyiesPosition</span>();<br>        <span class="hljs-comment">//设置头的位置</span><br>        <span class="hljs-comment">//@ts-ignore</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">head</span>.<span class="hljs-property">style</span>[setPosition] = newValue + <span class="hljs-string">&quot;px&quot;</span>;<br>        <span class="hljs-comment">//判断是否碰撞到了自己</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">checkBump</span>();<br>    &#125;<br></code></pre></td></tr></table></figure><h2 id="效果截图"><a href="#效果截图" class="headerlink" title="效果截图"></a>效果截图</h2><ul><li>图片</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206031924643.png"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206031924923.png"></p><ul><li>动态图</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206031926814.gif"></p>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
      <category>typescript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>javscript</tag>
      
      <tag>ES6</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>webpack构建工具的学习</title>
    <link href="/2022/05/28/%E5%89%8D%E7%AB%AF/webpack%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AD%A6%E4%B9%A0/"/>
    <url>/2022/05/28/%E5%89%8D%E7%AB%AF/webpack%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h2 id="什么是webpack"><a href="#什么是webpack" class="headerlink" title="什么是webpack"></a>什么是webpack</h2><ul><li>是一个模块打包工具</li><li>webpack将前端的所有资源文件(js&#x2F;json&#x2F;css&#x2F;img&#x2F;less…)都看做模块,来进行处理</li><li>会根据模块的依赖关系进行分析,生成对应的资源</li><li>原生的webpack只可以完成<code>js/json</code>的打包编译,而转换什么的需要其他插件进行完成,比如说es6转es5,箭头函数转换,都需要依赖其他loader或者插件(plugins)</li></ul><h3 id="五个核心概念"><a href="#五个核心概念" class="headerlink" title="五个核心概念"></a>五个核心概念</h3><ol><li><strong>入口(entry)</strong>: 告诉webpack应该使用哪个模块,作为构建内部依赖图的开始,比如vue中我们经常在一个文件夹当中建立<code>index.js</code>或者<code>main.js</code>作为入口文件</li><li><strong>出口(output)</strong>: 在哪里输出文件,以及如何命名这些文件<ul><li>比如经常可以看到有些目录有<code>dist</code> <code>build</code>等这些,里面只有js,css,img等一些文件,就是打包输出后的东西</li></ul></li><li><strong>loader</strong>:<ul><li>我们需要注意,原生webpack只支持解析<code>js</code>和 <code>json</code>,其他的需要安装对应的loader,比如处理less就需要<code>less-loader</code></li><li>本身是一个函数,接收源文件作为参数,返回转换结果</li><li>loader异步以<code>xxx-loader</code>方式命名,<code>xxx</code>代表了这个loader要做的转换功能</li></ul></li><li><strong>插件(plugins)</strong>:<ul><li>执行访问更广的任务,从打包到优化都可以实现</li><li>完成一些loader不能完成的功能</li></ul></li><li><strong>模式(model)</strong><ul><li>有生产模式<code>production</code> , 开发模式<code>development</code>,主要区别就是是否会将代码进行压缩</li></ul></li></ol><h3 id="安装webpack"><a href="#安装webpack" class="headerlink" title="安装webpack"></a>安装webpack</h3><ul><li>当然,离不开npm,所以npm初始化就不多说了,直接<code>npm init -y</code></li><li>安装webpack<ul><li><code>npm install webpack webpack-cli -g</code> &#x2F;&#x2F;全局安装</li><li><code>npm install webpack webpack-cli -D </code>&#x2F;&#x2F;局部安装</li><li>查看版本<code> webpack --version</code></li><li>还有,除了全局安装,记得也在项目局部也安装下,不然后面可能有莫名其妙的问题引发</li></ul></li></ul><h3 id="处理js和json文件"><a href="#处理js和json文件" class="headerlink" title="处理js和json文件"></a>处理js和json文件</h3><p><strong>目录结构如下:</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205261006555.png" alt="目录结构"></p><p><strong>代码如下:</strong></p><p><strong>index.js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/**index.js**/</span><br><br><span class="hljs-keyword">import</span> say <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./module1.js&quot;</span><br><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> other <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./module2.js&quot;</span><br><span class="hljs-comment">//引入json</span><br><span class="hljs-keyword">import</span> jsonFile <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../json/user.json&quot;</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">say</span>());<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(other.<span class="hljs-property">a</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(other.<span class="hljs-property">b</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(jsonFile);<br></code></pre></td></tr></table></figure><p><strong>module1.js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/** module1.js **/</span><br><span class="hljs-comment">// 默认暴露</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;你好&quot;</span>);<br>&#125;;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> sayHello<br></code></pre></td></tr></table></figure><p><strong>module2.js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/** module2.js **/</span><br><span class="hljs-comment">// 分别暴露</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">var</span> a = <span class="hljs-number">100</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">var</span> b = <span class="hljs-number">200</span>;<br></code></pre></td></tr></table></figure><p><strong>user.json</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">/** user.json **/</span><br><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;李白&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;2000&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p><strong>index.html</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/** index.html **/</span><br>&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Document&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    hello<br>    &lt;script src=&quot;./dist/js/main.js&quot;&gt;&lt;/script&gt;<br>    &lt;script&gt;<br>    &lt;/script&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure><p><strong>运行命令打包后的文件:</strong></p><p>运行:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//生产模式打包</span><br>webpack ./js/index.<span class="hljs-property">js</span> -o ./dist/js --mode=development<br><span class="hljs-comment">//开发模式打包</span><br>webpack ./js/index.<span class="hljs-property">js</span> -o ./dist/js --mode=development<br></code></pre></td></tr></table></figure><p><strong>输出:</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205261009549.png" alt="编译输出"></p><p><strong>注意:</strong></p><ul><li>es6情况下,如果引入的是一个json文件,<strong>那么引入这个json文件的时候,这个json文件是默认暴露</strong></li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs json">相当于你在user.json写的是<br><span class="hljs-punctuation">&#123;</span><br><span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;李白&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;2000&quot;</span><br><span class="hljs-punctuation">&#125;</span><br>那么es6就将这个作为默认暴露<span class="hljs-punctuation">,</span>类似于 export default <span class="hljs-punctuation">&#123;</span><br><span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;李白&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;2000&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h3 id="webpack-和webpack-cli的关系"><a href="#webpack-和webpack-cli的关系" class="headerlink" title="webpack 和webpack-cli的关系"></a>webpack 和webpack-cli的关系</h3><ul><li><p>vue中有vue-cli,webpack有webpack-cli , 有时候我就在想,这个没有cli和有cli有什么区别呢?不带<code>cli</code>的可以理解为一个工具,是死的,就如果程序一样,不双击运行永远不会运行,而<code>cli</code>就可以帮助我们去使用这个工具,比如是帮助我们使用<code>vue</code>,帮助我们去使用<code>webpack</code>等</p></li><li><p>cli说通俗点就是cli是一个让你在命令行中使用webpack&#x2F;vue一些工具的辅助程序。</p></li></ul><h2 id="webpack的使用"><a href="#webpack的使用" class="headerlink" title="webpack的使用"></a>webpack的使用</h2><h3 id="基本输出操作"><a href="#基本输出操作" class="headerlink" title="基本输出操作"></a>基本输出操作</h3><ul><li>webpack 要编译的文件 -o 输出的文件 –mode&#x3D;development或者production</li><li>比如 <code>webpack ./js/index.js -o ./dist/js --mode=development</code> 就将 js目录下的<code>index.js</code>文件打包输出到dist&#x2F;js目录下(开发者模式)</li></ul><p>运行后输出</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205282115040.png" alt="输出"></p><ul><li>但是原生的webpack只支持js&#x2F;json,并且不支持es6转换es5,箭头函数转换等等,这些都需要依赖<strong>loader</strong>或者<strong>插件</strong>,所以我们后面就来看看怎么使用这些loader或者插件来帮助我们完成</li></ul><h3 id="配置文件的使用"><a href="#配置文件的使用" class="headerlink" title="配置文件的使用"></a>配置文件的使用</h3><h4 id="前置了解"><a href="#前置了解" class="headerlink" title="前置了解"></a>前置了解</h4><ul><li><strong>src为程序员写的源码,建立配置文件的时候不要建立在src当中!</strong></li><li>为什么需要,每一次输入这么一长段的代码很不方便,我们不可能每次都敲这个命令来完成打包吧?<code>webpack ./js/index.js -o ./dist/js </code>,所以我们可以使用<strong>配置文件</strong>来帮助我们完成</li><li>还有就是,webpack需要对<strong>文件进行操作</strong>,所以依赖于nodejs运行,所以肯定是<strong>CMJ模块化规范!</strong>,所以你会看到,一会儿在webpack配置文件中使用<code>require</code>引入模块,一会在<code>src目录</code>下使用<code>import</code>引入模块的操作,一个是CommonJs模块,一个是es6模块规范~</li><li>还有就是基本上要用<strong>const</strong>来接收引入的模块,是<strong>防止有人再次定义了被覆盖而导致的错误</strong>,这种错误很难找到!</li><li>开发依赖和生产依赖<ul><li><strong>开发依赖</strong>,帮助程序员加工处理代码的,比如说<code>less</code></li><li><strong>生产依赖</strong>,帮助程序员完成某些功能的代码,比如说<code>lodash</code>,<code>jQuery</code>之类的</li></ul></li></ul><h4 id="建立配置文件并使用"><a href="#建立配置文件并使用" class="headerlink" title="建立配置文件并使用"></a>建立配置文件并使用</h4><p>在src外面建立一个文件名字叫 <strong>webpack.config.js</strong> 的文件,<a href="https://www.webpackjs.com/configuration/">官网详细配置地址</a></p><p><code>webpack.config.js</code>配置代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ComJs的模块化规范</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>);<br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>    <span class="hljs-comment">//设置模式 development开发模式 production生产模式</span><br>    <span class="hljs-attr">mode</span>:<span class="hljs-string">&quot;development&quot;</span>,<br>    <span class="hljs-comment">//webpack入口文件</span><br>    <span class="hljs-attr">entry</span>:<span class="hljs-string">&quot;./src/js/index.js&quot;</span>,<br>    <span class="hljs-comment">//webpack出口(输出)文件</span><br>    <span class="hljs-attr">output</span>:&#123;<br>        <span class="hljs-comment">//设置输出文件输出在哪里 需要设置一个绝对路径!</span><br>        <span class="hljs-attr">path</span>:path.<span class="hljs-title function_">resolve</span>(__dirname,<span class="hljs-string">&quot;dist&quot;</span>),<br>        <span class="hljs-comment">//设置出口文件的名称</span><br>            <span class="hljs-comment">//如果是 index.js,那么会输出到path目录下,不会创建文件夹</span><br>            <span class="hljs-comment">//如果是 js/index.js 就会输出到dist目录下的js目录下</span><br>        <span class="hljs-attr">filename</span>:<span class="hljs-string">&quot;js/index.js&quot;</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>这样子我们就不用输出很长的一段代码</li><li>只需要输入<code>webpack</code>就可,会自动寻找当前运行目录下的<code>webpack.config.js</code>配置文件</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205282142069.png" alt="运行后输出到dist文件的js目录下"></p><h3 id="解析css文件-css-loader和style-loader"><a href="#解析css文件-css-loader和style-loader" class="headerlink" title="解析css文件 css-loader和style-loader"></a>解析css文件 css-loader和style-loader</h3><ul><li>由于webpack不能解析css文件,只能解析<code>js或者是json文件</code>,但是我们想解析css,那么我们需要安装解析css的插件 - <code>css-loader</code></li></ul><p>没有安装<code>css-loader</code>之前,会提示<code>You may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders</code></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205282157026.png" alt="如图"></p><ul><li><strong>安装插件</strong><ul><li><code>npm install css-loader style-loader -D</code></li></ul></li></ul><p><strong>1.首先</strong>在主入口当中添加引入css  <code>import &quot;./css/index.css&quot;</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;../css/index.css&quot;</span>;<span class="hljs-comment">//引入css文件</span><br><br><span class="hljs-comment">//当然,也可以自己命令下接收</span><br><span class="hljs-keyword">import</span> css <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../css/index.css&quot;</span>;<br></code></pre></td></tr></table></figure><p><strong>2.然后</strong>配置<strong>webpack.config.js</strong></p><ul><li><p><code>use</code>当中的顺序是从右到左的!</p></li><li><p><code>style-loader </code>作用: 将css-loader解析的内容处理,生成<code>style</code>并挂载到<code>head</code>上</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205282214771.png" alt="如图,生成style标签,并挂载到head上"></p></li><li><p><code>css-loader</code>作用: css-loader帮我们解析css文件里面的css代码</p><ul><li><p>比如这是在只使用了<code>css-loader</code>的情况下输出接收到的内容,可以看到,<code>css-loader</code>帮我们读取了css的内容</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205282212020.png" alt="只使用了css-loader的情况下输出接收到的内容"></p></li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//loader的配置项</span><br><span class="hljs-attr">module</span>: &#123;<br><span class="hljs-attr">rules</span>: [<br><span class="hljs-comment">//解析css</span><br>&#123;<br>            <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/</span>,<br>            <span class="hljs-comment">//  &lt;= 执行顺序是从右到左的,先css-loader ,再执行style-loader</span><br>            <span class="hljs-attr">use</span>: [<span class="hljs-string">&#x27;style-loader&#x27;</span>, <span class="hljs-string">&#x27;css-loader&#x27;</span>]<br>&#125;,<br>]<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>3.就可以直接使用了<del>可以运行webpack命令来看看</del></strong></p><h3 id="解析less文件-less-loader"><a href="#解析less文件-less-loader" class="headerlink" title="解析less文件 less-loader"></a>解析less文件 less-loader</h3><ul><li>安装插件<ul><li><code>npm install less-loader -D</code></li></ul></li></ul><p><strong>1.首先</strong>在主入口当中添加引入less <code>import &quot;./css/index.css&quot;</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;../css/index.less&quot;</span>;<span class="hljs-comment">//引入less文件</span><br><br><span class="hljs-comment">//当然,也可以自己命令下接收</span><br><span class="hljs-keyword">import</span> cssLess <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../css/index.less&quot;</span>;<br></code></pre></td></tr></table></figure><p><strong>2.然后</strong>修改下<code>webpack.config.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">module</span>: &#123;<br><span class="hljs-attr">rules</span>: [<br><span class="hljs-comment">//解析less</span><br>&#123;<br><span class="hljs-attr">test</span>:<span class="hljs-regexp">/\.less$/</span>,<br><span class="hljs-attr">use</span>:[<span class="hljs-string">&#x27;style-loader&#x27;</span>,<span class="hljs-string">&quot;css-loader&quot;</span>,<span class="hljs-string">&quot;less-loader&quot;</span>]<br>&#125;,<br>]<br>&#125;<br><br>如果想实现复用的话也可以使用 扩展运算符 ...<br><span class="hljs-keyword">const</span> styleLoader = [<span class="hljs-string">&#x27;style-loader&#x27;</span>,<span class="hljs-string">&quot;css-loader&quot;</span>];<br>&#123;<br>    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.less$/</span>,<br>    <span class="hljs-attr">use</span>: [...styleLoader, <span class="hljs-string">&quot;less-loader&quot;</span>]<br>&#125;,<br></code></pre></td></tr></table></figure><h3 id="打包html文件-html-webpack-plugin-插件"><a href="#打包html文件-html-webpack-plugin-插件" class="headerlink" title="打包html文件  html-webpack-plugin(插件)"></a>打包html文件  html-webpack-plugin(插件)</h3><ul><li>我们之前的打包,只将<code>js,less,css</code>打包到了<code>dist</code>目录下,<code>html</code>这个老大哥还留着在原来的地方,这次我们打包html文件</li><li><strong>安装</strong><ul><li><code>npm install html-webpack-plugin -D</code></li></ul></li><li>其他<ul><li><a href="https://www.webpackjs.com/plugins/html-webpack-plugin/">webpack关于此插件的介绍使用</a></li><li><a href="https://github.com/jantimon/html-webpack-plugin">此插件的github地址</a></li></ul></li></ul><p><strong>1.首先</strong>配置下<code>webpack.config.js</code>文件</p><ul><li>注意这里是插件的使用,所以新增加了一个配置项<code>plugins</code></li><li>注意有模板和没有模板的区别!</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> <span class="hljs-title class_">HtmlWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;html-webpack-plugin&#x27;</span>);<br><span class="hljs-keyword">var</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;path&#x27;</span>);<br><br><span class="hljs-keyword">var</span> webpackConfig = &#123;<br>  ...<br>    <span class="hljs-comment">//这个是没有模板的,也就是如果自己的html文件写了内容,是会被覆盖的!</span><br>  <span class="hljs-comment">//plugins: [new HtmlWebpackPlugin()]</span><br>    <span class="hljs-comment">//这个是有模板的,以自己的html为模板来进行打包html!!!!!!!!!!!!!</span><br>    <span class="hljs-comment">// 注意这个要带 .  不然路径不对!</span><br>    <span class="hljs-attr">plugins</span>: [<span class="hljs-keyword">new</span> <span class="hljs-title class_">HtmlWebpackPlugin</span>(&#123;<span class="hljs-attr">template</span>:<span class="hljs-string">&quot;./src/index.html&quot;</span>&#125;)]<br>  ...<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="html-loader和html-webpack-plugin冲突导致的报错"><a href="#html-loader和html-webpack-plugin冲突导致的报错" class="headerlink" title="html-loader和html-webpack-plugin冲突导致的报错"></a>html-loader和html-webpack-plugin冲突导致的报错</h3><h4 id="前置"><a href="#前置" class="headerlink" title="前置"></a>前置</h4><p>之前学习的时候是webpack4为基本,现在到webpack5了,有些问题了,当我们即使用<code>html-webpack-plugin</code> 又使用<code>html-loader</code>的时候,就会发生这个报错(至少在我现在的版本的情况下会报错!)</p><ul><li>“html-loader”: “^3.1.0”,</li><li>“html-webpack-plugin”: “^5.5.0”</li><li>“webpack”: “^5.72.1”,</li><li>“webpack-cli”: “^4.9.2”</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable constant_">ERROR</span> <span class="hljs-keyword">in</span>   <span class="hljs-title class_">Error</span>: <span class="hljs-title class_">Child</span> compilation <span class="hljs-attr">failed</span>:<br>  <span class="hljs-title class_">Module</span> not <span class="hljs-attr">found</span>: <span class="hljs-title class_">Error</span>: <span class="hljs-title class_">Can</span><span class="hljs-string">&#x27;t resolve &#x27;</span>../dist/js/index.<span class="hljs-property">js</span><span class="hljs-string">&#x27; in &#x27;</span><span class="hljs-attr">D</span>:\develop\phpstudy_pro\<span class="hljs-variable constant_">WWW</span>\webpackstudyagain\src<span class="hljs-string">&#x27;:</span><br><span class="hljs-string">  Error: Can&#x27;</span>t resolve <span class="hljs-string">&#x27;../dist/js/index.js&#x27;</span> <span class="hljs-keyword">in</span> <span class="hljs-string">&#x27;D:\develop\phpstudy_pro\WWW\webpackstudyagain\src&#x27;</span><br>  <span class="hljs-title class_">ModuleNotFoundError</span>: <span class="hljs-title class_">Module</span> not <span class="hljs-attr">found</span>: <span class="hljs-title class_">Error</span>: <span class="hljs-title class_">Can</span><span class="hljs-string">&#x27;t resolve &#x27;</span>../dist/js/index.<span class="hljs-property">js</span><span class="hljs-string">&#x27; in &#x27;</span><span class="hljs-attr">D</span>:\develop\phpstudy_pro\<span class="hljs-variable constant_">WWW</span>\webpackstudyagain\src<span class="hljs-string">&#x27;</span><br></code></pre></td></tr></table></figure><h4 id="冲突报错解决"><a href="#冲突报错解决" class="headerlink" title="冲突报错解决"></a>冲突报错解决</h4><ul><li>原来的<code>index.html</code>改名为<code>index.ejs</code>然后webpack.config.js修改下即可</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//loader的配置项</span><br><span class="hljs-attr">module</span>: &#123;<br>...<br>    <span class="hljs-comment">//原来的改为即可</span><br><span class="hljs-comment">//plugins:[new HtmlWebpackPlugin(&#123;template:&quot;./src/index.html&quot;&#125;),]</span><br>    <span class="hljs-attr">plugins</span>:[<span class="hljs-keyword">new</span> <span class="hljs-title class_">HtmlWebpackPlugin</span>(&#123;<span class="hljs-attr">template</span>:<span class="hljs-string">&quot;./src/index.ejs&quot;</span>&#125;),]<br>...<br>&#125;,<br><br></code></pre></td></tr></table></figure><ul><li>如果想在ejs引入图片文件并实现后期打包的话,就需要使用<code>&lt;%=   require(&#39;图片位置&#39;) %&gt;</code></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-comment">&lt;!-- &lt;img src=&quot;./imgs/lh.jpg&quot;&gt; 不用这个--&gt;</span><br>    <span class="hljs-comment">&lt;!-- 使用这个代替 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot; &lt;%= require(&#x27;./imgs/lh.jpg&#x27;)%&gt; &quot;</span>&gt;</span><br>    <br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="webpack5使用asset-module"><a href="#webpack5使用asset-module" class="headerlink" title="webpack5使用asset module"></a>webpack5使用asset module</h3><ul><li>在webpack5之前,我们url-loader、file-loader、raw-loader来完成操作</li><li>现在webpack5自带的asset-module就可以实现以前的功能</li><li>之前通过<code>use</code>来使用这些loader,<code>asset module</code>通过<code>type</code>来完成</li><li><a href="https://webpack.js.org/guides/asset-modules/">官网(英文)的介绍</a></li></ul><h4 id="功能替换"><a href="#功能替换" class="headerlink" title="功能替换"></a>功能替换</h4><ul><li>asset&#x2F;resource<ul><li>将资源分割为单独的文件，并导出url，就是之前的 file-loader的功能</li><li><a href="https://webpack.js.org/guides/asset-modules/#resource-assets">官网关于此的api</a></li></ul></li><li>asset&#x2F;inline<ul><li>将资源导出为dataURL（url(data:)）的形式，之前的 url-loader的功能</li></ul></li><li>asset&#x2F;source<ul><li>将资源导出为源码（source code）. 之前的 raw-loader 功能</li></ul></li><li>asset<ul><li>自动选择导出为单独文件或者 dataURL形式（默认为8KB）</li></ul></li></ul><h4 id="打包样式中的文件-方法1-asset-x2F-resource"><a href="#打包样式中的文件-方法1-asset-x2F-resource" class="headerlink" title="打包样式中的文件-方法1-asset&#x2F;resource"></a>打包样式中的文件-方法1-asset&#x2F;resource</h4><p>类似于<code>file-loader</code>相当于只是对文件进行了重命名,不具有转base64功能</p><p><strong>设置type为asset&#x2F;resource</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">module</span>: &#123;<br><span class="hljs-attr">rules</span>: [<br><span class="hljs-comment">//配置解析样式中图片</span><br>&#123;<br><span class="hljs-attr">test</span>:<span class="hljs-regexp">/\.(png|jpg|gif|bmp|jpeg|webp)$/</span>,<br><span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;asset/resource&#x27;</span>,<br><span class="hljs-comment">//配置项目</span><br><span class="hljs-attr">generator</span>:&#123;<br><span class="hljs-comment">//设置处理输出的路径为 dist下的imags (也就是dist/imags)</span><br><span class="hljs-comment">//并且设置图片名称为 选取hash值前五位</span><br><span class="hljs-attr">filename</span>:<span class="hljs-string">&quot;imgs/[hash:5][ext]&quot;</span><br>&#125;<br>&#125;<br>]<br>&#125;,<br></code></pre></td></tr></table></figure><h4 id="打包样式中的文件-方法2-asste"><a href="#打包样式中的文件-方法2-asste" class="headerlink" title="打包样式中的文件-方法2-asste"></a>打包样式中的文件-方法2-asste</h4><p>类似于<code>url-loader</code>,可以设置图片小于设定的大小后进行base64编码</p><p><strong>设置type为asset</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">module</span>: &#123;<br><span class="hljs-attr">rules</span>: [<br><span class="hljs-comment">//配置解析样式中图片</span><br>        &#123;<br>            <span class="hljs-attr">test</span>:<span class="hljs-regexp">/\.(png|jpg|gif|bmp|jpeg|webp)$/</span>,<br>            <span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;asset&#x27;</span>,<br>            <span class="hljs-comment">// 转base64的条件</span><br>            <span class="hljs-attr">parser</span>: &#123;<br>                <span class="hljs-comment">// 转base64的条件,当小于8kb的时候就转化为base64</span><br>                <span class="hljs-attr">dataUrlCondition</span>: &#123;<br>                    <span class="hljs-attr">maxSize</span>: <span class="hljs-number">8</span> * <span class="hljs-number">1024</span>, <span class="hljs-comment">// 8kb</span><br>                &#125;<br>            &#125;,<br>            <span class="hljs-comment">//配置项目</span><br>            <span class="hljs-attr">generator</span>:&#123;<br>                <span class="hljs-comment">//设置处理输出的路径为 dist下的imags (也就是dist/imags)</span><br>                <span class="hljs-comment">//并且设置图片名称为 选取hash值前五位</span><br>                <span class="hljs-attr">filename</span>:<span class="hljs-string">&quot;imgs/[hash:5][ext]&quot;</span><br>            &#125;<br>        &#125;<br>]<br>&#125;,<br></code></pre></td></tr></table></figure><h3 id="使用file-loader-url-loader的时候会出现多出来一部分"><a href="#使用file-loader-url-loader的时候会出现多出来一部分" class="headerlink" title="使用file-loader url-loader的时候会出现多出来一部分"></a>使用file-loader url-loader的时候会出现多出来一部分</h3><ul><li>将type设置为<code>javascript/auto</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&#123;<br>    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.(jpg|png|gif)$/</span>,<br>    <span class="hljs-attr">loader</span>: <span class="hljs-string">&#x27;url-loader&#x27;</span>,<br>    <span class="hljs-attr">options</span>: &#123;<br>        <span class="hljs-attr">esModule</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// webpack5默认开启esModule 手动关闭</span><br>            <span class="hljs-comment">// 图片大小小于8kb，就会被base64处理</span><br>            <span class="hljs-comment">// 优点：减少请求数量（减轻服务器压力）</span><br>            <span class="hljs-comment">// 缺点：图片体积会更大（文件请求速度更慢）</span><br>            <span class="hljs-attr">limit</span>: <span class="hljs-number">8</span> * <span class="hljs-number">1024</span>,<br>    &#125;,<br>    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;javascript/auto&#x27;</span> <span class="hljs-comment">// 阻止webpack5中asset</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="处理html文件的图片-html-loader"><a href="#处理html文件的图片-html-loader" class="headerlink" title="处理html文件的图片 html-loader"></a>处理html文件的图片 html-loader</h3><h4 id="不处理html文件图片时候打包后的效果"><a href="#不处理html文件图片时候打包后的效果" class="headerlink" title="不处理html文件图片时候打包后的效果"></a>不处理html文件图片时候打包后的效果</h4><p>发现并没有将html当中的图片进行打包</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205290844981.png" alt="没有处理html文件图片"></p><h4 id="处理步骤和效果"><a href="#处理步骤和效果" class="headerlink" title="处理步骤和效果"></a>处理步骤和效果</h4><p><strong>1.首先安装loader</strong>:  <code>npm install html-loader -D</code></p><p><strong>2.然后配置webpack.config.js</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//loader的配置项</span><br><span class="hljs-attr">module</span>: &#123;<br><span class="hljs-attr">rules</span>: [<br><span class="hljs-comment">//配置解析html中的图片&lt;img&gt;标签资源</span><br>&#123;<br><span class="hljs-attr">test</span>:<span class="hljs-regexp">/\.(html)$/</span>,<br><span class="hljs-attr">use</span>:&#123;<br><span class="hljs-attr">loader</span>:<span class="hljs-string">&quot;html-loader&quot;</span>,<br>&#125;<br>&#125;<br>]<br>&#125;,<br></code></pre></td></tr></table></figure><p>3.然后就可以测试下是否正常了</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205290848208.png" alt="配置完成后被正确的打包和引入了"></p><h3 id="打包其他资源-比如说字体图标-mp4等资源"><a href="#打包其他资源-比如说字体图标-mp4等资源" class="headerlink" title="打包其他资源(比如说字体图标,mp4等资源)"></a>打包其他资源(比如说字体图标,mp4等资源)</h3><ul><li>有时候我们使用了阿里图标字体库,就必须要使用到<code>ttf</code>字体资源,所以我们就要考虑这些资源的打包</li></ul><h4 id="webpack5的使用-asset-x2F-resource"><a href="#webpack5的使用-asset-x2F-resource" class="headerlink" title="webpack5的使用 asset&#x2F;resource"></a>webpack5的使用 asset&#x2F;resource</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">module</span>: &#123;<br><span class="hljs-attr">rules</span>: [<br><span class="hljs-comment">//配置解析其他资源文件,比如说图标字体</span><br> <span class="hljs-comment">//与其说是解析,不如说是搬运下</span><br>        &#123;<br>            <span class="hljs-comment">//设置排除列表</span><br>            <span class="hljs-attr">exclude</span>:<span class="hljs-regexp">/\.(html|less|css|png|jpg|bmp|js|gif|json|jped|webp|ejs)$/</span>,<br>            <span class="hljs-attr">type</span>:<span class="hljs-string">&quot;asset/resource&quot;</span>,<br>            <span class="hljs-attr">generator</span>:&#123;<br>                <span class="hljs-attr">filename</span>:<span class="hljs-string">&quot;media/[hash][ext]&quot;</span><br>            &#125;<br>        &#125;<br>]<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><p>​使用这个asset&#x2F;resource的时候,不知道是不是版本问题还是我配置的问题,老是出现<code>__webpack_public_path__ = __webpack_base_uri__ = htmlWebpackPluginPublicPath;</code> 这个没有用的文件和文件内容,很奇怪,,,,,,</p><p>​之前用webpack4的时候就没有,可能是因为是我写这个的时候使用的都是<code>asset</code>或者<code>asset/resource</code>来处理,而没有使用<code>file-loader</code> 或 <code>url-loader</code>来处理的原因吧</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205291001202.png" alt="多出来的"></p><h3 id="webpack使用webpack-dev-server"><a href="#webpack使用webpack-dev-server" class="headerlink" title="webpack使用webpack-dev-server"></a>webpack使用webpack-dev-server</h3><ul><li>安装,最好是全局和局部都安装!!!! (<strong>带指令集的最好全局安装</strong>)<ul><li><code>npm install webpack-dev-server -D</code></li><li><code>npm install webpack-dev-server -g</code></li></ul></li></ul><p><strong>1.首先</strong> 在配置对象当中添加 <code>devServer</code> 配置选项</p><ul><li>热更新(热模替换): 当内容发生变化的时候,只重新编译变化了的部分,而不会引发整体的编译更新</li><li>不开启热更新的话,当内容发生变化的时候,就会全部重新编译全部更新</li></ul><p>webpack.config.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>...<br>    <span class="hljs-attr">devServer</span>:&#123;<br>        <span class="hljs-attr">port</span>:<span class="hljs-number">5000</span>,<span class="hljs-comment">//开启服务器的端口号,</span><br>        <span class="hljs-attr">open</span>:<span class="hljs-literal">true</span>,<span class="hljs-comment">//编译完成是否自动打开浏览器</span><br>        <span class="hljs-attr">hot</span>:<span class="hljs-literal">true</span>,<span class="hljs-comment">//开启模块热更新(热模替换)</span><br>    &#125;,<br>    ...<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>2.使用</strong></p><p>后面就可以了,要使用这个<code>webpack-dev-server</code>,就只需要把<code>webpack</code> 改为<code>webpack-dev-server</code>即可</p><p>使用webpack-dev-server命名</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205291023266.png"></p><h3 id="生产环境"><a href="#生产环境" class="headerlink" title="生产环境"></a>生产环境</h3><ul><li>之前如果已经配置完成了,那么开发环境就可以用了,开发我们不讲究什么兼容性啊,什么压缩啊,而生产环境就需要</li><li>所以我们可以准备二套webpack的配置文件,一套用于生产,一套用于开发</li><li>将之前写的配置文件配置为生产环境</li></ul><h4 id="准备二套配置文件"><a href="#准备二套配置文件" class="headerlink" title="准备二套配置文件"></a>准备二套配置文件</h4><ul><li>建立config文件夹,里面包括二个文件</li><li><code>webpack.dev.js</code>文件 用于开发环境</li><li><code>webpack.prod.js</code>文件 用于生产环境</li></ul><h5 id="wepack-dev-js文件"><a href="#wepack-dev-js文件" class="headerlink" title="wepack.dev.js文件"></a>wepack.dev.js文件</h5><h6 id="webpack4的时候-参考下"><a href="#webpack4的时候-参考下" class="headerlink" title="webpack4的时候(参考下)"></a>webpack4的时候(参考下)</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">HtmlWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;html-webpack-plugin&quot;</span>);<br><br><span class="hljs-keyword">const</span> styleLoader = [<span class="hljs-string">&#x27;style-loader&#x27;</span>, <span class="hljs-string">&#x27;css-loader&#x27;</span>];<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>    <span class="hljs-comment">//五大核心概念在这里都会被陆续配置</span><br>    <span class="hljs-attr">mode</span>: <span class="hljs-string">&quot;development&quot;</span>, <span class="hljs-comment">//开发模式还是生产模式</span><br>    <span class="hljs-attr">entry</span>: <span class="hljs-string">&quot;./src/js/index.js&quot;</span>, <span class="hljs-comment">//入口文件</span><br>    <span class="hljs-comment">//出口文件</span><br>    <span class="hljs-attr">output</span>: &#123;<br>        <span class="hljs-comment">//设置出口文件的输出路径</span><br>        <span class="hljs-attr">path</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;dist&quot;</span>),<br>        <span class="hljs-comment">//设置出口文件名称</span><br>        <span class="hljs-comment">// filename:&quot;index.js&quot;</span><br>        <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;js/index.js&quot;</span>, <span class="hljs-comment">//这样子写js文件就会被放入到js当中,注意不能/js/index.js!</span><br>    &#125;,<br>    <span class="hljs-comment">//里面配置一个个的loader</span><br>    <span class="hljs-attr">module</span>: &#123;<br>        <span class="hljs-attr">rules</span>: [<br>            <span class="hljs-comment">//css-loader的配置</span><br>            &#123;<br>                <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/</span>, <span class="hljs-comment">//指明要处理的文件类型</span><br>                <span class="hljs-comment">//执行顺序的从右到左的!</span><br>                <span class="hljs-comment">// 简写</span><br>                <span class="hljs-attr">use</span>: [...styleLoader]<br>            &#125;,<br>            <span class="hljs-comment">// less-loader配置</span><br>            &#123;<br>                <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.less$/</span>,<br>                <span class="hljs-attr">use</span>: [...styleLoader, <span class="hljs-string">&quot;less-loader&quot;</span>]<br>            &#125;,<br>            <span class="hljs-comment">// 配置解析样式中的图片 file-loader </span><br>            <span class="hljs-comment">// &#123;</span><br>            <span class="hljs-comment">//     test:/\.(png|jpg|gif|bmp)$/,</span><br>            <span class="hljs-comment">//     use:[</span><br>            <span class="hljs-comment">//         &#123;</span><br>            <span class="hljs-comment">//             loader:&quot;file-loader&quot;,</span><br>            <span class="hljs-comment">//             options:&#123;</span><br>            <span class="hljs-comment">//                 outputPath:&quot;imgs&quot;,//配置图片加工后存放的位置</span><br>            <span class="hljs-comment">//                 name:&#x27;[hash:5].[ext]&#x27;,//配置生成图片的名字 + 后缀,</span><br>            <span class="hljs-comment">//             &#125;</span><br>            <span class="hljs-comment">//         &#125;</span><br>            <span class="hljs-comment">//     ]</span><br>            <span class="hljs-comment">// &#125;,</span><br>            <span class="hljs-comment">// 配置解析样式中的图片 url-loader</span><br>            &#123;<br>                <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.(png|jpg|gif|bmp)$/</span>,<br>                <span class="hljs-attr">use</span>:[<br>                    &#123;<br>                        <span class="hljs-attr">loader</span>:<span class="hljs-string">&#x27;url-loader&#x27;</span>,<br>                        <span class="hljs-attr">options</span>:&#123;<br>                            <span class="hljs-attr">outputPath</span>:<span class="hljs-string">&quot;imgs&quot;</span>,<br>                            <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;[hash:5].[ext]&#x27;</span>,<br>                            <span class="hljs-attr">limit</span>:<span class="hljs-number">9</span>*<span class="hljs-number">1024</span>,<br>                        &#125;<br>                    &#125;<br>                ]<br>            &#125;,<br>            <span class="hljs-comment">//配置解析html中的图片&lt;img&gt;资源</span><br>            &#123;<br>                <span class="hljs-attr">test</span>:<span class="hljs-regexp">/\.(html)$/</span>,<br>                <span class="hljs-attr">use</span>:&#123;<br>                    <span class="hljs-attr">loader</span>:<span class="hljs-string">&quot;html-loader&quot;</span>,<br>                &#125;<br>            &#125;,<br>            <span class="hljs-comment">//配置处理其他资源</span><br>            &#123;<br>                <span class="hljs-attr">exclude</span>:<span class="hljs-regexp">/\.(html|less|css|png|jpg|jpeg|bmp|js|gif|json)$/</span>,<br>                <span class="hljs-attr">use</span>:[<br>                    &#123;<br>                        <span class="hljs-attr">loader</span>:<span class="hljs-string">&quot;file-loader&quot;</span>,<br>                        <span class="hljs-attr">options</span>:&#123;<br>                            <span class="hljs-attr">outputPath</span>:<span class="hljs-string">&quot;media&quot;</span>,<br>                            <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;[hash:5].[ext]&quot;</span><br>                        &#125;<br>                    &#125;<br>                ]<br>            &#125;<br>        ]<br>    &#125;,<br>    <span class="hljs-comment">//使用插件</span><br>    <span class="hljs-attr">plugins</span>: [<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">HtmlWebpackPlugin</span>(&#123;<br>        <span class="hljs-attr">template</span>: <span class="hljs-string">&quot;./src/index.html&quot;</span><br>        &#125;),<br>    ],<br>    <span class="hljs-attr">devServer</span>:&#123;<br>        <span class="hljs-attr">port</span>:<span class="hljs-number">5000</span>,<span class="hljs-comment">//开启服务器的端口号</span><br>        <span class="hljs-attr">open</span>:<span class="hljs-literal">true</span>,<span class="hljs-comment">//编译完成自动打开浏览器</span><br>        <span class="hljs-attr">hot</span>:<span class="hljs-literal">true</span>,<span class="hljs-comment">//开启模块热更新(热模替换)</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h6 id="webpack5的时候-这里以这套为例"><a href="#webpack5的时候-这里以这套为例" class="headerlink" title="webpack5的时候(这里以这套为例)"></a>webpack5的时候(这里以这套为例)</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ComJs的模块化规范</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>);<br><span class="hljs-comment">//html打包插件</span><br><span class="hljs-keyword">var</span> <span class="hljs-title class_">HtmlWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;html-webpack-plugin&#x27;</span>);<br><br><span class="hljs-comment">//复用</span><br><span class="hljs-keyword">const</span> styleLoader = [<span class="hljs-string">&#x27;style-loader&#x27;</span>, <span class="hljs-string">&quot;css-loader&quot;</span>];<br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>    <span class="hljs-comment">//设置模式 development开发模式 production生产模式</span><br>    <span class="hljs-attr">mode</span>: <span class="hljs-string">&quot;development&quot;</span>,<br>    <span class="hljs-comment">//webpack入口文件</span><br>    <span class="hljs-attr">entry</span>: <span class="hljs-string">&quot;./src/js/index.js&quot;</span>,<br>    <span class="hljs-comment">//webpack出口(输出)文件</span><br>    <span class="hljs-attr">output</span>: &#123;<br>        <span class="hljs-comment">//设置输出文件输出在哪里</span><br>        <span class="hljs-attr">path</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;dist&quot;</span>),<br>        <span class="hljs-comment">//设置出口文件的名称</span><br>        <span class="hljs-comment">//如果是 index.js,那么会输出到path目录下,不会创建文件夹</span><br>        <span class="hljs-comment">//如果是 js/index.js 就会输出到dist目录下的js目录下</span><br>        <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;js/index.js&quot;</span><br>    &#125;,<br>    <span class="hljs-comment">//loader的配置项</span><br>    <span class="hljs-attr">module</span>: &#123;<br>        <span class="hljs-attr">rules</span>: [<br>            <span class="hljs-comment">//解析css</span><br>            &#123;<br>                <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/</span>,<br><br>                <span class="hljs-comment">//  &lt;= 执行顺序是从右到左的,先css-loader ,再style-loader</span><br>                <span class="hljs-attr">use</span>: [...styleLoader],<br>            &#125;,<br>            <span class="hljs-comment">//解析less</span><br>            &#123;<br>                <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.less$/</span>,<br>                <span class="hljs-attr">use</span>: [...styleLoader, <span class="hljs-string">&quot;less-loader&quot;</span>],<br><br>            &#125;,<br>            <span class="hljs-comment">//配置解析样式中图片</span><br>            &#123;<br>                <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.(png|jpg|gif|bmp|jpeg|webp)$/</span>,<br>                <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;asset&#x27;</span>,<br>                <span class="hljs-comment">// 转base64的条件</span><br>                <span class="hljs-attr">parser</span>: &#123;<br>                    <span class="hljs-comment">// 转base64的条件</span><br>                    <span class="hljs-attr">dataUrlCondition</span>: &#123;<br>                        <span class="hljs-attr">maxSize</span>: <span class="hljs-number">8</span> * <span class="hljs-number">1024</span>, <span class="hljs-comment">// 8kb</span><br>                    &#125;<br>                &#125;,<br>                <span class="hljs-comment">//配置项目</span><br>                <span class="hljs-attr">generator</span>: &#123;<br>                    <span class="hljs-comment">//设置处理输出的路径为 dist下的imags (也就是dist/imags)</span><br>                    <span class="hljs-comment">//并且设置图片名称为 选取hash值前五位</span><br>                    <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;imgs/[hash:5][ext]&quot;</span><br>                &#125;<br>            &#125;,<br>            <span class="hljs-comment">//配置解析html中的图片&lt;img&gt;标签资源</span><br>            &#123;<br>                <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.(html)$/</span>,<br>                <span class="hljs-attr">use</span>: &#123;<br>                    <span class="hljs-attr">loader</span>: <span class="hljs-string">&quot;html-loader&quot;</span>,<br>                &#125;<br>            &#125;,<br>            <span class="hljs-comment">//配置解析其他资源文件,比如说图标字体</span><br>            <span class="hljs-comment">//与其说是解析,不如说是搬运下</span><br>            &#123;<br>                <span class="hljs-comment">//设置排除列表</span><br>                <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/\.(html|less|css|png|jpg|bmp|js|gif|json|jped|webp|ejs)$/</span>,<br>                <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;asset/resource&quot;</span>,<br>                <span class="hljs-attr">generator</span>: &#123;<br>                    <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;media/[hash][ext]&quot;</span><br>                &#125;<br>            &#125;<br>        ]<br>    &#125;,<br>    <span class="hljs-comment">//插件的配置项</span><br>    <span class="hljs-attr">plugins</span>: [<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">HtmlWebpackPlugin</span>(&#123;<br>        <span class="hljs-attr">template</span>: <span class="hljs-string">&quot;./src/index.ejs&quot;</span><br>        &#125;), <br>    ],<br>    <span class="hljs-attr">devServer</span>:&#123;<br>        <span class="hljs-attr">port</span>:<span class="hljs-number">5000</span>,<span class="hljs-comment">//开启服务器的端口号,</span><br>        <span class="hljs-attr">open</span>:<span class="hljs-literal">true</span>,<span class="hljs-comment">//编译完成是否自动打开浏览器</span><br>        <span class="hljs-attr">hot</span>:<span class="hljs-literal">true</span>,<span class="hljs-comment">//开启模块热更新(热模替换)</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="使用package-json当中运行脚本-这样子就不用每次都输入很长一段代码了"><a href="#使用package-json当中运行脚本-这样子就不用每次都输入很长一段代码了" class="headerlink" title="使用package.json当中运行脚本 这样子就不用每次都输入很长一段代码了"></a>使用package.json当中运行脚本 这样子就不用每次都输入很长一段代码了</h4><ul><li><p>在webpack中,当运行webpack的时候,可以指明配置文件在哪里,使用 <code>--config</code>就可以指明,否者的话就去当前运行目录下寻找是否有<code>webpack.config.js</code>文件!</p><ul><li>比如 <code>webpack --config ./config/webpack.dev.js </code> 就指明webpack的配置文件在哪里</li></ul></li><li><p><strong>在package.json当中</strong>添加<code>script</code>配置项</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-string">&quot;scripts&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;start&quot;</span>: <span class="hljs-string">&quot;webpack-dev-server --config ./config/webpack.dev.js&quot;</span>,<br>    <span class="hljs-string">&quot;build&quot;</span>: <span class="hljs-string">&quot;webpack --config ./config/webpack.prod.js&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure><p>​后期即可通过<code>npm run start</code>来进行start当中的命令,通过<code>npm run build</code>来运行build命令!</p><p>​提醒下:~如果script当中是以<code>start</code>的key值,那么可以简写就可以运行命令,直接<code>npm start</code>就可以,而其他的不可以!</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205291036215.png"></p><h4 id="提取css为单独的文件-mini-css-extract-plugin"><a href="#提取css为单独的文件-mini-css-extract-plugin" class="headerlink" title="提取css为单独的文件 mini-css-extract-plugin"></a>提取css为单独的文件 mini-css-extract-plugin</h4><p><del><strong>webpack4测试可以css可以结合less使用,webpack5莫名其妙less无法和css结合…我这有问题!!!!!!!!!!!!</strong></del></p><p><del><strong>webpack4测试可以css可以结合less使用,webpack5莫名其妙less无法和css结合…我这有问题!!!!!!!!!!!!</strong></del></p><p><del><strong>webpack4测试可以css可以结合less使用,webpack5莫名其妙less无法和css结合…我这有问题!!!!!!!!!!!!</strong></del></p><ul><li>之前的css,都是包含在js了,通过style-loader css-loader来进行解析使用,但是我们后期打包想分离,css就是css,js就是js</li><li>就需要使用插件<code>mini-css-extract-plugin</code></li><li>复习下 style-loader的用处, 就是将js当中的css创建生成标签 ,然后插入到<code>head</code>中</li><li>关于此插件的api<ul><li><a href="https://www.npmjs.com/package/mini-css-extract-plugin">npm地址</a></li><li><a href="https://github.com/webpack-contrib/mini-css-extract-plugin">github地址</a></li></ul></li></ul><p><strong>1.安装</strong> </p><figure class="highlight q"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs q">npm install --<span class="hljs-built_in">save</span>-<span class="hljs-built_in">dev</span> mini-css-extract-plugin<br></code></pre></td></tr></table></figure><p><strong>2.配置</strong>loader</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//引入mini-css-extract-plugin，用于提取css为单独文件</span><br><span class="hljs-keyword">const</span> <span class="hljs-title class_">MiniCssExtractPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;mini-css-extract-plugin&#x27;</span>);<br>&#123;<br><span class="hljs-comment">// 处理less资源</span><br>  <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.less$/</span>,<br>  <span class="hljs-attr">exclude</span>:<span class="hljs-regexp">/node_modules/</span>,<br>  <span class="hljs-attr">use</span>: [<br>    <span class="hljs-title class_">MiniCssExtractPlugin</span>.<span class="hljs-property">loader</span>,<br>    <span class="hljs-string">&#x27;css-loader&#x27;</span>,<br>    <span class="hljs-string">&#x27;less-loader&#x27;</span>,<br>  ]<br>&#125;,<br>    <br>&#123;<br><span class="hljs-comment">// 处理css资源</span><br><span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/</span>,<br><span class="hljs-attr">use</span>: [<br>    <span class="hljs-title class_">MiniCssExtractPlugin</span>.<span class="hljs-property">loader</span>,<br>    <span class="hljs-string">&#x27;css-loader&#x27;</span>,<br>  ]<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>3.配置插件</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>   ...<br>    <span class="hljs-comment">//插件的配置项</span><br>    <span class="hljs-attr">plugins</span>: [<br>        <span class="hljs-comment">//提取css文件</span><br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">MiniCssExtractPlugin</span>(&#123;<br>            <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;./css/index.css&quot;</span>,<br>        &#125;),<br>    ],<br>    ...<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>3.使用</strong> 在配置了package.json的情况下,直接<code>npm run build</code>即可</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205291049105.png" alt="测试正常,没有出现异常"></p><h4 id="css兼容性处理"><a href="#css兼容性处理" class="headerlink" title="css兼容性处理"></a>css兼容性处理</h4><ul><li>注意,修改下打包的配置项目为开发模式  <strong>mode &#x3D; production</strong> ,否者不会处理兼容性问题(因为开发模式要什么兼容性,生产环境才要兼容性)</li></ul><p><strong>1.安装loader</strong>  </p><ul><li><a href="https://www.npmjs.com/package/postcss-loader">postcss网站</a></li></ul><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">npm <span class="hljs-keyword">install</span> postcss postcss-loader postcss-preset-env -D<br></code></pre></td></tr></table></figure><p>**2.定义通用配置 **因为css和less样式文件都要进行兼容性处理，所以我们定义好一个通用的配置：~ (相当于告诉这个工具,要兼容到哪些浏览器) ~!!!</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 配置一个styleLoader，处理less和css时都会使用</span><br><span class="hljs-keyword">const</span> styleLoader = [<span class="hljs-title class_">MiniCssExtractPlugin</span>.<span class="hljs-property">loader</span>, <span class="hljs-string">&#x27;css-loader&#x27;</span>, &#123;<br>        <span class="hljs-attr">loader</span>: <span class="hljs-string">&quot;postcss-loader&quot;</span>,<br>        <span class="hljs-attr">options</span>: &#123;<br>            <span class="hljs-attr">postcssOptions</span>: &#123;<br>                <span class="hljs-attr">plugins</span>: [<br>                    [<br>                        <span class="hljs-string">&quot;postcss-preset-env&quot;</span>,<br>                        &#123;<br>                            <span class="hljs-comment">// Options</span><br>                        &#125;,<br>                    ],<br>                ],<br>            &#125;,<br>        &#125;,<br>    &#125;,<br>];<br></code></pre></td></tr></table></figure><p><strong>3.修改css-loader和less-loader配置</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&#123;<br><span class="hljs-comment">// 处理css资源</span><br><span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/</span>,<br><span class="hljs-attr">use</span>: [...styleLoader]<br>&#125;,<br>&#123;<br><span class="hljs-comment">// 处理less资源</span><br><span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.less$/</span>,<br><span class="hljs-attr">use</span>: [...styleLoader, <span class="hljs-string">&#x27;less-loader&#x27;</span>]<br>&#125;,<br></code></pre></td></tr></table></figure><p><strong>4.配置package.json，在其中追加browserslist配置，通过配置加载指定的css兼容性样式</strong></p><ul><li><p>browserslist 是一套描述产品目标运行环境的工具，它被广泛用在各种涉及浏览器&#x2F;移动端的兼容性支持工具中</p><ul><li>详细配置规则参考：<a href="https://github.com/browserslist/browserslist">https://github.com/browserslist/browserslist</a></li></ul></li><li><p>若出现版本不兼容，或配置不正确的错误，那么需更换依赖包版本： npm i less-loader@5 postcss-loader@3</p></li></ul><p><strong>代码:</strong> vue脚手架用的就是这一套~</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//注意,package.json不可以有注释,记得删除!</span><br><span class="hljs-string">&quot;browserslist&quot;</span>: &#123;<br><span class="hljs-comment">// 开发环境</span><br><span class="hljs-string">&quot;development&quot;</span>: [<br><span class="hljs-string">&quot;last 1 chrome version&quot;</span>,<br><span class="hljs-string">&quot;last 1 firefox version&quot;</span>,<br><span class="hljs-string">&quot;last 1 safari version&quot;</span><br>],<br><span class="hljs-comment">// 生产环境：默认是生产环境</span><br><span class="hljs-string">&quot;production&quot;</span>: [<br><span class="hljs-string">&quot;&gt;0.2%&quot;</span>, <span class="hljs-comment">//兼容市面上99.8%的浏览器</span><br><span class="hljs-string">&quot;not dead&quot;</span>, <span class="hljs-comment">//&quot;死去&quot;的浏览器不做兼容，例如IE8</span><br><span class="hljs-string">&quot;not op_mini all&quot;</span>,<span class="hljs-comment">//不做opera浏览器mini版的兼容</span><br><span class="hljs-string">&quot;ie 10&quot;</span> <span class="hljs-comment">//兼容IE10</span><br>]<br>&#125;<br></code></pre></td></tr></table></figure><p>如图配置完成在package.json中</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205291059798.png"></p><p><strong>5.然后重新运行 npm run build 即可</strong></p><p>可以看到,这里的<code>display:flex</code>自动添加了前置,就是做了下兼容性处理</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205291131207.png"></p><h4 id="js语法转换"><a href="#js语法转换" class="headerlink" title="js语法转换"></a>js语法转换</h4><ul><li>概述：将浏览器不能识别的新语法转换成原来识别的旧语法，做浏览器兼容性处理,比如说箭头函数</li></ul><p><strong>1.安装loader</strong> </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">npm install babel-loader @babel/core @babel/preset-env  -D<br></code></pre></td></tr></table></figure><p><strong>2.配置loader</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">module</span>: &#123;<br>  <span class="hljs-attr">rules</span>: [<br>    &#123;<br>      <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,<br>      <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span>,<br>      <span class="hljs-attr">use</span>: &#123;<br>        <span class="hljs-attr">loader</span>: <span class="hljs-string">&quot;babel-loader&quot;</span>,<br>        <span class="hljs-attr">options</span>: &#123;<br>          <span class="hljs-attr">presets</span>: [<span class="hljs-string">&#x27;@babel/preset-env&#x27;</span>]<br>        &#125;<br>      &#125;<br>    &#125;<br>  ]<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>3.就可以啦,然后直接 npm run build就可以了</strong></p><p>如图示例转换了箭头函数</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205291141607.png"></p><h4 id="js兼容性处理"><a href="#js兼容性处理" class="headerlink" title="js兼容性处理"></a>js兼容性处理</h4><ul><li><p>处理babel无法处理的~,比如说js语法转换无法处理 promise,而如果做了js语法兼容性处理是可以处理promise的,(注:ie11不使用兼容性处理的无法使用promise的!)</p></li><li><p>注意从 7.4 开始，就不推荐使用 @babel&#x2F;polyfill 了,但是这里依旧记录下这个库的使用教程和官方推荐</p></li></ul><h5 id="babel7-4-版本的js兼容性处理"><a href="#babel7-4-版本的js兼容性处理" class="headerlink" title="babel7.4+版本的js兼容性处理"></a>babel7.4+版本的js兼容性处理</h5><h6 id="1-安装"><a href="#1-安装" class="headerlink" title="1.安装"></a>1.安装</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">npm install babel-loader @babel/core @babel/preset-env core-js -D<br></code></pre></td></tr></table></figure><h6 id="2-使用"><a href="#2-使用" class="headerlink" title="2.使用"></a>2.使用</h6><p>代码:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>    <span class="hljs-attr">mode</span>: <span class="hljs-string">&quot;production&quot;</span>,<br>    <span class="hljs-comment">//loader </span><br>    <span class="hljs-attr">module</span>: &#123;<br>        <span class="hljs-attr">rules</span>: [<br>            <span class="hljs-comment">//处理js文件</span><br>            &#123;<br>                <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,<br>                <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span>, <span class="hljs-comment">//排除node_modules</span><br>                <span class="hljs-attr">use</span>: [<br>                    <span class="hljs-comment">//js兼容性处理</span><br>                    &#123;<br>                        <span class="hljs-attr">loader</span>: <span class="hljs-string">&quot;babel-loader&quot;</span>,<br>                        <span class="hljs-attr">options</span>: &#123;<br>                            <span class="hljs-attr">presets</span>: [<br><span class="hljs-comment">//别漏掉了这个括号</span><br>                                [<span class="hljs-string">&quot;@babel/preset-env&quot;</span>,<br>                                    &#123;<br>                                        <span class="hljs-comment">// 按需加载</span><br>                                        <span class="hljs-attr">useBuiltIns</span>: <span class="hljs-string">&#x27;usage&#x27;</span>,<br>                                        <span class="hljs-comment">// 指定core-js版本 ,安装的时候我这里为&quot;core-js&quot;: &quot;^3.22.8&quot;,</span><br>                                        <span class="hljs-attr">corejs</span>: &#123;<br>                                            <span class="hljs-attr">version</span>: <span class="hljs-number">3</span><br>                                        &#125;,<br>                                        <span class="hljs-comment">// 指定兼容性做到哪个版本浏览器</span><br>                                        <span class="hljs-attr">targets</span>: &#123;<br>                                            <span class="hljs-attr">chrome</span>: <span class="hljs-string">&#x27;60&#x27;</span>,<br>                                            <span class="hljs-attr">firefox</span>: <span class="hljs-string">&#x27;60&#x27;</span>,<br>                                            <span class="hljs-attr">ie</span>: <span class="hljs-string">&#x27;9&#x27;</span>,<br>                                            <span class="hljs-attr">safari</span>: <span class="hljs-string">&#x27;10&#x27;</span>,<br>                                            <span class="hljs-attr">edge</span>: <span class="hljs-string">&#x27;17&#x27;</span><br>                                        &#125;<br>                                    &#125;<br>                                ]<br>                            ]<br>                        &#125;<br>                    &#125;,<br>                ]<br>            &#125;,<br>        ]<br>    &#125;,<br>&#125;<br></code></pre></td></tr></table></figure><h6 id="3-注意"><a href="#3-注意" class="headerlink" title="3.注意"></a>3.注意</h6><p>如果出现提示<code>To be a valid preset, its name and options should be wrapped in a pair of brackets</code> 或者<code>RROR in ./src/app.ts Module build failed (from ./node_modules/babel-loader/lib/index.js):Error: [BABEL] D:\develop\phpstudy_pro\WWW\tpyescriptStudy\05_snake\src\app.ts: Unknown option: .useBuiltIns. Check out https://babeljs.io/docs/en/babel-core/#options for more information about options.</code></p><p>可能是因为少了括号,<a href="https://blog.csdn.net/zly_101?type=blog">这位老哥一语道破</a></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206031911565.png" alt="一图道破"></p><p>我的ts结合babel</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206031913586.png" alt="ts结合babel"></p><h6 id="4-效果"><a href="#4-效果" class="headerlink" title="4.效果"></a>4.效果</h6><p>打包后相比@babel&#x2F;poplyfill库明显减少</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206031915678.png" alt="打包后相比@babel/poplyfill库明显减少"></p><p>promise语法也正常输出在ie浏览器</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206031916823.png" alt="promise语法也正常输出"></p><h5 id="babel7-4以下-js兼容性处理-babel-x2F-polyfill库的使用"><a href="#babel7-4以下-js兼容性处理-babel-x2F-polyfill库的使用" class="headerlink" title="babel7.4以下 js兼容性处理-@babel&#x2F;polyfill库的使用"></a>babel7.4以下 js兼容性处理-@babel&#x2F;polyfill库的使用</h5><p>**缺点:!**这个插件会将所有的兼容性代码全部引入，会导致打包后文件体积变大!!!!</p><h6 id="1-安装-1"><a href="#1-安装-1" class="headerlink" title="1.安装"></a>1.安装</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">npm install @babel/polyfill -D<br></code></pre></td></tr></table></figure><p>安装的时候会提示这些,表示<code>@babel/polyfill</code>不推荐使用</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-selector-tag">npm</span> <span class="hljs-selector-tag">WARN</span> <span class="hljs-selector-tag">deprecated</span> @<span class="hljs-selector-tag">babel</span>/<span class="hljs-selector-tag">polyfill</span>@<span class="hljs-number">7.12</span><span class="hljs-selector-class">.1</span>: 🚨 <span class="hljs-selector-tag">This</span> <span class="hljs-selector-tag">package</span> <span class="hljs-selector-tag">has</span> <span class="hljs-selector-tag">been</span> <span class="hljs-selector-tag">deprecated</span> <span class="hljs-selector-tag">in</span> <span class="hljs-selector-tag">favor</span> <span class="hljs-selector-tag">of</span> <span class="hljs-selector-tag">separate</span> <span class="hljs-selector-tag">inclusion</span> <span class="hljs-selector-tag">of</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">polyfill</span> <span class="hljs-selector-tag">and</span> <span class="hljs-selector-tag">regenerator-runtime</span> (when needed). <span class="hljs-selector-tag">See</span> <span class="hljs-selector-tag">the</span> @<span class="hljs-selector-tag">babel</span>/<span class="hljs-selector-tag">polyfill</span> <span class="hljs-selector-tag">docs</span> (<span class="hljs-attribute">https</span>:<span class="hljs-comment">//babeljs.io/docs/en/babel-polyfill) for more information.</span><br><br>npm WARN deprecated core-js<span class="hljs-variable">@2</span>.<span class="hljs-number">6.12</span>: core-js@&lt;<span class="hljs-number">3.4</span> is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to <span class="hljs-number">100</span>x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.<br></code></pre></td></tr></table></figure><p><a href="https://babeljs.io/docs/en/babel-polyfill">官网</a>对于此的介绍: 从 7.4 开始，就不推荐使用 @babel&#x2F;polyfill 了,但是这里依旧记录下这个库的使用教程</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206031853345.png" alt="从 7.4 开始，就不推荐使用 @babel/polyfill 了"></p><h6 id="2-webpack入口文件处引入"><a href="#2-webpack入口文件处引入" class="headerlink" title="2.webpack入口文件处引入"></a><strong>2.webpack入口文件处引入</strong></h6><ul><li>比如我webpack的入口是<code>src\js\index.js</code>,那么我就在这文件夹添加<code> import &#39;@babel/polyfill&#39;;</code> &#x2F;&#x2F; 包含ES6的高级语法的转换 就可以</li></ul><h6 id="3-使用"><a href="#3-使用" class="headerlink" title="3.使用"></a><strong>3.使用</strong></h6><p>没有js兼容性处理前IE11的输出(promise测试)</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205291147809.png" alt="没有js兼容性处理前IE11的输出(promise测试)"></p><p>使用js兼容性处理后IE11的输出(promise测试)</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205291147109.png" alt="使用js兼容性处理后IE11的输出(promise测试)"></p><h6 id="4-效果-1"><a href="#4-效果-1" class="headerlink" title="4.效果"></a>4.效果</h6><p>测试代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>        <span class="hljs-title function_">resolve</span>(<span class="hljs-string">&quot;动感超人&quot;</span> + <span class="hljs-number">900</span>)<br>    &#125;).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);<br>    &#125;)<br>&#125;, <span class="hljs-number">900</span>);<br></code></pre></td></tr></table></figure><p>不过体积有点大</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206031918946.png" alt="打包后体积"></p><h4 id="js语法检查"><a href="#js语法检查" class="headerlink" title="js语法检查"></a>js语法检查</h4><p><strong>1.安装loader</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">npm install eslint-loader eslint -D<br></code></pre></td></tr></table></figure><p><strong>2.安装检查规则库</strong></p><p>备注:eslint-config-airbnb-base定制了一套标准的、常用的js语法检查规则，推荐使用</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">npm <span class="hljs-keyword">install </span>eslint-<span class="hljs-built_in">config</span>-airbnb-<span class="hljs-keyword">base </span>eslint-plugin-import -D<br></code></pre></td></tr></table></figure><p><strong>3.配置webpack</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>    <span class="hljs-comment">//loader的配置项</span><br>    <span class="hljs-attr">module</span>: &#123;<br>        <span class="hljs-attr">rules</span>: [<br>            <span class="hljs-comment">//语法检查功能</span><br>            &#123;<br>                <span class="hljs-comment">// 对js进行语法检查</span><br>                <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,<br>                <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span>,<span class="hljs-comment">//排除这个文件</span><br>                <span class="hljs-comment">// 优先执行</span><br>                <span class="hljs-attr">enforce</span>: <span class="hljs-string">&#x27;pre&#x27;</span>,<span class="hljs-comment">//优先执行  只要webpack启动时  尽可能先执行</span><br>                <span class="hljs-attr">loader</span>: <span class="hljs-string">&#x27;eslint-loader&#x27;</span>,<br>                <span class="hljs-attr">options</span>: &#123;<br>                  <span class="hljs-attr">fix</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">//若有问题自动修复，重要！！！！</span><br>                &#125;<br>            &#125; <br>        ]<br>    &#125;,<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>4.配置package.json</strong></p><p>注意安装语法规则库</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-string">&quot;eslintConfig&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;extends&quot;</span>: <span class="hljs-string">&quot;airbnb-base&quot;</span>,<br>    <span class="hljs-string">&quot;env&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;browser&quot;</span>: <span class="hljs-literal">true</span><br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//说明</span><br><span class="hljs-string">&quot;eslintConfig&quot;</span>: &#123;<br>  <span class="hljs-string">&quot;extends&quot;</span>: <span class="hljs-string">&quot;airbnb-base&quot;</span>, <span class="hljs-comment">//直接使用airbnb-base提供的规则 需要下载的</span><br>  <span class="hljs-string">&quot;env&quot;</span>: &#123;<br>   <span class="hljs-string">&quot;browser&quot;</span>: <span class="hljs-literal">true</span><span class="hljs-comment">//如果运行环境不是浏览器  则运行环境为node  此时需要将这个改为false</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>5.使用</strong></p><p>打包的时候自动运行</p><p>如图,我这里检测到的不符合语法规范的问题</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205291214074.png" alt="检测到的错误"></p><h4 id="压缩css-对于html-js-webpack4都已经默认压缩了"><a href="#压缩css-对于html-js-webpack4都已经默认压缩了" class="headerlink" title="压缩css(对于html,js,webpack4都已经默认压缩了)"></a>压缩css(对于html,js,webpack4都已经默认压缩了)</h4><p><strong>1.安装</strong></p><p> webpack4的时候使用这个 <a href="https://www.npmjs.com/package/optimize-css-assets-webpack-plugin">官网api</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">npm install optimize-css-assets-webpack-plugin -D<br></code></pre></td></tr></table></figure><p>webpack5的时候使用这个 <a href="https://www.npmjs.com/package/css-minimizer-webpack-plugin">官网api</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">npm install css-minimizer-webpack-plugin --save-dev<br></code></pre></td></tr></table></figure><p><strong>2.引入插件</strong></p><p> webpack4的时候使用这个</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">OptimizeCssAssetsPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;optimize-css-assets-webpack-plugin&#x27;</span>);<br></code></pre></td></tr></table></figure><p>webpack5的时候使用这个</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">CssMinimizerPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;css-minimizer-webpack-plugin&quot;</span>);<br></code></pre></td></tr></table></figure><p><strong>3.配置插件</strong></p><p>webpack4的<code>optimize-css-assets-webpack-plugin</code>配置</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>    <span class="hljs-comment">//插件的配置项</span><br>    <span class="hljs-attr">plugins</span>: [<br>        <span class="hljs-comment">//压缩css插件</span><br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">OptimizeCssAssetsPlugin</span>(&#123;<br>            <span class="hljs-attr">cssProcessorPluginOptions</span>: &#123;<br>              <span class="hljs-attr">preset</span>: [<span class="hljs-string">&#x27;default&#x27;</span>, &#123; <span class="hljs-attr">discardComments</span>: &#123; <span class="hljs-attr">removeAll</span>: <span class="hljs-literal">true</span> &#125; &#125;],<span class="hljs-comment">//移出所有注释</span><br>            &#125;,<br>        &#125;),<br>    ]<br>&#125;<br></code></pre></td></tr></table></figure><p>webpack5的<code>css-minimizer-webpack-plugin</code>配置</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">MiniCssExtractPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;mini-css-extract-plugin&quot;</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">CssMinimizerPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;css-minimizer-webpack-plugin&quot;</span>);<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-attr">optimization</span>: &#123;<br>    <span class="hljs-attr">minimizer</span>: [<br>      <span class="hljs-keyword">new</span> <span class="hljs-title class_">CssMinimizerPlugin</span>(),<br>    ],<br>  &#125;,<br>    <span class="hljs-comment">//使用压缩css插件</span><br>  <span class="hljs-attr">plugins</span>: [<span class="hljs-keyword">new</span> <span class="hljs-title class_">MiniCssExtractPlugin</span>()],<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>注意!注意!注意!注意!注意!</strong></p><p>​在webpack5中，不需要手动引入uglify插件，只需配置<code>mode</code>为<code>production</code>就可以压缩js代码。但是，如果用了<code>css-minimizer-webpack-plugin</code>插件去压缩css文件，js的压缩就会失效,所以使用<code>terser-webpack-plugin</code>插件去压缩js代码</p><p>​(我这边反正就是二个一起使用是报错&#96;&#96;,这里记录下)</p><p><strong>我使用的时候报错记录</strong>,可能是提取css的时候遗留下来的问题吧,</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable constant_">ERROR</span> <span class="hljs-keyword">in</span> main.<span class="hljs-property">css</span><br>main.<span class="hljs-property">css</span> <span class="hljs-keyword">from</span> <span class="hljs-title class_">Css</span> <span class="hljs-title class_">Minimizer</span> plugin<br><span class="hljs-title class_">Error</span>: <span class="hljs-title class_">Unexpected</span> <span class="hljs-string">&#x27;/&#x27;</span>. <span class="hljs-title class_">Escaping</span> special characters <span class="hljs-keyword">with</span> \ may help.<br>    at <span class="hljs-attr">D</span>:\develop\phpstudy_pro\<span class="hljs-variable constant_">WWW</span>\webpackstudyagain\main.<span class="hljs-property">css</span>:<span class="hljs-number">28</span>:<span class="hljs-number">1</span><br>    at <span class="hljs-title class_">Root</span>.<span class="hljs-property">_error</span> (<span class="hljs-attr">D</span>:\develop\phpstudy_pro\<span class="hljs-variable constant_">WWW</span>\webpackstudyagain\node_modules\postcss-selector-parser\dist\parser.<span class="hljs-property">js</span>:<span class="hljs-number">174</span>:<span class="hljs-number">16</span>)<br>    at <span class="hljs-title class_">Root</span>.<span class="hljs-property">error</span> (<span class="hljs-attr">D</span>:\develop\phpstudy_pro\<span class="hljs-variable constant_">WWW</span>\webpackstudyagain\node_modules\postcss-selector-parser\dist\selectors\root.<span class="hljs-property">js</span>:<span class="hljs-number">43</span>:<span class="hljs-number">19</span>)<br>    at <span class="hljs-title class_">Parser</span>.<span class="hljs-property">error</span> (<span class="hljs-attr">D</span>:\develop\phpstudy_pro\<span class="hljs-variable constant_">WWW</span>\webpackstudyagain\node_modules\postcss-selector-parser\dist\parser.<span class="hljs-property">js</span>:<span class="hljs-number">740</span>:<span class="hljs-number">21</span>)<br>    at <span class="hljs-title class_">Parser</span>.<span class="hljs-property">unexpected</span> (<span class="hljs-attr">D</span>:\develop\phpstudy_pro\<span class="hljs-variable constant_">WWW</span>\webpackstudyagain\node_modules\postcss-selector-parser\dist\parser.<span class="hljs-property">js</span>:<span class="hljs-number">758</span>:<span class="hljs-number">17</span>)<br>    at <span class="hljs-title class_">Parser</span>.<span class="hljs-property">combinator</span> (<span class="hljs-attr">D</span>:\develop\phpstudy_pro\<span class="hljs-variable constant_">WWW</span>\webpackstudyagain\node_modules\postcss-selector-parser\dist\parser.<span class="hljs-property">js</span>:<span class="hljs-number">656</span>:<span class="hljs-number">12</span>)<br>    at <span class="hljs-title class_">Parser</span>.<span class="hljs-property">parse</span> (<span class="hljs-attr">D</span>:\develop\phpstudy_pro\<span class="hljs-variable constant_">WWW</span>\webpackstudyagain\node_modules\postcss-selector-parser\dist\parser.<span class="hljs-property">js</span>:<span class="hljs-number">1101</span>:<span class="hljs-number">14</span>)<br>    at <span class="hljs-title class_">Parser</span>.<span class="hljs-property">loop</span> (<span class="hljs-attr">D</span>:\develop\phpstudy_pro\<span class="hljs-variable constant_">WWW</span>\webpackstudyagain\node_modules\postcss-selector-parser\dist\parser.<span class="hljs-property">js</span>:<span class="hljs-number">1043</span>:<span class="hljs-number">12</span>)<br>    at <span class="hljs-keyword">new</span> <span class="hljs-title class_">Parser</span> (<span class="hljs-attr">D</span>:\develop\phpstudy_pro\<span class="hljs-variable constant_">WWW</span>\webpackstudyagain\node_modules\postcss-selector-parser\dist\parser.<span class="hljs-property">js</span>:<span class="hljs-number">164</span>:<span class="hljs-number">10</span>)<br>    at <span class="hljs-title class_">Processor</span>.<span class="hljs-property">_root</span> (<span class="hljs-attr">D</span>:\develop\phpstudy_pro\<span class="hljs-variable constant_">WWW</span>\webpackstudyagain\node_modules\postcss-selector-parser\dist\processor.<span class="hljs-property">js</span>:<span class="hljs-number">53</span>:<span class="hljs-number">18</span>)<br>    at <span class="hljs-title class_">Processor</span>.<span class="hljs-property">_runSync</span> (<span class="hljs-attr">D</span>:\develop\phpstudy_pro\<span class="hljs-variable constant_">WWW</span>\webpackstudyagain\node_modules\postcss-selector-parser\dist\processor.<span class="hljs-property">js</span>:<span class="hljs-number">100</span>:<span class="hljs-number">21</span>)<br><br><span class="hljs-variable constant_">ERROR</span> <span class="hljs-keyword">in</span> ./css/index.<span class="hljs-property">css</span><br>./css/index.<span class="hljs-property">css</span> <span class="hljs-keyword">from</span> <span class="hljs-title class_">Css</span> <span class="hljs-title class_">Minimizer</span> plugin<br><span class="hljs-title class_">Error</span>: <span class="hljs-title class_">Unexpected</span> <span class="hljs-string">&#x27;/&#x27;</span>. <span class="hljs-title class_">Escaping</span> special characters <span class="hljs-keyword">with</span> \ may help.<br>    at <span class="hljs-attr">D</span>:\develop\phpstudy_pro\<span class="hljs-variable constant_">WWW</span>\webpackstudyagain\css\index.<span class="hljs-property">css</span>:<span class="hljs-number">28</span>:<span class="hljs-number">1</span><br>    at <span class="hljs-title class_">Root</span>.<span class="hljs-property">_error</span> (<span class="hljs-attr">D</span>:\develop\phpstudy_pro\<span class="hljs-variable constant_">WWW</span>\webpackstudyagain\node_modules\postcs<br></code></pre></td></tr></table></figure><h4 id="打包和运行进度条功能"><a href="#打包和运行进度条功能" class="headerlink" title="打包和运行进度条功能"></a>打包和运行进度条功能</h4><p><strong>1.安装</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">npm install webpackbar -D<br></code></pre></td></tr></table></figure><p><strong>2.引入插件</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">WebpackBar</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;webpackbar&#x27;</span>);<br></code></pre></td></tr></table></figure><p><strong>3.配置添加到webpack配置文件</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>    <span class="hljs-comment">//插件的配置项</span><br>    <span class="hljs-attr">plugins</span>: [<br>        <span class="hljs-comment">//webpack打包和运行的时候进度条</span><br>       <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebpackBar</span>(),<br>    ]<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>4.然后就有效果了</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205291208211.png" alt="进度条效果"></p><h3 id="webpack当中use的几种形式"><a href="#webpack当中use的几种形式" class="headerlink" title="webpack当中use的几种形式"></a>webpack当中use的几种形式</h3><ol><li><p>use为一个数组</p><ul><li><p>里面可以为一个个的字符串,比如 <code>use:[&quot;style-loader&quot;,&quot;css-loader&quot;]</code></p></li><li><p>也可以对象掺杂着字符串,比如 <code>use:[&#123;...&#125;,&quot;css-loader&quot;]</code></p></li><li><p>也可以全部为对象,比如<code>use:[&#123;...&#125;,&#123;...&#125;,&#123;...&#125;]</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br><span class="hljs-attr">module</span>:&#123;<br><span class="hljs-attr">rules</span>:[<br>    <span class="hljs-comment">//分割下 use全部为对象 </span><br>    &#123;<br><span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.less$/</span>,<br><span class="hljs-attr">use</span>: [&#123;<br><span class="hljs-attr">loader</span>: <span class="hljs-string">&quot;style-loader&quot;</span><br>&#125;, &#123;<br><span class="hljs-attr">loader</span>: <span class="hljs-string">&quot;css-loader&quot;</span><br>&#125;, &#123;<br><span class="hljs-attr">loader</span>: <span class="hljs-string">&quot;less-loader&quot;</span><br>&#125;]<br>&#125;,    <br>]<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul></li><li><p>use为一个对象,代表使用这一个loader</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">module</span>: &#123;<br>  <span class="hljs-attr">rules</span>: [<br><span class="hljs-comment">//use为一个对象的情况</span><br>    &#123;<br>      <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.m?js$/</span>,<br>      <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span>,<br>      <span class="hljs-attr">use</span>: &#123;<br>        <span class="hljs-attr">loader</span>: <span class="hljs-string">&#x27;babel-loader&#x27;</span>,<br>        <span class="hljs-attr">options</span>: &#123;<br>          <span class="hljs-attr">presets</span>: [<br>            [<span class="hljs-string">&#x27;@babel/preset-env&#x27;</span>, &#123; <span class="hljs-attr">targets</span>: <span class="hljs-string">&quot;defaults&quot;</span> &#125;]<br>          ]<br>        &#125;<br>      &#125;<br>    &#125;,<br>    <span class="hljs-comment">//其他loader</span><br>  ]<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h3 id="webpack配置对象当中的resolve"><a href="#webpack配置对象当中的resolve" class="headerlink" title="webpack配置对象当中的resolve"></a>webpack配置对象当中的resolve</h3><h4 id="resolve-extensions"><a href="#resolve-extensions" class="headerlink" title="resolve.extensions"></a>resolve.extensions</h4><ul><li><p>使用 import 引入其他模块时，如果不加上后缀扩展名（extension）且找不到对应的文件时，webpack 就会尝试根据 extensions 数组，依次加上扩展名看看能不能匹配到一个文件，直到找到为止。如果找不到则会报错。</p></li><li><p>默认值为: <code>[&#39;.js&#39;,&#39;.json&#39;,&#39;wasm&#39;]</code></p></li><li><p><strong>功能就是</strong>,不加后缀名的情况下,依次匹配,直到匹配所有的还匹配不到就报错</p></li><li><p>所以你经常可以看到一些人导入模块不添加后缀名,直接 import xxx from “.&#x2F;abc&#x2F;a”,就是resolve.extensions起到的作用!</p></li></ul><p>如图,当导入模块<code>import * as all from &quot;./food&quot;</code>的时候,发现模块不存在,会依次去寻找,然后后缀都匹配完了还是找不到就报错</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206020915469.png"></p><h3 id="推荐几款好用的npm"><a href="#推荐几款好用的npm" class="headerlink" title="推荐几款好用的npm"></a>推荐几款好用的npm</h3><h4 id="rimraf-—-快速删除node-modules文件夹"><a href="#rimraf-—-快速删除node-modules文件夹" class="headerlink" title="rimraf  —- 快速删除node_modules文件夹"></a>rimraf  —- 快速删除node_modules文件夹</h4><p><a href="https://www.npmjs.com/package/rimraf">官网地址</a></p><p><strong>1.安装</strong></p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">npm <span class="hljs-keyword">install</span> rimraf -g<br></code></pre></td></tr></table></figure><p><strong>2.使用</strong></p><p>在所属文件夹下使用cmd指令下，进入所需删除的node_modules文件夹的位置，再输入指令</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">rimraf node_modules</span><br></code></pre></td></tr></table></figure><h4 id="clena-webpack-plugin-—-每次打包删除dist目录"><a href="#clena-webpack-plugin-—-每次打包删除dist目录" class="headerlink" title="clena-webpack-plugin — 每次打包删除dist目录"></a>clena-webpack-plugin — 每次打包删除dist目录</h4><p><a href="https://www.npmjs.com/package/clean-webpack-plugin">官网地址</a></p><p><strong>1.安装</strong></p><figure class="highlight q"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs q">npm install --<span class="hljs-built_in">save</span>-<span class="hljs-built_in">dev</span> clean-webpack-plugin<br></code></pre></td></tr></table></figure><p><strong>2.使用</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> &#123; <span class="hljs-title class_">CleanWebpackPlugin</span> &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;clean-webpack-plugin&#x27;</span>);<br><br><span class="hljs-keyword">const</span> webpackConfig = &#123;<br>    <span class="hljs-attr">plugins</span>: [<br>        <span class="hljs-comment">/**</span><br><span class="hljs-comment">         * All files inside webpack&#x27;s output.path directory will be removed once, but the</span><br><span class="hljs-comment">         * directory itself will not be. If using webpack 4+&#x27;s default configuration,</span><br><span class="hljs-comment">         * everything under &lt;PROJECT_DIR&gt;/dist/ will be removed.</span><br><span class="hljs-comment">         * Use cleanOnceBeforeBuildPatterns to override this behavior.</span><br><span class="hljs-comment">         *</span><br><span class="hljs-comment">         * During rebuilds, all webpack assets that are not used anymore</span><br><span class="hljs-comment">         * will be removed automatically.</span><br><span class="hljs-comment">         *</span><br><span class="hljs-comment">         * See `Options and Defaults` for information</span><br><span class="hljs-comment">         */</span><br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">CleanWebpackPlugin</span>(),<br>    ],<br>&#125;;<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = webpackConfig;<br></code></pre></td></tr></table></figure><h3 id="webpack箭头函数导致第一行xx位置报错"><a href="#webpack箭头函数导致第一行xx位置报错" class="headerlink" title="webpack箭头函数导致第一行xx位置报错"></a>webpack箭头函数导致第一行xx位置报错</h3><ul><li>解决 : 添加 environment:{ arrowFunction:false }</li></ul><p>示例:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>    <span class="hljs-attr">mode</span>: <span class="hljs-string">&quot;production&quot;</span>,<br>    <span class="hljs-attr">entry</span>: <span class="hljs-string">&quot;./src/app.ts&quot;</span>,<br>    <span class="hljs-attr">output</span>: &#123;<br>        <span class="hljs-attr">path</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;dist&quot;</span>),<br>        <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;js/index.js&quot;</span>, <span class="hljs-comment">//文件名</span><br>        <span class="hljs-attr">environment</span>: &#123;<br>            <span class="hljs-comment">//不使用箭头函数</span><br>            <span class="hljs-attr">arrowFunction</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-comment">//不使用const</span><br>            <span class="hljs-attr">const</span>: <span class="hljs-literal">false</span><br>        &#125;<br>    &#125;,<br><br>&#125;<br></code></pre></td></tr></table></figure><p>设置前编译</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206060858255.png" alt="设置前"></p><p>设置后编译</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202206060858716.png" alt="设置后"></p><h2 id="loader和plugin作用和区别"><a href="#loader和plugin作用和区别" class="headerlink" title="loader和plugin作用和区别"></a>loader和plugin作用和区别</h2><ul><li><code>loader</code>: 是文件加载器,可以加载资源文件,并对这些文件进行一些处理,比如:编译,压缩等,</li><li><code>plugin</code>:webpack在运行的生命周期会广播出许多事件,plugin可以监听这些事件,在合适的时机中通过webpack提供的api改变输出结果</li></ul><p><strong>区别:</strong></p><ul><li>loader是将A文件进行编译形成B文件,这里操作的是文件,A.less &#x3D;&gt; A.css</li><li>plugin是用于在webpack打包编译过程里，在对应的事件节点里执行自定义操作，比如资源管理、bundle文件优化等操作</li></ul>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
      <category>webpack</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>javscript</tag>
      
      <tag>ES6</tag>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>使用nodejs导出md/Markdown文档当中的图片到本地并替换原始图片链接为本地图片链接</title>
    <link href="/2022/05/28/%E5%B7%A5%E5%85%B7/%E4%BD%BF%E7%94%A8nodejs%E5%AF%BC%E5%87%BAmd%E6%88%96Markdown%E6%96%87%E6%A1%A3%E5%BD%93%E4%B8%AD%E5%9B%BE%E7%89%87%E5%88%B0%E6%9C%AC%E5%9C%B0%E5%B9%B6%E6%9B%BF%E6%8D%A2%E5%8E%9F%E5%A7%8B%E6%96%87%E6%9C%AC/"/>
    <url>/2022/05/28/%E5%B7%A5%E5%85%B7/%E4%BD%BF%E7%94%A8nodejs%E5%AF%BC%E5%87%BAmd%E6%88%96Markdown%E6%96%87%E6%A1%A3%E5%BD%93%E4%B8%AD%E5%9B%BE%E7%89%87%E5%88%B0%E6%9C%AC%E5%9C%B0%E5%B9%B6%E6%9B%BF%E6%8D%A2%E5%8E%9F%E5%A7%8B%E6%96%87%E6%9C%AC/</url>
    
    <content type="html"><![CDATA[<h2 id="有需求才有动力"><a href="#有需求才有动力" class="headerlink" title="有需求才有动力~"></a>有需求才有动力~</h2><p>有时候经常需要将md文件当中的图片离线保存下来,指不定那一天图床挂了,图片找不到了!但是typora没有一键保存到本地图片功能!,必须要一个个右键保存才可以!!!!太坑爹!!!</p><h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><ul><li><a href="https://github.com/superBiuBiuMan/MarkdownPictureDownLoadAndReplace">github下载</a> </li><li><a href="https://gitee.com/superBiuBiu/MarkdownPictureDownLoadAndReplace">gitee下载</a></li></ul><h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs excel">读取指定目录下的所有文件 =&gt; 获取md文件并将路径保存到数组A =&gt; 遍历每一个md文件,使用正则判断是否有图片链接<br><br>=&gt; 当前md的文件下所有图片链接保存到数组B当中的某一项当中(使用push),重复此操作<br><br>=&gt; 弹出一个数组A的值(也就是md文件的路径) =&gt; 弹出一个数组B(也就是当前md所对应的图片链接)<br><br>=&gt; 对数组B进行遍历访问并保存图片到本地 =&gt; 替换内容 =&gt; 遍历完成后写入新内容<br></code></pre></td></tr></table></figure><h3 id="具体看源代码吧-我把注释写的挺详细的"><a href="#具体看源代码吧-我把注释写的挺详细的" class="headerlink" title="具体看源代码吧,我把注释写的挺详细的"></a>具体看源代码吧,我把注释写的挺详细的</h3><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><ul><li><strong>nodejs环境</strong><ul><li>直接下载源码,记得<strong>先安装下依赖</strong>!然后 <code>node ./index.js</code>输入安装提示输入文件地址即可(<strong>注意要是文件夹!!!</strong>)</li></ul></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205281002006.png" alt="使用"></p><ul><li><strong>window环境</strong> 尝试了下打包,感觉打包的文件好大,打包过程<ul><li>全局安装下 <code>npm install pkg -g</code> <a href="https://github.com/vercel/pkg">pkg地址</a></li></ul></li></ul><p>使用也很简单,双击运行输入<strong>文件夹路径</strong>即可,<strong>文件夹路径</strong>,<strong>文件夹路径!</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205281048150.png" alt="exe运行"></p><h3 id="我打包nodejs的一些配置"><a href="#我打包nodejs的一些配置" class="headerlink" title="我打包nodejs的一些配置"></a>我打包nodejs的一些配置</h3><ul><li>配置了下文件(具体的可以看官网,我这里直接copy了别人的)</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205280935788.png"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-string">&quot;scripts&quot;</span>: &#123;<br>  <span class="hljs-string">&quot;test&quot;</span>: <span class="hljs-string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><br>&#125;,<br><span class="hljs-string">&quot;pkg&quot;</span>: &#123;<br>  <span class="hljs-string">&quot;scripts&quot;</span>: <span class="hljs-string">&quot;build/**/*.js&quot;</span>,<br>  <span class="hljs-string">&quot;assets&quot;</span>: <span class="hljs-string">&quot;views/**/*&quot;</span>,<br>  <span class="hljs-string">&quot;targets&quot;</span>: <span class="hljs-string">&quot;node16&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure><ul><li>然后运行<code>npm pkg</code> ,然后会下载三个包<ul><li><code>index-linux</code> <code>index-macos</code> <code>index-win</code></li></ul></li><li>然后生成三个平台的运行文件(可以有配置生成哪一个平台文件,具体看官网就可以~我这里就不研究了)</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205280937735.png" alt="npm pck生成的文件"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205280939511.png" alt="打包时候安装的文件"></p><h2 id="注意下"><a href="#注意下" class="headerlink" title="注意下"></a>注意下</h2><ul><li><p>由于担心访问过快导致被屏蔽,这里设置了300毫秒的等待,每访问一次图片网站就等待300毫秒,当然,你可以自己更改下~</p></li><li><p>修改 <code>utils\index.js</code></p></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205281001741.png" alt="修改延迟"></p><h2 id="使用效果"><a href="#使用效果" class="headerlink" title="使用效果"></a>使用效果</h2><ul><li>使用后md当中的图片链接就被替换了</li><li>测试了下 有链接的,有img标签的<code>移动端md</code></li></ul><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs excel">//普通的<br>![](htt<span class="hljs-symbol">ps:</span>//<span class="hljs-symbol">s1</span>.ax1x.com/<span class="hljs-number">2020</span>/<span class="hljs-number">06</span>/<span class="hljs-number">27</span>/NyZQbQ.png)<br>=&gt;替换为了<br>![](移动端.assets/NyZQbQ.png)<br><br>&lt;img src=<span class="hljs-string">&quot;https://s1.ax1x.com/2020/06/27/NyZ1Ej.png&quot;</span> style=<span class="hljs-string">&quot;zoom: 25%;&quot;</span> /&gt;<br>=&gt;替换为了<br>&lt;img src=<span class="hljs-string">&quot;移动端.assets/NyZ1Ej.png&quot;</span> style=<span class="hljs-string">&quot;zoom: 25%;&quot;</span> /&gt;<br><br>都替换正常和显示正常<br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205281005164.png" alt="如图"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205281005668.png" alt="生成了对应存储图片的文件夹"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205281005685.png" alt="使用截图"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205281022103.png" alt="使用"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205281026056.png" alt="故意失败测试~防止失败就中断"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205281048486.png" alt="使用"></p>]]></content>
    
    
    <categories>
      
      <category>工具</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NodeJs</tag>
      
      <tag>工具</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>小红书2020校招前端笔试题卷一</title>
    <link href="/2022/05/27/%E5%88%B7%E9%A2%98/%E7%AC%94%E8%AF%95%E8%AF%95%E5%8D%B7/%E5%B0%8F%E7%BA%A2%E4%B9%A62020%E6%A0%A1%E6%8B%9B%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AF%95%E9%A2%98%E5%8D%B7%E4%B8%80/"/>
    <url>/2022/05/27/%E5%88%B7%E9%A2%98/%E7%AC%94%E8%AF%95%E8%AF%95%E5%8D%B7/%E5%B0%8F%E7%BA%A2%E4%B9%A62020%E6%A0%A1%E6%8B%9B%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AF%95%E9%A2%98%E5%8D%B7%E4%B8%80/</url>
    
    <content type="html"><![CDATA[<h2 id="题目1-下列说法正确的是（）多选"><a href="#题目1-下列说法正确的是（）多选" class="headerlink" title="题目1-下列说法正确的是（）多选"></a>题目1-下列说法正确的是（）多选</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">A</span>: <span class="hljs-title function_">requestAnimationFrame</span>(foo) 确保使浏览器在下一次重绘之前调用 foo 方法<br><br><span class="hljs-attr">B</span>: 在 addEventListener 的处理方法中使用 e.<span class="hljs-title function_">preventDefault</span>() 可以阻止事件冒泡<br><br><span class="hljs-attr">C</span>:  把 &lt;script&gt; 标签的引入放在文档末尾可以确保脚本下载和执行均在文档解析完成后发生<br><br><span class="hljs-attr">D</span>: 多个 &lt;script&gt; 标签使用 defer 属性引入脚本时，可以确保脚本的执行是按照其被引入的顺序的<br><br></code></pre></td></tr></table></figure><ul><li>答案<ul><li>A,C,D</li></ul></li><li>解析<ul><li>更详细的script的<code>defer</code>和<code>async</code><a href="https://blog.csdn.net/m0_52409770/article/details/123462169">可以看这位博主的</a></li></ul></li></ul><h3 id="A选项"><a href="#A选项" class="headerlink" title="A选项:"></a>A选项:</h3><p><strong><code>window.requestAnimationFrame()</code></strong> 告诉浏览器——你希望执行一个动画，并且要求浏览器在下次重绘之前调用指定的回调函数更新动画。该方法需要传入一个回调函数作为参数，该回调函数会在浏览器下一次重绘之前执行</p><h3 id="BCD选项"><a href="#BCD选项" class="headerlink" title="BCD选项:"></a>BCD选项:</h3><ul><li><p>B: 记住,阻止事件默认行为是<code>preventDefault</code> 停止事件冒泡是<code>stopPropagation</code> (记住关键字就好了,阻止和停止这二个关键字)</p></li><li><p>C:  由于js是单线程的,要么css在解析,要么js在解析,所以某一个时刻要么只有js,要么只有css在运行,所以把script放在最后可以等待css解析完成后执行js脚本</p></li><li><p>D: <code>&lt;script defer&gt;&lt;/script&gt;</code> </p><ul><li>具有<code>defer</code>特性的脚本不会阻塞页面,相当于遇到了就丢到后台去执行</li><li>具有<code>defer</code>特征的脚本总是到等到DOM解析完毕,但在 <code>DOMContentLoaded</code> 事件之前执行。</li><li>具有<code>defer</code>特征的脚本保持其引入顺序执行,(有多个<code>defer</code>,则执行顺序按照引入顺序来执行)</li></ul></li></ul><p>假设，我们有两个具有 <code>defer</code> 特性的脚本：<code>long.js</code> 在前，<code>small.js</code> 在后。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script defer src=<span class="hljs-string">&quot;https://javascript.info/article/script-async-defer/long.js&quot;</span>&gt;&lt;/script&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">defer</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://javascript.info/article/script-async-defer/small.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><p>浏览器扫描页面寻找脚本，然后并行下载它们，以提高性能。因此，在上面的示例中，两个脚本是并行下载的。<code>small.js</code> 可能会先下载完成。</p><p>……但是，<code>defer</code> 特性除了告诉浏览器“不要阻塞页面”之外，还可以确保脚本执行的相对顺序。因此，即使 <code>small.js</code> 先加载完成，它也需要等到 <code>long.js</code> 执行结束才会被执行。</p><p>当我们需要先加载 JavaScript 库，然后再加载依赖于它的脚本时，这可能会很有用。</p><p><strong>总结:</strong></p><p>​使用 defer 属性可以让脚本在文档完全呈现之后再执行,延迟脚本总是按照指定它们的顺序执行。<br>​使用 async 属性可以表示当前脚本不必等待其他脚本，也不必阻塞文档呈现。不能保证异步脚本按照它们在页面中出现的顺序执行。</p><h2 id="题目2-请根据下面的示例描述原型链与继承的关系并解释原因："><a href="#题目2-请根据下面的示例描述原型链与继承的关系并解释原因：" class="headerlink" title="题目2-请根据下面的示例描述原型链与继承的关系并解释原因："></a>题目2-请根据下面的示例描述原型链与继承的关系并解释原因：</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> &#123;&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">A</span> &#123;&#125;<br><span class="hljs-keyword">const</span> a = <span class="hljs-keyword">new</span> <span class="hljs-title function_">A</span>()<br><span class="hljs-keyword">const</span> b = <span class="hljs-keyword">new</span> <span class="hljs-title function_">B</span>()<br>a.<span class="hljs-property">__proto__</span> ===<br>b.<span class="hljs-property">__proto__</span> ===<br>B.<span class="hljs-property">__proto</span> ===<br>B.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> ===<br>b.<span class="hljs-property">__proto__</span>.<span class="hljs-property">__proto__</span> ===<br></code></pre></td></tr></table></figure><ul><li><p>答案</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">a.<span class="hljs-property">__proto__</span> === A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span><br>b.<span class="hljs-property">__proto__</span> === B.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span><br>B.<span class="hljs-property">__proto__</span> === A <br>B.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> === A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span><br>b.<span class="hljs-property">__proto__</span>.<span class="hljs-property">__proto__</span> === A.<span class="hljs-property">prorotype</span><br></code></pre></td></tr></table></figure></li></ul><h3 id="解析"><a href="#解析" class="headerlink" title="解析"></a>解析</h3><ul><li><a href="https://www.cnblogs.com/sujinqu/p/11503663.html">这位博主写的很详细</a></li></ul><p>大概意思就是如图</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205250929007.png"></p><h3 id="题目3-ajax-的-readyState-有哪几个状态，含义分别是什么？"><a href="#题目3-ajax-的-readyState-有哪几个状态，含义分别是什么？" class="headerlink" title="题目3-ajax 的 readyState 有哪几个状态，含义分别是什么？"></a>题目3-ajax 的 readyState 有哪几个状态，含义分别是什么？</h3><p><strong>有5个状态,分别是</strong></p><p>0 : 代表open方法还没有被调用</p><p>1:  代表send方法还没有被调用</p><p>2:  还没有收到响应(刚刚发送)</p><p>3: 收到一部分响应(数据流一样慢慢来)</p><p>4: 收到全部数据(数据传输完成)</p><p><strong>补充:</strong></p><p>使用XMLHttpRequest发送ajax请求</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();<br>xhr.<span class="hljs-title function_">open</span>(<span class="hljs-string">&quot;get&quot;</span>,<span class="hljs-string">&quot;http://127.0.0.1:8000&quot;</span>);<br>xhr.<span class="hljs-title function_">send</span>();<br>xhr.<span class="hljs-property">onreadystatechange</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// xhr.readyState === 4 &amp;&amp; xhr.status &gt;=200 &amp;&amp; xhr.stats &lt;300也可以</span><br>    <span class="hljs-keyword">if</span>(xhr.<span class="hljs-property">readyState</span> === <span class="hljs-number">4</span> &amp;&amp; xhr.<span class="hljs-property">status</span> === <span class="hljs-number">200</span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(xhr.<span class="hljs-property">responseText</span>);<br>    &#125;<br>&#125;<br>xhr.<span class="hljs-property">onerror</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error)<br>&#125;;<br><br></code></pre></td></tr></table></figure><h3 id="使用javascript实现每隔三位使用逗号分隔一次"><a href="#使用javascript实现每隔三位使用逗号分隔一次" class="headerlink" title="使用javascript实现每隔三位使用逗号分隔一次"></a>使用javascript实现每隔三位使用逗号分隔一次</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205251459039.png" alt="图1"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205251459039.png" alt="图2"></p><p><strong>代码:参考大佬的</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">paddingNum</span>(<span class="hljs-params">num</span>)&#123;<br><span class="hljs-comment">//记录下是正数还是负数</span><br><span class="hljs-keyword">let</span> flag = num &gt; <span class="hljs-number">0</span> ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>;<br><span class="hljs-comment">//取绝对值并转化为字符串</span><br>num = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(num)+<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-comment">//获取整数部分和小数部分</span><br><span class="hljs-keyword">let</span> [numberLeft,numberRight] = num.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;.&quot;</span>);<br><span class="hljs-comment">//没有小数位就用空字符串填充下</span><br>numberRight = numberRight ? <span class="hljs-string">&quot;.&quot;</span>+numberRight : <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-comment">//暂存数字</span><br><span class="hljs-keyword">let</span> temp = <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">while</span>(numberLeft.<span class="hljs-property">length</span> &gt; <span class="hljs-number">3</span>)&#123;<br><span class="hljs-comment">//每次截取整数部分后3个字符串</span><br>temp =  <span class="hljs-string">&quot;,&quot;</span> + numberLeft.<span class="hljs-title function_">slice</span>(-<span class="hljs-number">3</span>) + temp;<br><span class="hljs-comment">//将整数部分除去最后三个字符串</span><br>numberLeft = numberLeft.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>,numberLeft.<span class="hljs-property">length</span> - <span class="hljs-number">3</span>);<br>&#125;<br><span class="hljs-comment">//循环结束,最后长度小于3,就将剩余的连接上</span><br><span class="hljs-keyword">return</span> flag ? numberLeft+temp+numberRight : <span class="hljs-string">&quot;-&quot;</span>+numberLeft+temp+numberRight;<br>&#125;<br></code></pre></td></tr></table></figure><p>当然,你需要的话也可以用这种方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">paddingNum</span> = num =&gt; (num).<span class="hljs-title function_">toLocaleString</span>(<span class="hljs-string">&#x27;en-US&#x27;</span>)<br><br><span class="hljs-comment">//写复杂点就是</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">paddingNum</span>(<span class="hljs-params">num</span>)&#123;<br>    <span class="hljs-keyword">let</span> temp = num.<span class="hljs-title function_">toLocaleString</span>(<span class="hljs-string">&#x27;en-US&#x27;</span>);<br>    <span class="hljs-keyword">return</span> temp;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="题目3-给定长度为n的整数数组nums-其中n-gt-1-返回输出数组output-，其中output-i-等于nums中除nums-i-之外其余各元素的乘积"><a href="#题目3-给定长度为n的整数数组nums-其中n-gt-1-返回输出数组output-，其中output-i-等于nums中除nums-i-之外其余各元素的乘积" class="headerlink" title="题目3-给定长度为n的整数数组nums,其中n &gt; 1,返回输出数组output ，其中output[i] 等于nums中除nums[i] 之外其余各元素的乘积"></a>题目3-给定长度为n的整数数组nums,其中n &gt; 1,返回输出数组output ，其中output[i] 等于nums中除nums[i] 之外其余各元素的乘积</h2><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205251529755.png" alt="题目3"></p><p><strong>代码:</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">productExceptSelf</span>(<span class="hljs-params">numArray</span>) &#123;<br><span class="hljs-keyword">let</span> tempArray = [];<br>numArray.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item1</span> =&gt;</span> &#123;<br><span class="hljs-keyword">let</span> num = <span class="hljs-number">1</span>;<br>numArray.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item2</span> =&gt;</span> &#123;<br><span class="hljs-keyword">if</span> (item1 != item2) &#123;<br>num = num * item2;<br>&#125;<br>&#125;);<br>tempArray.<span class="hljs-title function_">push</span>(num);<br>&#125;);<br><span class="hljs-keyword">return</span> tempArray;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="题目4-薯队长带着小红薯参加密室逃脱团建游戏，首先遇到了反转游戏，小红薯们根据游戏提示收集了多个单词线索，并将单词按要求加一个空格组-成了句子，最终要求把句子按单词反转解密。-说明：收集的时候单词前后可能会有多个空格，反转后单词不能有多个空格，具体见输入输出样例。"><a href="#题目4-薯队长带着小红薯参加密室逃脱团建游戏，首先遇到了反转游戏，小红薯们根据游戏提示收集了多个单词线索，并将单词按要求加一个空格组-成了句子，最终要求把句子按单词反转解密。-说明：收集的时候单词前后可能会有多个空格，反转后单词不能有多个空格，具体见输入输出样例。" class="headerlink" title="题目4-薯队长带着小红薯参加密室逃脱团建游戏，首先遇到了反转游戏，小红薯们根据游戏提示收集了多个单词线索，并将单词按要求加一个空格组 成了句子，最终要求把句子按单词反转解密。 说明：收集的时候单词前后可能会有多个空格，反转后单词不能有多个空格，具体见输入输出样例。"></a>题目4-薯队长带着小红薯参加密室逃脱团建游戏，首先遇到了反转游戏，小红薯们根据游戏提示收集了多个单词线索，并将单词按要求加一个空格组 成了句子，最终要求把句子按单词反转解密。 说明：收集的时候单词前后可能会有多个空格，反转后单词不能有多个空格，具体见输入输出样例。</h2><h4 id="输入描述"><a href="#输入描述" class="headerlink" title="输入描述:"></a>输入描述:</h4><blockquote><p>输入一个字符串。包含空格和可见字符。长度&lt;&#x3D;100000。 </p></blockquote><h4 id="输出描述"><a href="#输出描述" class="headerlink" title="输出描述:"></a>输出描述:</h4><blockquote><p>输出一个字符串，表示反转后结果。</p></blockquote><h4 id="示例1"><a href="#示例1" class="headerlink" title="示例1"></a>示例1</h4><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">输入<br>thesky<span class="hljs-keyword">is</span>blue!<br><br>输出<br>blue! <span class="hljs-keyword">is</span> sky the<br></code></pre></td></tr></table></figure><p><strong>代码:</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">reverse</span>(<span class="hljs-string">&quot;theskyisblue!&quot;</span>));<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">reverse</span>(<span class="hljs-params">str</span>) &#123;<br><span class="hljs-comment">//匹配任何非空白字符。等价于[^ \f\n\r\t\v]。</span><br><span class="hljs-keyword">var</span> a = str.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/(\S+)/g</span>);<br><span class="hljs-comment">//调用数组的方法</span><br>a = a.<span class="hljs-title function_">reverse</span>();<br><span class="hljs-keyword">return</span> a.<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot; &quot;</span>);<br>&#125;<br>&lt;/script&gt;<br>测试数据<br>jifgykoserhurjkcnhskdncvgkiyhnsjdukzecrunyst   827136547tr8yh74f8o9l3w92qujwhe8iu7ryhf   uincymh9oxw,z.<span class="hljs-property">ej</span>/09l8kyut8w9o,x.9elo58km4yu   ;78p0[<span class="hljs-number">2845</span>)&#123;*()&#123;<span class="hljs-attr">P</span>:T*#Q)<span class="hljs-title function_">I</span>(<span class="hljs-title class_">OPUQjfpii</span>[upOYHUIYG   9430q80965tpyw4[h   <span class="hljs-number">898888888888888888888888888888888888888888</span>   iouy4ewrt8iu7hgfo2UIYTRFYJHMGDSAI   f87e6rwtyugfhkjhki   <span class="hljs-variable constant_">ZHONGGUOGONGCHANDANGWANSUI</span>   <span class="hljs-variable constant_">MAOZHUXIWANSUI</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
      <category>笔试试卷</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>移动端适配vue小练习</title>
    <link href="/2022/05/24/%E5%89%8D%E7%AB%AF/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%80%82%E9%85%8Dvue%E5%B0%8F%E7%BB%83%E4%B9%A0/"/>
    <url>/2022/05/24/%E5%89%8D%E7%AB%AF/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%80%82%E9%85%8Dvue%E5%B0%8F%E7%BB%83%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h2 id="移动端Vue适配小练习"><a href="#移动端Vue适配小练习" class="headerlink" title="移动端Vue适配小练习"></a>移动端Vue适配小练习</h2><ul><li>为了练习,就没有使用自动转换rem的功能,想了解的可以看看这几位博主的<ul><li><a href="https://www.jianshu.com/p/67a29794b98b">博主1</a></li><li><a href="https://blog.csdn.net/weixin_35773751/article/details/120894238">博主2</a></li></ul></li><li>想看源码的可以到github或者gitee上下载(后台也打包好了)<ul><li><a href="https://github.com/superBiuBiuMan/vue_mobile_littel_demo">github地址</a></li><li><a href="https://gitee.com/superBiuBiu/vue_mobile_littel_demo">gitee地址</a></li></ul></li></ul><h3 id="项目遇到的问题记录"><a href="#项目遇到的问题记录" class="headerlink" title="项目遇到的问题记录"></a>项目遇到的问题记录</h3><h4 id="Navigation-aborted-from-“-x2F-center“-to-“-x2F-login“-via-a-navigation-guard"><a href="#Navigation-aborted-from-“-x2F-center“-to-“-x2F-login“-via-a-navigation-guard" class="headerlink" title="Navigation aborted from “&#x2F;center“ to “&#x2F;login“ via a navigation guard"></a>Navigation aborted from “&#x2F;center“ to “&#x2F;login“ via a navigation guard</h4><p><strong>解决方法:</strong></p><p>vue_project\src\router\index.js 路由主入口文件当中添加如下代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><br><span class="hljs-keyword">const</span> originalPush = <span class="hljs-title class_">VueRouter</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">push</span><br><span class="hljs-comment">//解决重复提交相同链接报错</span><br><span class="hljs-title class_">VueRouter</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">push</span> = <span class="hljs-keyword">function</span> <span class="hljs-title function_">push</span>(<span class="hljs-params">location, onResolve, onReject</span>) &#123;<br>    <span class="hljs-keyword">if</span> (onResolve || onReject)<br>        <span class="hljs-keyword">return</span> originalPush.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, location, onResolve, onReject)<br>    <span class="hljs-keyword">return</span> originalPush.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, location).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">VueRouter</span>.<span class="hljs-title function_">isNavigationFailure</span>(err)) &#123;<br>            <span class="hljs-comment">// resolve err</span><br>            <span class="hljs-keyword">return</span> err<br>        &#125;<br>        <span class="hljs-comment">// rethrow error</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(err)<br>    &#125;)<br>&#125;<br><span class="hljs-keyword">const</span> originalReplace = <span class="hljs-title class_">VueRouter</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">replace</span><br><span class="hljs-title class_">VueRouter</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">replace</span> = <span class="hljs-keyword">function</span> <span class="hljs-title function_">replace</span>(<span class="hljs-params">location, onResolve, onReject</span>) &#123;<br>    <span class="hljs-keyword">if</span> (onResolve || onReject)&#123;<br>        <span class="hljs-comment">//回调函数里面会用到this的指向,所以就要使用call</span><br>        <span class="hljs-keyword">return</span> originalReplace.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, location, onResolve, onReject)<br>    &#125;<br>    <span class="hljs-keyword">return</span> originalReplace.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, location).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">VueRouter</span>.<span class="hljs-title function_">isNavigationFailure</span>(err)) &#123;<br>            <span class="hljs-comment">//如果为相同链接引发的错误,返回错误原因,promise状态为resolve</span><br>            <span class="hljs-comment">// resolve err</span><br>            <span class="hljs-keyword">return</span> err<br>        &#125;<br>        <span class="hljs-comment">// rethrow error</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(err)<br>    &#125;)<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="配置代理问题"><a href="#配置代理问题" class="headerlink" title="配置代理问题"></a>配置代理问题</h4><p>由于视频的是react,所以配置代理花了一点时间</p><p>在<code>vue.config.js</code>当中,主要是proxy的配置</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> &#123; defineConfig &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;@vue/cli-service&#x27;</span>)<br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-title function_">defineConfig</span>(&#123;<br>  <span class="hljs-attr">lintOnSave</span>:<span class="hljs-literal">false</span>,<br>  <span class="hljs-attr">transpileDependencies</span>: <span class="hljs-literal">true</span>,<br>  <span class="hljs-attr">devServer</span>:&#123;<br>    <span class="hljs-attr">proxy</span>:&#123;<br>      <span class="hljs-string">&quot;/dev&quot;</span>:&#123;<br>        <span class="hljs-comment">//转发</span><br>        <span class="hljs-attr">target</span>:<span class="hljs-string">&quot;http://localhost:5000&quot;</span>,<br>        <span class="hljs-attr">changeOrigin</span>:<span class="hljs-literal">true</span>,<br>        <span class="hljs-comment">//重写,删除/dev前缀</span><br>        <span class="hljs-attr">pathRewrite</span>:&#123;<br>          <span class="hljs-string">&quot;^/dev&quot;</span>:<span class="hljs-string">&quot;&quot;</span>,<br>        &#125;<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;)<br><br></code></pre></td></tr></table></figure><p>注意:这样子写的话所有api请求都需要戴上&#x2F;dev前缀了,所以一般都是对axios进行二次封装,下面是我的二次封装</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;axios&quot;</span>;<br><span class="hljs-keyword">import</span> nprogress <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;nprogress&quot;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;nprogress/nprogress.css&quot;</span><br><br><span class="hljs-comment">//创建一个axios的实例化对象</span><br><span class="hljs-comment">//传入配置对象</span><br><span class="hljs-keyword">const</span> service = axios.<span class="hljs-title function_">create</span>(&#123;<br>    <span class="hljs-comment">//每一个ajax请求都添加/dev前缀</span><br>    <span class="hljs-comment">//比如http://localhost:8080/dev/login</span><br>    <span class="hljs-comment">//http://localhost:8080/dev/home</span><br>    <span class="hljs-attr">baseURL</span>:<span class="hljs-string">&quot;/dev&quot;</span>,<br>    <span class="hljs-comment">//请求超时时间</span><br>    <span class="hljs-attr">timeout</span>: <span class="hljs-number">2000</span><br>&#125;);<br><span class="hljs-comment">//请求拦截器</span><br>service.<span class="hljs-property">interceptors</span>.<span class="hljs-property">request</span>.<span class="hljs-title function_">use</span>(<span class="hljs-function">(<span class="hljs-params">config</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//进度显示(当然,nprogress是假进度条)</span><br>    nprogress.<span class="hljs-title function_">start</span>();<br>    <span class="hljs-keyword">return</span> config;<br>&#125;)<br><br><span class="hljs-comment">//响应拦截器</span><br>service.<span class="hljs-property">interceptors</span>.<span class="hljs-property">response</span>.<span class="hljs-title function_">use</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> &#123;<br>    nprogress.<span class="hljs-title function_">done</span>();<br>    <span class="hljs-keyword">return</span> response.<span class="hljs-property">data</span> || response;<br>&#125;, <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> &#123;<br>    nprogress.<span class="hljs-title function_">done</span>();<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;未知错误!&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">() =&gt;</span> &#123;&#125;);<br>&#125;)<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> service;<br></code></pre></td></tr></table></figure><h3 id="OAuth认证"><a href="#OAuth认证" class="headerlink" title="OAuth认证"></a>OAuth认证</h3><h4 id="OAuth2-0"><a href="#OAuth2-0" class="headerlink" title="OAuth2.0"></a>OAuth2.0</h4><ul><li>OAuth 2.0 是目前最流行的授权机制，用来授权第三方应用，获取用户数据。</li><li>简单说，OAuth 就是一种授权机制。数据的所有者同意其他应用使用自己存储的用户信息。</li></ul><h4 id="授权流程（以GitHub为例）"><a href="#授权流程（以GitHub为例）" class="headerlink" title="授权流程（以GitHub为例）"></a>授权流程（以GitHub为例）</h4><ul><li><p><a href="https://docs.github.com/cn/developers/apps/building-oauth-apps/creating-an-oauth-app">GitHub官方文档</a></p></li><li><p>开发流程介绍</p><ul><li>从A 网站跳转到 GitHub授权页面。</li><li>GitHub 要求校验用户信息，引导用户登录。</li><li>GitHub 询问”A 网站要求获得你的xx数据，你是否同意？”</li><li>用户同意，GitHub 就会重定向到A网站对应的服务器，同时发回一个授权码。</li><li>A网站服务器使用授权码，向 GitHub 请求令牌。</li><li>GitHub 返回令牌token. A网站服务器使用令牌，向 GitHub 请求用户数据。</li></ul></li><li><p>应用登记</p><ul><li>一个应用要 OAuth 授权，必须先到对方网站登记，让对方知道是谁在请求。</li></ul></li></ul><h4 id="使用GitHub授权"><a href="#使用GitHub授权" class="headerlink" title="使用GitHub授权"></a>使用GitHub授权</h4><h5 id="1-GitHub登记应用"><a href="#1-GitHub登记应用" class="headerlink" title="1.GitHub登记应用"></a>1.GitHub登记应用</h5><p>登记地址：<a href="https://github.com/settings/applications/new">https://github.com/settings/applications/new</a></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205242000531.png" alt="登记"></p><h5 id="2-获得client-id"><a href="#2-获得client-id" class="headerlink" title="2.获得client_id"></a>2.获得client_id</h5><p>查看地址：<a href="https://github.com/settings/developers">https://github.com/settings/developers</a></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205242001147.png" alt="client_id"></p><h5 id="3-获得Client-secrets"><a href="#3-获得Client-secrets" class="headerlink" title="3.获得Client secrets"></a>3.获得Client secrets</h5><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205242001499.png" alt="获得Client secrets"></p><h5 id="4-配置"><a href="#4-配置" class="headerlink" title="4.配置"></a>4.配置</h5><p>4.1 前台项目准备好个人中心组件,供授权成功后查看</p><p>4.2 将得到的 client_id 、clinet_secret配置到服务器config\index.js中，随后重启服务器。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// github oauth</span><br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">CLIENT_ID</span> = <span class="hljs-string">&quot;xxxxxxxxxxxxxxx&quot;</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">CLIENT_SECRET</span> = <span class="hljs-string">&quot;xxxxxxxxxxxxxxx&quot;</span>;<br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205242003636.png" alt="如图,server配置"></p><p>4.3 配置前端请求地址,这里就不写了</p><p>4.4 项目中携带网站标识跳转到授权页</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">loginGithub = <span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span> = <span class="hljs-variable constant_">AUTH_BASE_URL</span>+<span class="hljs-string">&#x27;?client_id=&#x27;</span>+<span class="hljs-variable constant_">CLIENT_ID</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="项目启动"><a href="#项目启动" class="headerlink" title="项目启动"></a>项目启动</h3><h4 id="1-电脑安装好MongoDB后启动"><a href="#1-电脑安装好MongoDB后启动" class="headerlink" title="1.电脑安装好MongoDB后启动"></a>1.电脑安装好MongoDB后启动</h4><h4 id="2-server路径下cmd打开-输入npm-start"><a href="#2-server路径下cmd打开-输入npm-start" class="headerlink" title="2.server路径下cmd打开,输入npm start"></a>2.server路径下cmd打开,输入npm start</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205242006013.png" alt="server启动"></p><h4 id="3-项目启动-项目路径下cmd打开-输入npm-run-serve后浏览器进入"><a href="#3-项目启动-项目路径下cmd打开-输入npm-run-serve后浏览器进入" class="headerlink" title="3.项目启动 ,项目路径下cmd打开,输入npm run serve后浏览器进入~"></a>3.项目启动 ,项目路径下cmd打开,输入npm run serve后浏览器进入~</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205242007443.png"></p><h3 id="项目的展示"><a href="#项目的展示" class="headerlink" title="项目的展示"></a>项目的展示</h3><p><strong>主页登录</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205241945498.png" alt="主页登录"></p><p><strong>获取验证码</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205241945065.png" alt="获取验证码"></p><p><strong>个人中心</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205241946993.png" alt="个人中心"></p><p><strong>github关联</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205241946226.png" alt="github关联"></p><p>关联后</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205241947552.png" alt="关联后"></p>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>javscript</tag>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>移动端前端的适配和rem,vm其他的一些的复习</title>
    <link href="/2022/05/23/%E5%89%8D%E7%AB%AF/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%89%8D%E7%AB%AF%E7%9A%84%E9%80%82%E9%85%8D%E5%92%8Crem,vm%E5%85%B6%E4%BB%96%E7%9A%84%E4%B8%80%E4%BA%9B%E7%9A%84%E5%A4%8D%E4%B9%A0/"/>
    <url>/2022/05/23/%E5%89%8D%E7%AB%AF/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%89%8D%E7%AB%AF%E7%9A%84%E9%80%82%E9%85%8D%E5%92%8Crem,vm%E5%85%B6%E4%BB%96%E7%9A%84%E4%B8%80%E4%BA%9B%E7%9A%84%E5%A4%8D%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h2 id="屏幕分辨率"><a href="#屏幕分辨率" class="headerlink" title="屏幕分辨率"></a>屏幕分辨率</h2><p><strong>注意:</strong></p><p>屏幕分辨率是一个固定的值,屏幕生产出来就确定了,无法修改!</p><p>我们在电脑所设置的,都是<strong>显示分辨率</strong>! 显示分辨率和屏幕分辨率是二个概念!</p><h3 id="屏幕密度"><a href="#屏幕密度" class="headerlink" title="屏幕密度"></a>屏幕密度</h3><p>每英寸里包含的物理像素点的个数,单位是PPI(pixels per inch),还有另外一个是dpi(dots per inch) ,dpi是衡量打印机的,ppi是衡量屏幕的</p><p>计算公式:</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205221920760.png" alt="计算公式"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205221921231.png" alt="就是一个勾股定理"></p><h3 id="像素相关"><a href="#像素相关" class="headerlink" title="像素相关"></a>像素相关</h3><ul><li><p>物理像素</p><ul><li>又称：设备像素，物理像素是一个长度单位，单位是px，1个物理像素就是屏幕上的一个物理成像点，就是屏幕中一个微小的发光物理元器件（可简单理解为超级微小的灯泡），是屏幕能显示的最小粒度。<span style="color:red">它由屏幕制造商决定，屏幕生产后无法修改。</span>例如 iPhone 6 的横向上拥有的物理像素为750、纵向上拥有的物理像素为1334 ，我们也可以用：750* 1334表示。</li></ul></li><li><p>css像素</p><ul><li>又称： 逻辑像素，css像素是一个抽象的长度单位，单位也是px，它是为 Web 开发者创造的，用来精确的度量Web 页面上的内容大小。我们在编写css、js、less中所使用的都是css像素（可以理解为：“程序员像素”）；</li><li>思考：我代码中所写的1px（css像素），到了屏幕上到底对应几个物理像素呢？是1个css像素就对应1个物理像素(“发光的灯泡”)吗？要探讨这个对应关系，就要学习接下来的新概念：设备独立像素。</li></ul></li><li><p>设备独立像素</p><ul><li>程序员写了：width &#x3D; 2px，height &#x3D; 2px 的盒子，若1个css像素直接对应1个物理像素，由于iPhone3G&#x2F;S 与iPhone4屏幕尺寸相同，但iPhone4的屏幕能容纳下更多的物理像素点，所以iPhone4的物理像素点比iPhone3G&#x2F;S小很多，那么理论上这个盒子在iPhone4屏幕上也就会比iPhone3G&#x2F;S屏幕上小很多，而事实是iPhone3G&#x2F;S 和 iPhone4下这个盒子是一样大的！！！，只不过 iPhone4更加细腻、清晰。如何做到的呢？这就要靠设备独立像素。</li><li><span style="color:#ee0b41">设备独立像素的出现，使得即使在【<strong>高清屏</strong>】下，（例如苹果的Retina屏），也可以让元素有正常的尺寸，让代码不受到设备的影响，它是设备厂商根据屏幕特性设置的，无法更改。</span></li></ul></li></ul><p><strong>设备独立像素与物理像素的关系</strong></p><ul><li>普通屏幕下1个设备独立像素对应1个物理像素(1:1关系)</li><li>高清屏幕下1个设备独立像素对应N个物理像素(1:n关系)</li></ul><p><strong>设备独立像素与css像素关系</strong></p><ul><li><p>在无缩放的情况下(标准情况): <strong>1css像素 &#x3D; 1设备独立像素</strong> </p><ul><li>在dpr为2的开启下,设置css像素为<code>width:100px;height:100px</code>.那么对应的设备独立像素就是<code>width:100px;height;100px</code>,对应的物理像素就是<code>width:200px;height:200px</code></li></ul></li><li><p>css像素和设备独立像素永远是1:1的关闭(而css像素和物理像素-也就是我们常说的分辨率,就是1:n的关系了,n为像素比dpr)</p></li><li><p>可以简单理解为css像素不可以直接显示在屏幕下方,而是会通过dpr转换后进行显示,转换过程中的中间量就是设备独立像素</p></li></ul><p><strong>像素比</strong></p><p>像素比(dpr):单一方向上设备的<strong>物理像素</strong>和设备独立像素的比例</p><p>即dpr &#x3D; 物理像素 &#x2F; 设备独立像素</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript">js获取当前屏幕像素比<br><span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRadio</span><br></code></pre></td></tr></table></figure><p>几款手机的屏幕像素参数，<a href="https://uiiiuiii.com/screen/">点击这里查看更多</a></p><table><thead><tr><th align="center">型号</th><th align="center">分辨率（物理像素点总和）</th><th align="center">设备独立像素(dip或dp)</th><th align="center">像素比(dpr)</th></tr></thead><tbody><tr><td align="center">IPhone 3GS</td><td align="center">320 * 480</td><td align="center">320 * 480</td><td align="center">1</td></tr><tr><td align="center">IPhone 4 &#x2F; 4s</td><td align="center">640 * 960</td><td align="center">320 * 480</td><td align="center">2</td></tr><tr><td align="center">IPhone 5 &#x2F; 5s</td><td align="center">640 * 1136</td><td align="center">320 * 568</td><td align="center">2</td></tr><tr><td align="center"><span style='color:red'><strong>IPhone 6 &#x2F; 7 &#x2F; 8</strong></span></td><td align="center"><strong><span style='color:red'>750 * 1334</span></strong></td><td align="center"><strong><span style='color:red'>375 * 667</span></strong></td><td align="center">2</td></tr><tr><td align="center">IPhone 6p &#x2F; 7p &#x2F; 8p</td><td align="center">1242 x 2208</td><td align="center">414 * 736</td><td align="center">3</td></tr><tr><td align="center">IPhone X</td><td align="center">1125 * 2436</td><td align="center">375 * 812</td><td align="center">3</td></tr><tr><td align="center">HUAWEI P10</td><td align="center">1080 x 1920</td><td align="center">360 x 640</td><td align="center">3</td></tr></tbody></table><h3 id="图形的高清显示"><a href="#图形的高清显示" class="headerlink" title="图形的高清显示"></a>图形的高清显示</h3><p>概念:</p><p>由于css像素和像素比(dpr)的存在,可能会导致图片在不同(像素比)下显示模糊之类的</p><ul><li>比如说一个<strong>图片设置css像素为200px * 200px</strong>那么在<strong>dpr为1</strong>的情况下<strong>占据屏幕分辨率为200px * 200px</strong>(物理像素) <ul><li>刚刚好一个css像素对应一个屏幕的分辨率</li></ul></li><li>如果在<strong>dpr为2</strong>的情况下,占据的屏幕分辨率就是400px * 400px(物理像素)<ul><li>就会导致一个css像素占据了二个物理像素,所以屏幕要怎么处理?肯定是平均下这一个css像素的颜色,使其分散在2个格子上面,不然另外一个格子没有内容啊(没有填充内容肯定不行啊!所以肯定要平均下!)所以这就导致了图片的模糊</li></ul></li><li>解决办法很简单,就是将图片的像素提示,<strong>dpr为2的使用2x图,dpr为3的使用3x图等等</strong></li></ul><p>结合<code>-webkit-min-device-pixel-ratio</code>和<code>media</code>媒体查询来使用替换图片<strong>多用于品牌LOGO</strong></p><p>示例:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;<br>    &lt;title&gt;Document&lt;/title&gt;<br>    &lt;style&gt;<br>        #one &#123;<br>            width: 200px;<br>            height: 200px;<br>        &#125;<br><br>        /* 媒体查询 */<br>        @media screen and (-webkit-min-device-pixel-ratio:2) &#123;<br><br>            /* dpr最小值为2,也就是&gt;=2的时候,使用2x图 */<br>            #one &#123;<br>                content: url(&quot;img/logo@2x.png&quot;)<br>            &#125;<br>        &#125;<br><br>        @media screen and (-webkit-min-device-pixel-ratio:3) &#123;<br>            #one &#123;<br>                content: url(&quot;img/logo@3x.png&quot;)<br>            &#125;<br>        &#125;<br>    &lt;/style&gt;<br>&lt;/head&gt;<br><br>&lt;body&gt;<br>    &lt;img id=&quot;one&quot; src=&quot;./img/logo.png&quot; alt=&quot;&quot;&gt;<br>&lt;/body&gt;<br><br>&lt;/html&gt;<br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205222116547.png" alt="随着dpr的改变,图片也会被替换,可以明显感觉到图片越来越清晰"></p><h3 id="视口相关"><a href="#视口相关" class="headerlink" title="视口相关"></a>视口相关</h3><h4 id="pc端视口"><a href="#pc端视口" class="headerlink" title="pc端视口"></a>pc端视口</h4><p>   在pc端，视口的默认宽度和浏览器窗口的宽度一致。在 css 标准文档中，pc端视口也被称为：初始包含块，它是所有 css 百分比宽度推算的根源，在pc端可通过如下几种方式获取宽度：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;最干净的显示区域&#x27;</span>,<span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">clientWidth</span>);<span class="hljs-comment">//常用</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;最干净的显示区域+滚动条&#x27;</span>,<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;最干净的显示区域+滚动条+浏览器边框&#x27;</span>,<span class="hljs-variable language_">window</span>.<span class="hljs-property">outerWidth</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;与浏览器无关，当前设备显示分辨率横向的值&#x27;</span>,screen.<span class="hljs-property">width</span>);<br></code></pre></td></tr></table></figure><h4 id="移动端视口"><a href="#移动端视口" class="headerlink" title="移动端视口"></a>移动端视口</h4><p>​在移动端,浏览器厂商面临着一个比较大的问题,他们如何将数以万计甚至可以说是数以亿计的pc端网页完整的呈现在移动端设备上，并且不会出现横向滚动条呢？那就要引出移动端的三个概念：<strong>1.布局视口、2.视觉视口、3. 理想视口</strong></p><h5 id="1-布局视口"><a href="#1-布局视口" class="headerlink" title="1.布局视口"></a>1.布局视口</h5><p>​早期的时候我们这样做：pc端网页宽度一般都为：960px ~ 1024px 这个范围，就算超出了该范围，960px ~ 1024px这个区域也依然是版心的位置，浏览器厂商针对移动端设备设计了一个容器，先用这个容器去承装pc端的网页，这容器的宽度一般是**<span style='color:red'>980px</span><strong>，不同的设备可能有所差异，但相差并不大；随后将这个容器</strong>等比例压缩**到与手机等宽，这样就可以保证没有滚动条且能完整呈现页面，但是这样做依然有问题：网页内容被压缩的太小，严重影响用户体验。</p><p>移动端获取布局视口方式：<code>document.documentElement.clientWidth </code> (一般布局视口为980px)</p><ul><li>说简单就是早期我们手机显示pc端的网页是将pc端的网页等比压缩成为手机端的980px,然后将这个980px渲染到手机端<ul><li>实际上是对网页进行了整体的缩小</li><li>例如200宽的盒子占据了980份的200份200&#x2F;980</li><li><strong>若缩小后文字的小于12px,线条小于1px,将被分别显示为12px和1px</strong></li></ul></li></ul><p><strong>见下图，在物理分辨率是750px上面显示pc端的内容,会将内容等比压缩</strong></p><ul><li>图片中<strong>98px* 98px</strong>的绿色方框实际显示为75px*75px</li><li>13px和12px的文字显示为12px,16px文字进行了相应的缩小;1px的线条还是显示为1px</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205222226047.png" alt="图"></p><ul><li>所以为什么我们在不设置meta的参数的情况下想要将容器占满手机端,我们就需要设置width为980px才可以占满</li></ul><p>所以为了让所有的网站显示正常,各移动浏览器厂商统一将设备默认<strong>布局视口</strong>设置为 980px。</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205222131784.png"></p><p>比如在宽 375px 的 iphone6 上显示一个宽为 980px 的页面，大多数浏览器为了让页面显示全而缩小页面。</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205222132605.png"></p><p>我们可以使用<code>meta viewport</code>让浏览器<strong>布局视区</strong>等于屏幕宽度也就是375px，这样显示出来就是理想效果。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;meta name=<span class="hljs-string">&quot;viewport&quot;</span> content=<span class="hljs-string">&quot;width=device-width&quot;</span>/&gt;<br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205222132427.png"></p><h5 id="2-视觉视口"><a href="#2-视觉视口" class="headerlink" title="2.视觉视口"></a>2.视觉视口</h5><p>​<strong>视觉视口就是用户可见的区域</strong>，它的绝对宽度永远和设备屏幕一样宽，但是这个宽度里所包含的css像素值是变化的，例如：一般手机会将980个css像素放入视觉视口中，而ipad Pro会将1024个css像素放入视觉视口中。</p><p>​移动端获取视觉视口方式：<code>window.innerWidth</code>，不过在Android2、Opera mini 、UC8 中无法正确获取。（一般不通过代码看视觉视口）</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205230821772.png"></p><h5 id="理想视口标准"><a href="#理想视口标准" class="headerlink" title="理想视口标准"></a>理想视口标准</h5><p>与<strong>屏幕（设备独立像素）等宽的布局视口</strong>，称之为理想视口，所以也可以说理想视口是一种标准：让布局视口宽度 与 屏幕等宽（设备独立像素），靠<code>meta标签</code>实现。</p><p>理想视口的特点：</p><blockquote><ul><li>布局视口和屏幕等宽，以iPhone6为例，符合理想视口标准之后：设备独立像素：375px，<strong>布局视口宽度：375px。</strong></li><li>用户不需要缩放、滚动就能看到网站的全部内容。</li><li>要为移动端设备单独设计一个移动端网站。</li></ul></blockquote><p>设置理想视口的具体方法：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width&quot;</span>/&gt;</span><br>也可以<br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width,initial-scale=1.0&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>总结</strong></p><p>不写<code>meta</code>标签（不符合理想视口标准）：</p><blockquote><ol><li>描述屏幕：物理像素：750px 、设备独立像素：375px、css像素：980px。</li><li>优点：元素在不同设备上，呈现效果几乎一样，因都是通过布局容器等比缩放的，例如200宽的盒子：200&#x2F;980(占据了980份的200份)</li><li>缺点：元素太小，页面文字不清楚，用户体验不好。</li></ol></blockquote><p>写<code>meta</code>标签（符合理想视口标准）：</p><blockquote><ol><li><p>描述屏幕：物理像素：750px 、设备独立像素：375px、<span style='color:red'>css像素：375px</span>。</p></li><li><p>优点：</p><ol><li><p>页面清晰展现，内容不再小到难以观察，用户体验较好。</p></li><li><p>更清晰的像素关系：布局视口 &#x3D; 视觉视口 &#x3D; 设备独立像素 &#x3D; 375px。</p></li><li><p>更清晰的dpr，即dpr &#x3D; 物理像素&#x2F;设备独立像素  &#x3D;  物理像素&#x2F;css像素。</p><p>例如：dpr&#x3D;2的设备，1 * 1 css像素  &#x3D;  1 * 1 设备独立像素 &#x3D; 2 * 2 物理像素</p></li></ol></li><li><p>缺点：同一个元素，在不同屏幕（设备）上，呈现效果不一样，例如375宽的盒子： 375&#x2F;375 和 375&#x2F;414 (不是等比显示)</p></li><li><p>解决缺点：做适配。</p></li></ol></blockquote><h4 id="布局视口-视觉视口-理想视口总结和区别"><a href="#布局视口-视觉视口-理想视口总结和区别" class="headerlink" title="布局视口,视觉视口,理想视口总结和区别"></a>布局视口,视觉视口,理想视口总结和区别</h4><ul><li>布局视口<ul><li>将一个网页按照比例压缩为980px,用户可以看到这个网页的全部</li></ul></li><li>视觉视口<ul><li>对网页不进行压缩,用户可以看到网页的部分内容,但是可以滚动条来滑动</li></ul></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207171115456.png"></p><ul><li>理想视口<ul><li>布局视口 &#x3D; 视觉视口,当前用的最多的</li></ul></li></ul><h3 id="缩放和放大"><a href="#缩放和放大" class="headerlink" title="缩放和放大"></a>缩放和放大</h3><h4 id="PC端的"><a href="#PC端的" class="headerlink" title="PC端的"></a>PC端的</h4><p>放大的时候</p><ul><li>视口变小(可以理解为在聚焦,所以视口变小了)</li><li>元素的css像素值不变,但是一个css像素所占面积变大了</li></ul><p>缩小的时候</p><ul><li>视口变大</li><li>元素的css像素值不变,但一个css像素值所占的面积变小了</li></ul><h4 id="移动端"><a href="#移动端" class="headerlink" title="移动端"></a>移动端</h4><p>放大的时候</p><ul><li>布局视口不变</li><li>视觉视口变小(视觉视口就是用户可见的区域)</li></ul><p>缩小的时候</p><ul><li>布局视口不变</li><li>视觉视口变大(视觉视口就是用户可见的区域)</li></ul><p><span style="color:#ee0b41">注意：移动端缩放不会影响页面布局，因为缩放的时候，布局视口视口没有变化，简记：移动端的缩放没有改变布局视口的任何东西！</span></p><p>说简单点就是因为移动端并不改变布局视口,而pc端会改变布局视口</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">移动端或者布局视口和获取pc端视口<br><span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">clientWidth</span><br><br>移动端获取视觉视口<br><span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span><br></code></pre></td></tr></table></figure><h4 id="总结缩放放大"><a href="#总结缩放放大" class="headerlink" title="总结缩放放大"></a>总结缩放放大</h4><p><strong>pc端页面的缩放和放大视口的变化情况</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205231558268.gif" alt="pc端页面的缩放和放大视口的变化情况"></p><p>手机端的不好录,具体你们可以自己体验下~</p><h3 id="viewport"><a href="#viewport" class="headerlink" title="viewport"></a>viewport</h3><p>meta-viewport 标签是苹果公司在 2007 年引进的，用于移动端布局视口的控制。</p><p>使用示例：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width,initial-scale=1.0&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><p>viewport 相关选项</p><ol><li>width  布局视口的宽度</li><li>initial-scale  【系统】初始缩放比例</li><li>maximum-scale 允许【用户】缩放的最大比例</li><li>minimum-scale  允许【用户】缩放的最小比例</li><li>user-scalable  是否允许用户缩放</li><li>viewport-fit 设置为cover值可以解决刘海屏的留白问题</li></ol><h4 id="1-width"><a href="#1-width" class="headerlink" title="1.width"></a>1.width</h4><p><span style="color:#ee0b41">width值可以是设备宽度标识 device-width，也可以是具体值，但有些安卓手机是不支持具体值，IOS全系列都支持。</span></p><h4 id="2-initial-scale"><a href="#2-initial-scale" class="headerlink" title="2.initial-scale"></a>2.initial-scale</h4><ol><li><p>initial-scale 为页面初始化时的显示比例。  </p></li><li><p>initial-scale &#x3D; 屏幕宽度(设备独立像素)  &#x2F;  布局视口宽度。</p><ol><li>但是设备独立像素是固定的,并且initial-scale也被修改为了一个固定值,所以可以变化的,就是布局视口宽度了~</li></ol></li><li><p>只写initial-scale &#x3D; 1.0 也可以实现完美视口，但为了良好的兼容性，width&#x3D;device-width, initial-scale&#x3D;1.0一般一起写。</p></li></ol><h4 id="3-maximum-scale"><a href="#3-maximum-scale" class="headerlink" title="3.maximum-scale"></a>3.maximum-scale</h4><ol><li><p>设置允许用户最大缩放比例，<strong>苹果浏览器 safari 不认识该属性</strong></p></li><li><p>maximum-scale &#x3D; 屏幕宽度(设备独立像素) &#x2F; 视觉视口宽度值</p></li></ol><h4 id="4-minimum-scale"><a href="#4-minimum-scale" class="headerlink" title="4.minimum-scale"></a>4.minimum-scale</h4><ol><li><p>设置允许用户最小缩放比例。</p></li><li><p>minimum-scale &#x3D; 屏幕宽度(设备独立像素) &#x2F; 视觉视口宽度值</p></li></ol><h4 id="5-user-scalable"><a href="#5-user-scalable" class="headerlink" title="5.user-scalable"></a>5.user-scalable</h4><p>​是否允许用户通过手指缩放页面。<strong>苹果浏览器 safari 不认识该属性</strong></p><h4 id="6-viewport-fit"><a href="#6-viewport-fit" class="headerlink" title="6.viewport-fit"></a>6.viewport-fit</h4><p>设置为 cover 可以解决『刘海屏』的留白问题</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205231604789.jpg" alt="解决『刘海屏』的留白问题"></p><h3 id="适配"><a href="#适配" class="headerlink" title="适配"></a>适配</h3><h4 id="1-viewport适配"><a href="#1-viewport适配" class="headerlink" title="1.viewport适配"></a>1.viewport适配</h4><ul><li>方法：拿到设计稿之后，设置布局视口宽度为设计稿宽度，然后直接按照设计稿给宽高进行布局即可。</li><li>优点：不用复杂的计算，直接使用图稿上标注的px值</li><li>缺点：<ul><li><strong>不能使用完整的meta标签，会导致在某些安卓手机上有兼容性问题。</strong></li><li>不希望适配的东西，例如边框，也强制参与了适配</li><li>图片会失真</li></ul></li></ul><p>相当于设置</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=&quot;</span>设计稿要求的宽度&quot; /&gt;</span><br>//比如设计稿是在375px下设计的,那么就将width=&quot;375&quot;<br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=&quot;</span><span class="hljs-attr">375</span>&quot; /&gt;</span><br>                                    <br></code></pre></td></tr></table></figure><h4 id="2-rem适配"><a href="#2-rem适配" class="headerlink" title="2.rem适配"></a>2.rem适配</h4><h5 id="em和rem"><a href="#em和rem" class="headerlink" title="em和rem"></a>em和rem</h5><p>em 和 rem 都是 css 中的长度单位。而且两个都是相对长度单位，不过两个有点区别</p><ul><li>em 相对的是<strong>父级元素</strong>的字体大小</li><li>rem 相对的是<strong>根元素</strong>的字体大小<ul><li>比如html,body</li></ul></li></ul><p>rem适配的原理：编写样式时统一使用rem为单位，在不同设备上动态调整根字体大小</p><h5 id="方案1"><a href="#方案1" class="headerlink" title="方案1"></a>方案1</h5><p>淘宝、百度的移动端页面用的此方案</p><ol><li>设置完美视口</li><li><span style="color:#ee0b41">通过js设置根字体大小 &#x3D; **( 当前设备横向独立像素值 <em>100) &#x2F; 设计稿宽度</em>*</span></li><li><span style="color:#ee0b41">编写样式时，直接以rem为单位，值为：<strong>设计值 &#x2F; 100</strong> </span></li><li>增加 JS 代码进行实时适配</li></ol><p>优势：编写样式时直接挪动小数点即可。</p><p><strong>例子:</strong></p><p>比如有一个设计稿是,可以看到是在iponhe6(**设备独立像素宽度为375px)**的条件下设计的</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205231706200.png" alt="设计稿"></p><p>那么如果我们需要使得这张设计稿设计的<code>345px</code> * <code>150px</code>的div容器在iPhone6-plus上(设备独立像素宽度为414px)显示正常要怎么做呢?(肯定是按照比例缩放对吧) </p><p>经过人们发现,就会发现<strong>设备物理像素宽度大小和根字体的大小会成比例(当然你也可以参照别的,这里用根字体是因为有一个单位rem直接参照了根元素)</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205231717364.png"></p><p>发现的比例关系就是这样(当然,字体大小可以随意设置,都取100只是为了方便计算!)</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205231715409.png" alt="image-20220523171544365"></p><p>求出<strong>x</strong>(也就是<strong>在iPhone6-plus的根字体大小应该设计为110.4比例才正确</strong>)</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205231719255.png" alt="image-20220523171901209"></p><p>所以这里换算出来的关系就是这样子</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205231723426.png" alt="计算结果"></p><p>375px设备分辨率下的345px在其他设备的适配代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        * &#123;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">html</span>,</span><br><span class="language-css">        <span class="hljs-selector-tag">body</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-id">#one</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: hotpink;</span><br><span class="language-css">            <span class="hljs-comment">/* width: 345px; */</span></span><br><span class="language-css">            <span class="hljs-comment">/* height: 150px; */</span></span><br><span class="language-css">            <span class="hljs-comment">/* margin: 15px; */</span></span><br><span class="language-css">            </span><br><span class="language-css">            <span class="hljs-comment">/* 345/100 = 3.45 */</span></span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">3.45rem</span>;</span><br><span class="language-css">            <span class="hljs-comment">/* 150/100 = 1.5 */</span></span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">1.5rem</span>;</span><br><span class="language-css">            <span class="hljs-comment">/* 15/100 = 0.15 */</span></span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0.15rem</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;one&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//初次调入</span></span><br><span class="language-javascript">        <span class="hljs-title function_">changeFontSizeHTML</span>();</span><br><span class="language-javascript">        <span class="hljs-comment">//窗口发生改变再次调用</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">window</span>.<span class="hljs-property">onresize</span> = changeFontSizeHTML;</span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">changeFontSizeHTML</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">//获取设备独立像素(因为设置了width=device-width),所以布局视口会等于独立像素</span></span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> buju = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">clientWidth</span>;</span><br><span class="language-javascript">            <span class="hljs-comment">//计算字体大小</span></span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> fontSizeHTML = (buju * <span class="hljs-number">100</span>) / <span class="hljs-number">375</span>;</span><br><span class="language-javascript">            <span class="hljs-comment">//设置字体大小</span></span><br><span class="language-javascript">            <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">fontSize</span> = fontSizeHTML + <span class="hljs-string">&quot;px&quot;</span>;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>效果:</p><p>这样子在不同设备下的根字体大小就不同,显示的效果也是一样的</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205231738074.png"></p><h5 id="方案2"><a href="#方案2" class="headerlink" title="方案2"></a>方案2</h5><p>搜狐、唯品会的移动端页面用的此方案</p><ol><li>设置完美视口</li><li><span style="color:#ee0b41">通过js设置根字体大小  &#x3D; <strong>当前设备横向独立像素值 &#x2F; 10</strong> </span></li><li><span style="color:#ee0b41">编写样式时，直接以rem为单位，值为：<strong>设计值 &#x2F; (设计稿宽度 &#x2F; 10)</strong></span></li><li>增加 JS 代码进行实时适配</li></ol><ul><li>搜狐,唯品会就是发现这样一个规律</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205231845858.png" alt="要求的根字体大小"></p><ul><li>计算出来的根字体大小为 <strong>41.4</strong>,会发现<strong>根字体的大小恰巧是当前设备横向独立像素值 &#x2F; 10</strong></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205231846312.png" alt="计算出的根字体大小"></p><p>所以换算出来的关系如图</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205231850107.png" alt="方案2换算关系"></p><p>可以看到,我们算根字体的大小到底是多少十分简单,但是换算rem的时候就会十分麻烦</p><p>示例代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        * &#123;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">html</span>,</span><br><span class="language-css">        <span class="hljs-selector-tag">body</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-id">#one</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: hotpink;</span><br><span class="language-css">            <span class="hljs-comment">/* width: 345px; */</span></span><br><span class="language-css">            <span class="hljs-comment">/* height: 150px; */</span></span><br><span class="language-css">            <span class="hljs-comment">/* margin: 15px; */</span></span><br><span class="language-css">            <span class="hljs-comment">/* 345 / 37.5 = 9.2 */</span></span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">9.2rem</span>;</span><br><span class="language-css">            <span class="hljs-comment">/* 150 / 37.5 = 4 */</span></span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">4rem</span>;</span><br><span class="language-css">            <span class="hljs-comment">/* 15 / 37.5 = 0.4 */</span></span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0.4rem</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;one&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//初次调入</span></span><br><span class="language-javascript">        <span class="hljs-title function_">changeFontSizeHTML</span>();</span><br><span class="language-javascript">        <span class="hljs-comment">//窗口发生改变再次调用</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">window</span>.<span class="hljs-property">onresize</span> = changeFontSizeHTML;</span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">changeFontSizeHTML</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">//获取设备独立像素(因为设置了width=device-width),所以布局视口会等于独立像素</span></span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> buju = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">clientWidth</span>;</span><br><span class="language-javascript">            <span class="hljs-comment">//计算字体大小</span></span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> fontSizeHTML = buju / <span class="hljs-number">10</span>;</span><br><span class="language-javascript">            <span class="hljs-comment">//设置字体大小</span></span><br><span class="language-javascript">            <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">fontSize</span> = fontSizeHTML + <span class="hljs-string">&quot;px&quot;</span>;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205231855800.png" alt="唯品会官网使用"></p><p><strong>less写法</strong></p><p>html内容</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- &lt;link rel=&quot;stylesheet&quot; href=&quot;./css/index.css&quot;&gt; --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;./css/index.css&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;one&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//初次调入</span></span><br><span class="language-javascript">        <span class="hljs-title function_">changeFontSizeHTML</span>();</span><br><span class="language-javascript">        <span class="hljs-comment">//窗口发生改变再次调用</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">window</span>.<span class="hljs-property">onresize</span> = changeFontSizeHTML;</span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">changeFontSizeHTML</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">//获取设备独立像素(因为设置了width=device-width),所以布局视口会等于独立像素</span></span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> buju = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">clientWidth</span>;</span><br><span class="language-javascript">            <span class="hljs-comment">//计算字体大小</span></span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> fontSizeHTML = buju / <span class="hljs-number">10</span>;</span><br><span class="language-javascript">            <span class="hljs-comment">//设置字体大小</span></span><br><span class="language-javascript">            <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">fontSize</span> = fontSizeHTML + <span class="hljs-string">&quot;px&quot;</span>;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>less内容(注意,注意加上括号!)</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs css">// 定义变量<br><span class="hljs-keyword">@fontSize</span>:375/10rem;<br><br>* &#123;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-selector-id">#one</span> &#123;<br>    <span class="hljs-attribute">background-color</span>: hotpink;<br>    <span class="hljs-attribute">width</span>:(<span class="hljs-number">345</span>/@fontSize);<br>    <span class="hljs-attribute">height</span>: (<span class="hljs-number">150</span>/@fontSize);<br>    <span class="hljs-attribute">margin</span>: (<span class="hljs-number">15</span>/@fontSize);<br>    <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-vw适配"><a href="#3-vw适配" class="headerlink" title="3.vw适配"></a>3.vw适配</h4><ul><li><p>有人就会想,既然我是找比例关系,那么肯定会有这样子关系</p></li><li><p>设计图上的屏幕宽度是375px,设计图上一个div的宽度为345px,那么345px占了375px的<strong>0.92(92%)</strong>,那么我到别的屏幕宽度去,我就想办法让这个div也占当前屏幕宽度的92%就可以完成适配了对吧,</p></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205231931065.png" alt="占比关系"></p><p>所以<code>vw ,vh</code>就出来了</p><ul><li>1vw(视图宽度)  &#x3D; 等于布局视口宽度的1%</li><li>1vh(视图高度) &#x3D; 等于布局视口高度的1%</li></ul><p>不过vw和vh有一定的兼容性问题：详见：<a href="https://www.caniuse.com/#search=vw">这里</a></p><p>所以我们可以代码大概可以怎么写?</p><ul><li>按照当前设计图给出的屏幕宽度(布局视口宽度)算出每一个容器所占据的百分比后用vw来替换(注意,是<strong>vw!vw!vw!</strong>)</li><li>为什么要强调是<code>vw</code>呢? 因为假如你使用<code>vh</code>,1vh是布局视口高度的1%,可是!不管是哪一个网页,屏幕的高度都不是固定的吧?只有宽度是固定的</li></ul><p>普通写法代码实例</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        * &#123;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-id">#one</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: hotpink;</span><br><span class="language-css">            <span class="hljs-comment">/* width: 345px; </span></span><br><span class="hljs-comment"><span class="language-css">            height: 150px;</span></span><br><span class="hljs-comment"><span class="language-css">            margin: 15px;  */</span></span><br><span class="language-css"></span><br><span class="language-css">            <span class="hljs-comment">/* 345/375 *100 = 92 */</span></span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">92vw</span>; </span><br><span class="language-css"></span><br><span class="language-css">            <span class="hljs-comment">/* 150/375 *100 = 40 */</span></span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">40vw</span>;</span><br><span class="language-css"></span><br><span class="language-css">             <span class="hljs-comment">/* 15/375 *100 = 4 */</span></span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">4vw</span>; </span><br><span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;one&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>less的写法</strong></p><p>html内容</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;./css/index.css&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;one&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>less内容(依旧注意括号问题)</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-keyword">@vwSize</span>: <span class="hljs-number">375</span>/<span class="hljs-number">100vw</span>;<br>* &#123;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-selector-id">#one</span> &#123;<br>    <span class="hljs-attribute">background-color</span>: hotpink;<br>    <span class="hljs-comment">/* width: 345px; </span><br><span class="hljs-comment">    height: 150px;</span><br><span class="hljs-comment">    margin: 15px;  */</span><br>    <span class="hljs-attribute">width</span>:(<span class="hljs-number">345</span>/@vwSize); <br>    <span class="hljs-attribute">height</span>: (<span class="hljs-number">150</span>/@vwSize);<br>    <span class="hljs-attribute">margin</span>: (<span class="hljs-number">15</span>/@vwSize); <br>    <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="4-1物理像素边框"><a href="#4-1物理像素边框" class="headerlink" title="4.1物理像素边框"></a>4.1物理像素边框</h4><p>在dpr为2或者3以上的情况下,1css像素对应2个或者3个物理像素(说通俗点就是高dpr下,1px的css像素所显示的效果并没是我们想象的1px效果)</p><p>默认情况下的<code>1px</code>css像素的显示效果</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205232015172.png" alt="默认情况下的1px css像素的显示效果"></p><p>放大后的<code>1px</code> css像素的显示效果,可以明显看到边框肯定不是1px</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205232016341.png" alt="放大后的1px css像素的显示效果"></p><p>设置物理像素边框适配后的效果,可以看到,即使在搞dpr下,边框也依旧为<code>1px</code></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205232017793.png" alt="设置物理像素边框适配后的效果"></p><p>代码</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs css">//关键代码就是媒体查询<br>//dpr为<span class="hljs-number">2</span>的情况下,就将<span class="hljs-attribute">border</span>从<span class="hljs-number">1px</span>设置为<span class="hljs-number">0.5px</span><br>//这样子<span class="hljs-number">0.5px</span>的css像素 只能点亮<span class="hljs-number">1px</span>物理像素(<span class="hljs-number">0.5</span>*<span class="hljs-number">2</span>)<br><span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">-webkit-min-device-pixel-ratio</span>:<span class="hljs-number">2</span>) &#123;<br>    <span class="hljs-selector-id">#app</span>&#123;<br>    <span class="hljs-attribute">border</span>: <span class="hljs-number">0.5px</span> solid black;<br>    &#125;<br>&#125;<br><br>//dpr为<span class="hljs-number">3</span>的情况下,就将<span class="hljs-attribute">border</span>从<span class="hljs-number">1px</span>设置为<span class="hljs-number">0.33px</span><br>//这样子<span class="hljs-number">0.33px</span>的css像素 只能点亮<span class="hljs-number">1px</span>物理像素(<span class="hljs-number">0.33</span>*<span class="hljs-number">3</span>)<br><span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">-webkit-min-device-pixel-ratio</span>:<span class="hljs-number">3</span>) &#123;<br>    <span class="hljs-selector-id">#app</span>&#123;<br>    <span class="hljs-attribute">border</span>: <span class="hljs-number">0.33px</span> solid black;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="移动端事件"><a href="#移动端事件" class="headerlink" title="移动端事件"></a>移动端事件</h3><h4 id="事件类型"><a href="#事件类型" class="headerlink" title="事件类型"></a>事件类型</h4><p>移动端事件列表</p><ul><li>touchstart 元素上触摸开始时触发</li><li>touchmove 元素上触摸移动的时候触发</li><li>touchend 手指从触摸元素上离开时候触发</li><li>touchcancel 触摸被打断时触发<ul><li>比如说来了一个电话或者网页有一个弹窗</li></ul></li><li>每一个事件都会传入一个默认的参数,也就是事件回调对象</li></ul><p>这几个事件最早出现于IOS safari中，为了向开发人员转达一些特殊的信息。</p><h4 id="事件回调"><a href="#事件回调" class="headerlink" title="事件回调"></a>事件回调</h4><p>如图,输出事件回调对象</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205240825053.png" alt="事件回调对象"></p><p>我们使用的比较多的图片圈圈出来了</p><h5 id="1-touches-伪数组"><a href="#1-touches-伪数组" class="headerlink" title="1.touches(伪数组)"></a>1.touches(伪数组)</h5><p>屏幕上的触点数(屏幕上总共的手指头,当然,也不一定要手指头)</p><h5 id="2-targetToches-伪数组"><a href="#2-targetToches-伪数组" class="headerlink" title="2.targetToches(伪数组)"></a>2.targetToches(伪数组)</h5><p>被触摸元素的触点数(就是有多少个手指头在这个元素上,当然,也不一定要手指头)</p><h5 id="3-changedTouches-伪数组"><a href="#3-changedTouches-伪数组" class="headerlink" title="3.changedTouches(伪数组)"></a>3.changedTouches(伪数组)</h5><p>屏幕上改变的触点数(就是手指头变化的数量),当然,也可以应用于屏幕上同时按下几个手指头的判断</p><p>比如一封婚礼请帖,需要嘴唇亲吻才可以进入下一步领取红包,就可以使用<code>changedTouches</code>来判断</p><h4 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h4><ul><li><p>touchstart 事件可用于元素触摸的交互，比如页面跳转，标签页切换</p></li><li><p>touchmove 事件可用于页面的滑动特效，网页游戏，画板</p></li><li><p>touchend 事件主要跟 touchmove 事件结合使用</p></li><li><p>touchcancel 使用率不高</p></li></ul><p>注意：</p><ul><li><strong>touchmove 事件触发后，即使手指离开了元素，touchmove 事件也会持续触发</strong></li></ul><p>如图,手指头移出了粉红区域后依旧触发了<code>touchmove</code>事件</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205232114513.gif" alt="手指头移出了粉红区域后依旧触发了touchmove事件"></p><ul><li>触发 touchmove 与 touchend 事件，一定要先触发 touchstart </li><li><span style="color:#ee0b41">事件的作用在于实现移动端的界面交互</span></li></ul><h4 id="点击穿透"><a href="#点击穿透" class="headerlink" title="点击穿透"></a>点击穿透</h4><p><span style="color:#ee0b41">        touch 事件结束后会默认触发元素的 click 事件</span>，如没有设置完美视口，则事件触发的时间间隔为 300ms 左右，如设置完美视口则时间间隔为 30ms 左右（备注：具体的时间也看设备的特性）。</p><ul><li>点击穿透条件<ul><li>被touch的元素,触发了事件后将自己隐藏了(比如display:none)</li><li>被touch的元素下面有<code>click</code>事件</li></ul></li><li>想更详细的可以看看<a href="https://blog.csdn.net/weixin_47450807/article/details/122958492">这位博主写的</a></li></ul><p>​也可以这样子说:如果 touch 事件隐藏了元素，则 click 动作将作用到新的元素上，触发新元素的 click 事件或页面跳转，此现象称为点击穿透</p><p>触发蒙层下的<code>touchstart</code>方法，蒙层消失，触发该元素位置下的<code>click</code>事件。</p><p><strong>代码示例:(单击关闭后会穿透到click)</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>点击穿透<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">*&#123;</span><br><span class="language-css"><span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css"><span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-tag">html</span>,<span class="hljs-selector-tag">body</span>&#123;</span><br><span class="language-css"><span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css"><span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-id">#app</span>&#123;</span><br><span class="language-css"><span class="hljs-attribute">position</span>: relative;</span><br><span class="language-css"><span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css"><span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css"><span class="hljs-attribute">background-color</span>: skyblue;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.banner</span>&#123;</span><br><span class="language-css"><span class="hljs-attribute">display</span>: block;</span><br><span class="language-css"><span class="hljs-attribute">background-color</span>: orange;</span><br><span class="language-css"><span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css"><span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.shade</span>&#123;</span><br><span class="language-css"><span class="hljs-attribute">position</span>: absolute;</span><br><span class="language-css"><span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css"><span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css"><span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css"><span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css"><span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.5</span>);</span><br><span class="language-css"><span class="hljs-attribute">text-align</span>: center;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-tag">h1</span>&#123;</span><br><span class="language-css"><span class="hljs-attribute">margin-top</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css"><span class="hljs-attribute">color</span>:white;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-tag">button</span>&#123;</span><br><span class="language-css"><span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css"><span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;</span><br><span class="language-css"><span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;banner&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://www.baidu.com&quot;</span>&gt;</span>点我去百度<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;shade&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>恭喜一等奖<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn&quot;</span>&gt;</span>关闭<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> &gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">const</span> shade = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.shade&#x27;</span>)</span><br><span class="language-javascript"><span class="hljs-keyword">const</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;btn&#x27;</span>)</span><br><span class="language-javascript">btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;touchstart&#x27;</span>,<span class="hljs-function">()=&gt;</span>&#123;</span><br><span class="language-javascript">shade.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">&#x27;none&#x27;</span></span><br><span class="language-javascript">&#125;)</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="解决方法一"><a href="#解决方法一" class="headerlink" title="解决方法一"></a>解决方法一</h5><p>阻止默认行为</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//阻止默认行为</span><br>node.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;touchstart&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;hello&#x27;</span>)<br>e.<span class="hljs-title function_">preventDefault</span>(); <br>&#125;)<br></code></pre></td></tr></table></figure><h5 id="解决方法二"><a href="#解决方法二" class="headerlink" title="解决方法二"></a>解决方法二</h5><p>使背后元素不具备click特性，用touchXxxx代替click</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">banner_img.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;touchstart&#x27;</span>,<span class="hljs-function">()=&gt;</span>&#123;<br>    location.<span class="hljs-property">href</span> = <span class="hljs-string">&#x27;http://www.baidu.com&#x27;</span><br>&#125;)<br></code></pre></td></tr></table></figure><h5 id="解决方法三"><a href="#解决方法三" class="headerlink" title="解决方法三"></a>解决方法三</h5><p>让背后的元素暂时失去click事件，300毫秒左右再复原</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-id">#anode</span>&#123;<br>  <span class="hljs-attribute">pointer-events</span>: none;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript">btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;touchstart&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">event</span>)=&gt;</span>&#123;<br>    shade.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> =  <span class="hljs-string">&#x27;none&#x27;</span><br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>        anode.<span class="hljs-property">style</span>.<span class="hljs-property">pointerEvents</span> = <span class="hljs-string">&#x27;auto&#x27;</span><br>    &#125;,<span class="hljs-number">500</span>)<br>&#125;)<br></code></pre></td></tr></table></figure><h5 id="解决方法四"><a href="#解决方法四" class="headerlink" title="解决方法四"></a>解决方法四</h5><p>让隐藏的元素延迟300毫秒左右再隐藏</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;touchstart&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">event</span>)=&gt;</span>&#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>    shade.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> =  <span class="hljs-string">&#x27;none&#x27;</span><br>    &#125;,<span class="hljs-number">300</span>)<br>&#125;)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>javscript</tag>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vue一些比较重要知识点的复习</title>
    <link href="/2022/05/22/%E5%89%8D%E7%AB%AF/vue%E4%B8%80%E4%BA%9B%E6%AF%94%E8%BE%83%E9%87%8D%E8%A6%81%E7%9F%A5%E8%AF%86%E7%82%B9%E7%9A%84%E5%A4%8D%E4%B9%A0/"/>
    <url>/2022/05/22/%E5%89%8D%E7%AB%AF/vue%E4%B8%80%E4%BA%9B%E6%AF%94%E8%BE%83%E9%87%8D%E8%A6%81%E7%9F%A5%E8%AF%86%E7%82%B9%E7%9A%84%E5%A4%8D%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h3 id="Vue的MVVM模型"><a href="#Vue的MVVM模型" class="headerlink" title="Vue的MVVM模型"></a>Vue的MVVM模型</h3><h4 id="知道什么是MVVM"><a href="#知道什么是MVVM" class="headerlink" title="知道什么是MVVM"></a>知道什么是MVVM</h4><ul><li>M: (Model 模型)  即后端传递过来或者自己定义的数据(对应vue组件当中的data,props,computed等)</li><li>V: (View 视图) 即用户看到的界面UI (也就是我们组件当中的template部分)</li><li>VM: ViewModel,负责实现View和Model之间数据状态同步的中间对象</li></ul><h4 id="MVVM的关系"><a href="#MVVM的关系" class="headerlink" title="MVVM的关系"></a>MVVM的关系</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205171055780.png" alt="MVVM关系"></p><h4 id="MVVM优点"><a href="#MVVM优点" class="headerlink" title="MVVM优点"></a>MVVM优点</h4><blockquote><p>在MVVM架构下，View 和 Model 之间并没有直接的联系，而是通过 ViewModel 进行交互，<br>Model 和 ViewModel 之间的交互是双向的，<br>因此 View 数据的变化会同步到 Model 中，而 Model 数据的变化也会立即反应到View 上。<br>ViewModel 通过双向数据绑定把 View 和 Model 连接了起来，而 View 和 Model 之间的同步工作完全是自动的，无需人为干涉，因此开发者只需关注业务逻辑，不需要手动操作DOM， 不需要关注数据状态的同步问题，复杂的数据状态维护完全由 MVVM 来统一管理。</p></blockquote><h4 id="假如面试问到我说说看MVVM-我可能会这样子回答"><a href="#假如面试问到我说说看MVVM-我可能会这样子回答" class="headerlink" title="假如面试问到我说说看MVVM,我可能会这样子回答"></a>假如面试问到我说说看MVVM,我可能会这样子回答</h4><ul><li>我理解的MVVM就是M是model,也就是我们通过ajax请求获取到的数据或者是自己定义的数据</li><li>V:也就是用户在浏览器所看到的视图</li><li>VM:vue的实例化对象,我们通过vm完成model和view的数据状态同步,从而实现数据变动,视图也变动</li></ul><h3 id="Vue的绑定键盘鼠标操作和在组件使用上的要点"><a href="#Vue的绑定键盘鼠标操作和在组件使用上的要点" class="headerlink" title="Vue的绑定键盘鼠标操作和在组件使用上的要点"></a>Vue的绑定键盘鼠标操作和在组件使用上的要点</h3><ul><li><a href="https://cn.vuejs.org/v2/guide/events.html#%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6">官网API</a></li></ul><h4 id="Vue的事件操作-v-on-click-x3D-”xxx”或-click"><a href="#Vue的事件操作-v-on-click-x3D-”xxx”或-click" class="headerlink" title="Vue的事件操作(v-on:click&#x3D;”xxx”或@click)"></a>Vue的事件操作(v-on:click&#x3D;”xxx”或@click)</h4><ul><li>基本使用: <ul><li><code>&lt;div @click=&quot;事件&quot;&gt;&lt;/div&gt;</code> </li><li>或者<code>&lt;div @click.xxxx=&quot;事件&quot;&gt;&lt;/div&gt;</code> </li><li>或者<code>&lt;div v-on.click=&quot;事件&quot;&gt;&lt;/div&gt;</code> </li><li>或者<code>&lt;div v-on.click.xxx=&quot;事件&quot;&gt;&lt;/div&gt;</code></li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//除了@click=&quot;鼠标单击事件外&quot;</span><br><span class="hljs-comment">//还有@click.xxx=&quot;经过修饰符指定的类型的事件&quot;</span><br>.<span class="hljs-property">stop</span>    <span class="hljs-comment">//停止事件冒泡(等同于event.stopPropagination())</span><br>.<span class="hljs-property">prevent</span> <span class="hljs-comment">//阻止默认行为(比如单击一个按钮莫名其妙提交了表单,等用于event.preventDefault())</span><br>.<span class="hljs-property">capture</span><br>.<span class="hljs-property">self</span> <br>.<span class="hljs-property">once</span> <span class="hljs-comment">//只执行一次</span><br>.<span class="hljs-property">passive</span><br><br>&lt;!-- 阻止单击事件继续传播 --&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">v-on:click.stop</span>=<span class="hljs-string">&quot;doThis&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><br>&lt;!-- 提交事件不再重载页面 --&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">v-on:submit.prevent</span>=<span class="hljs-string">&quot;onSubmit&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br><br>&lt;!-- 修饰符可以串联 --&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">v-on:click.stop.prevent</span>=<span class="hljs-string">&quot;doThat&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><br>&lt;!-- 只有修饰符 --&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">v-on:submit.prevent</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br><br>&lt;!-- 添加事件监听器时使用事件捕获模式 --&gt;<br>&lt;!-- 即内部元素触发的事件先在此处理，然后才交由内部元素进行处理 --&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-on:click.capture</span>=<span class="hljs-string">&quot;doThis&quot;</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><br>&lt;!-- 只当在 event.<span class="hljs-property">target</span> 是当前元素自身时触发处理函数 --&gt;<br>&lt;!-- 即事件不是从内部元素触发的 --&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-on:click.self</span>=<span class="hljs-string">&quot;doThat&quot;</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h4 id="Vue的按键操作的别名-这样子就不用通过判断键代码来获取用户是哪一个操作了"><a href="#Vue的按键操作的别名-这样子就不用通过判断键代码来获取用户是哪一个操作了" class="headerlink" title="Vue的按键操作的别名(这样子就不用通过判断键代码来获取用户是哪一个操作了)"></a>Vue的按键操作的别名(这样子就不用通过判断键代码来获取用户是哪一个操作了)</h4><ul><li>基本使用: <code>&lt;div @keyup.xxxx=&quot;事件&quot;&gt;&lt;/div&gt;</code> 或者<code>&lt;div v-on.keyup.xxx=&quot;事件&quot;&gt;&lt;/div&gt;</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">.<span class="hljs-property">enter</span><br>.<span class="hljs-property">tab</span><br>.<span class="hljs-property">delete</span> (捕获“删除”和“退格”键)<br>.<span class="hljs-property">esc</span><br>.<span class="hljs-property">space</span><br>.<span class="hljs-property">up</span><br>.<span class="hljs-property">down</span><br>.<span class="hljs-property">left</span><br>.<span class="hljs-property">right</span><br></code></pre></td></tr></table></figure><h4 id="组件使用操作按钮注意点"><a href="#组件使用操作按钮注意点" class="headerlink" title="组件使用操作按钮注意点"></a>组件使用操作按钮注意点</h4><ul><li><strong>不管是什么,在组件上传递的事件,都是自定义事件!在HTML标签上添加就是原生DOM事件,比如说@click,@mousemove这些系统自带的原生事件在组件上直接使用的话都是自定义事件,组件内部需要对其进行处理才可以使用!</strong> <a href="https://dreamlove.top/2022/05/06/%E5%89%8D%E7%AB%AF/Vue%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1%E5%86%8D%E6%AC%A1(%E6%B7%B1%E5%85%A5%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6%E5%92%8C%E5%8E%9F%E7%94%9FDOM%E4%BA%8B%E4%BB%B6)/">具体可以看看这博客</a></li><li>所以如果组件上想使用原生事件,需要添加<code>.native</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">比如有一个自定义组件<span class="hljs-title class_">MyButton</span><br><br><span class="hljs-comment">//这里的@click即为自定义事件(因为是绑定在组件上的!)</span><br><span class="hljs-comment">//如果MyButton组件没有对这个自定义事件进行处理,那么这个事件是没有用的</span><br>&lt;<span class="hljs-title class_">MyButton</span> @click=<span class="hljs-string">&quot;事件&quot;</span>&gt;&lt;/<span class="hljs-title class_">MyButton</span>&gt;<br><br><span class="hljs-comment">//这里的@click即为原生事件(因为使用了.native)</span><br><span class="hljs-comment">//即使MyButton组件没有对这个事件进行处理,这个事件依旧会触发(因为是原生的,vue帮我们处理好了)</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyButton</span> @<span class="hljs-attr">click.native</span>=<span class="hljs-string">&quot;事件&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">MyButton</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h3 id="Vue的数据绑定响应式"><a href="#Vue的数据绑定响应式" class="headerlink" title="Vue的数据绑定响应式"></a>Vue的数据绑定响应式</h3><ul><li><a href="https://cn.vuejs.org/v2/guide/reactivity.html#%E5%A6%82%E4%BD%95%E8%BF%BD%E8%B8%AA%E5%8F%98%E5%8C%96">官网API</a></li></ul><blockquote><p>vue当中,除了<code>data</code>当中的数据会被vue转化为响应式数据以外,其他地方添加的数据均不是响应式,如果需要,必须要使用$set或者set方法官方是这样子说的,但是好像<code>computed</code>其实也是响应式</p></blockquote><h4 id="如何追踪变化"><a href="#如何追踪变化" class="headerlink" title="如何追踪变化"></a>如何追踪变化</h4><p>简单一句就是setter和getter方式,这里就不多说了,感兴趣的可以看看官方,<strong>这里记录下官方的话语</strong></p><ul><li>当你把一个普通的 JavaScript 对象传入 Vue 实例作为 <code>data</code> 选项，Vue 将遍历此对象所有的 property，并使用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty"><code>Object.defineProperty</code></a> 把这些 property 全部转为 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Working_with_Objects#%E5%AE%9A%E4%B9%89_getters_%E4%B8%8E_setters">getter&#x2F;setter</a>。<code>Object.defineProperty</code> 是 ES5 中一个无法 <code>shim</code> 的特性，这也就是 Vue 不支持 IE8 以及更低版本浏览器的原因。</li><li>这些 getter&#x2F;setter 对用户来说是不可见的，但是在内部它们让 Vue 能够追踪依赖，在 property 被访问和修改时通知变更。这里需要注意的是不同浏览器在控制台打印数据对象时对 getter&#x2F;setter 的格式化并不同，所以建议安装 <a href="https://github.com/vuejs/vue-devtools">vue-devtools</a> 来获取对检查数据更加友好的用户界面。</li><li>每个组件实例都对应一个 <strong>watcher</strong> 实例，它会在组件渲染的过程中把“接触”过的数据 property 记录为依赖。之后当依赖项的 setter 触发时，会通知 watcher，从而使它关联的组件重新渲染。</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205171000744.png" alt="图片"></p><h4 id="特别注意"><a href="#特别注意" class="headerlink" title="特别注意"></a>特别注意</h4><h5 id="对于对象"><a href="#对于对象" class="headerlink" title="对于对象"></a>对于对象</h5><ul><li>data当中<strong>初始化的数据为响应式</strong>(也就是数据变了,视图也会发生变化!)</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">data</span>:&#123;<br>    <span class="hljs-attr">a</span>:<span class="hljs-number">1</span><br>  &#125;<br>&#125;)<br><br><span class="hljs-comment">// `vm.a` 是响应式的</span><br><br>vm.<span class="hljs-property">b</span> = <span class="hljs-number">2</span><br><span class="hljs-comment">// `vm.b` 是非响应式的</span><br>(数据发生变化,依据这个数据绑定的标签之类的不会发生变化)<br></code></pre></td></tr></table></figure><ul><li>非响应式数据变成响应式数据<code>$set</code>或者<code>set</code>(使得数据发生变化,视图也会发生变化)</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//以myObj当中新添加的属性 b ,并设置为响应式数据 为例子</span><br><span class="hljs-comment">//myObj.b = 2;//直接添加-非响应式</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">set</span>(myObj,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-number">2</span>);<span class="hljs-comment">//set添加-响应式</span><br><br><span class="hljs-comment">//或者 this为Vue的实例化对象</span><br><span class="hljs-variable language_">this</span>.$set(myObj,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-number">2</span>);<span class="hljs-comment">//$set添加-响应式</span><br><br></code></pre></td></tr></table></figure><ul><li>为<strong>多个属性设置为响应式数据</strong><code>Object.assign</code>方法<ul><li>通过整体替换的形式</li><li>在线演示 <a href="https://codepen.io/superbiubiuman/pen/YzaNYPW">@地址</a></li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-keyword">return</span> &#123;<br><span class="hljs-attr">someObject</span>:&#123;<br><span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白&quot;</span>,<br><span class="hljs-attr">sex</span>:<span class="hljs-string">&quot;男&quot;</span><br>&#125;<br>&#125;<br>&#125;<br>&#125;)<br><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">someObject</span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(&#123;&#125;, <span class="hljs-variable language_">this</span>.<span class="hljs-property">someObject</span>, &#123;<br>    <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>,<br>    <span class="hljs-attr">b</span>: <span class="hljs-number">2</span><br>&#125;);<br><span class="hljs-comment">//这样子myObj就成为了一个响应式对象</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">someObject</span>);<br><span class="hljs-comment">//&#123; name: &#x27;李白&#x27;, sex: &#x27;男&#x27;, a: 1, b: 2 &#125;</span><br></code></pre></td></tr></table></figure><blockquote><p>注意,不可以<code>this.someObject = Object.assign(this.someObject, &#123; a: 1,b: 2 &#125;);</code>因为这依旧是对原来的数据进行添加删除,而不是进行了替换!</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//证明</span><br><span class="hljs-comment">//有效(数据变化,视图也变换!)</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">someObject</span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(&#123;&#125;, <span class="hljs-variable language_">this</span>.<span class="hljs-property">someObject</span>, &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>,<span class="hljs-attr">b</span>: <span class="hljs-number">2</span> &#125;);<br><br><span class="hljs-comment">//无效(数据变化了,视图没有变化!)</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">someObject</span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">someObject</span>, &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>,<span class="hljs-attr">b</span>: <span class="hljs-number">2</span> &#125;);<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;addProperty&quot;</span>&gt;</span>单击我<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123; someObject.a &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Home&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">someObject</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;李白&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">sex</span>: <span class="hljs-string">&quot;男&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">methods</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">addProperty</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">// 单击后视图没有出现 新添加的数字1,既然是响应式数据,数据变化了,视图也会发生变化,这里却没有</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">// 所以代码1 的写法是错误的!</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">// 代码1 : this.someObject = Object.assign(this.someObject, &#123; a: 1,b: 2 &#125;);</span></span></span><br><span class="language-javascript"><span class="language-xml">      </span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//单击后视图出现了 新添加的数字1</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//数据变化,视图变化,响应式数据</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">someObject</span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(&#123;&#125;, <span class="hljs-variable language_">this</span>.<span class="hljs-property">someObject</span>, &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">b</span>: <span class="hljs-number">2</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);<span class="hljs-comment">//出现了1</span></span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><h5 id="对于数组"><a href="#对于数组" class="headerlink" title="对于数组"></a>对于数组</h5><ul><li><a href="https://cn.vuejs.org/v2/guide/reactivity.html#%E5%AF%B9%E4%BA%8E%E6%95%B0%E7%BB%84">官网API</a></li></ul><blockquote><p>由于对象当中有setter和getters,数组没有,所以数组的所有操作并不像对象那样容易引起数据改变,视图改变的状况</p></blockquote><p>例子</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">data</span>: &#123;<br>    <span class="hljs-attr">items</span>: [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]<br>  &#125;<br>&#125;)<br>vm.<span class="hljs-property">items</span>[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;x&#x27;</span> <span class="hljs-comment">// 不是响应性的</span><br>vm.<span class="hljs-property">items</span>.<span class="hljs-property">length</span> = <span class="hljs-number">2</span> <span class="hljs-comment">// 不是响应性的</span><br></code></pre></td></tr></table></figure><p><strong>解决</strong></p><ol><li>使用<strong>Vue.set或者$set</strong></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// Vue.set的实例，$set和set是一样的使用</span><br><span class="hljs-comment">// 参数1为要设置的数组items</span><br><span class="hljs-comment">// 参数2为设置的索引</span><br><span class="hljs-comment">// 参数3为新添加的值</span><br><span class="hljs-comment">// 这样子新添加的newValue即为响应式数据了</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">set</span>(vm.<span class="hljs-property">items</span>, indexOfItem, newValue)<br></code></pre></td></tr></table></figure><ol start="2"><li>使用<strong>Vue当中重写的几个数组的方法</strong>,这样子操作就不会影响数据响应式效果</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// Array.prototype.splice</span><br>vm.<span class="hljs-property">items</span>.<span class="hljs-title function_">splice</span>(indexOfItem, <span class="hljs-number">1</span>, newValue)<br></code></pre></td></tr></table></figure><ol start="3"><li>Vue 将被侦听的数组的变更方法进行了包裹，所以它们也将会触发视图更新。这些被包裹过的方法包括：**(大白话就是Vue重写了这些方法,通过这些方法修改的数组也会触发视图的更新)**</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">push</span>()<br><span class="hljs-title function_">pop</span>()<br><span class="hljs-title function_">shift</span>()<br><span class="hljs-title function_">unshift</span>()<br><span class="hljs-title function_">splice</span>()<br><span class="hljs-title function_">sort</span>()<br><span class="hljs-title function_">reverse</span>()<br></code></pre></td></tr></table></figure><ol start="4"><li>也可以<strong>替换数组</strong>来达到修改后依旧是响应式效果</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//example1.items 本身为一个响应式数组</span><br><span class="hljs-comment">//这里进行了替换操作</span><br>example1.<span class="hljs-property">items</span> = example1.<span class="hljs-property">items</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) &#123;<br>  <span class="hljs-keyword">return</span> item.<span class="hljs-property">message</span>.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/Foo/</span>)<br>&#125;)<br><br><span class="hljs-comment">//filter()、concat() 和 slice()等返回新数组的操作都可以~</span><br></code></pre></td></tr></table></figure><blockquote><p>官网对于替换数组的解释：你可能认为这将导致 Vue 丢弃现有 DOM 并重新渲染整个列表。幸运的是，事实并非如此。Vue 为了使得 DOM 元素得到最大范围的重用而实现了一些智能的启发式方法，所以用一个含有相同元素的数组去替换原来的数组是非常高效的操作。</p></blockquote><h3 id="Vue组件通信的六种方式"><a href="#Vue组件通信的六种方式" class="headerlink" title="Vue组件通信的六种方式"></a>Vue组件通信的六种方式</h3><h4 id="Props通信"><a href="#Props通信" class="headerlink" title="Props通信"></a>Props通信</h4><ul><li>主要用于父子间的通信,不仅仅是普通的子,也可以是孙子之类的之间的通信),</li><li>为了方便,这里就不区分什么孙子,曾孙子了,统一以父亲和儿子来说</li></ul><h5 id="props通信主要有"><a href="#props通信主要有" class="headerlink" title="props通信主要有"></a>props通信主要有</h5><ul><li>传递非函数数据——-适用于父亲向儿子传递数据<ul><li>如果是<strong>普通数据</strong>-则是父亲想给儿子东东</li><li>如果是<strong>传递的是函数</strong>,则是儿子想传递某些东东给父亲</li></ul></li></ul><p>例子1: <strong>父亲向儿子传递普通数据</strong></p><p>父亲(向儿子传递’title’,告诉儿子显示这个’title’)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//父亲</span><br>&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>props通信<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-comment">&lt;!-- 传递title属性给儿子,告诉儿子title信息 --&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Son</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;标题设置为动感超人&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Son</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Son</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./son.vue&quot;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Father&#x27;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">components</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-title class_">Son</span></span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>儿子(负责显示父亲传递过来的’title’)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//儿子</span><br>&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;&#123;title&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Son&#x27;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">//儿子接收父亲传递过来的props</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">// 父亲刚刚传递了一个 title,这里就添加一个title</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">props</span>:[<span class="hljs-string">&quot;title&quot;</span>]</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>效果图</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205171502361.png" alt="props-子向父传递非函数数据"></p><p><strong>例子2 : 传递函数数据——儿子想告诉父亲什么东西(也就是想传递数据给父亲)</strong></p><p>父亲(传递一个函数 ‘getInfo’ 给儿子)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//父亲</span><br>&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>props通信<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 传递getInfo属性给儿子,告诉儿子老爸想要你的信息 --&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Son</span> <span class="hljs-attr">:getInfo</span>=<span class="hljs-string">&quot;returnInfo&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Son</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Son</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./son.vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Father&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">components</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title class_">Son</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">methods</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//获取儿子的信息</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">returnInfo</span>(<span class="hljs-params">info</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;儿子传递给我的信息是&quot;</span>, info);</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><p>儿子(接收父亲传递过来的函数’getInfo’,并调用这个函数)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//儿子</span><br>&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;tellFather&quot;</span>&gt;</span>单击这个按钮告诉爸爸信息<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-comment">&lt;!-- 或者简单点 --&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;getInfo(&#x27;儿子很好,爸爸放心1&#x27;)&quot;</span>&gt;</span>简单调用写法<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Son&#x27;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">//儿子接收父亲传递过来的props</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">// 父亲刚刚传递了一个 getInfo,这里就添加一个getInfo</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">props</span>:[<span class="hljs-string">&quot;getInfo&quot;</span>],</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">methods</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//告诉爸爸</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-title function_">tellFather</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getInfo</span>(<span class="hljs-string">&quot;儿子很好,爸爸放心2&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>效果图(单击’’这个按钮告诉爸爸信息’’,儿子就会告诉父亲’儿子很好,爸爸放心’)</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205171508329.png" alt="props-父亲向儿子传递函数数据"></p><h5 id="props的类型"><a href="#props的类型" class="headerlink" title="props的类型"></a>props的类型</h5><ul><li><p>数组</p><ul><li>props:[“title” , “name” , “say”];</li><li>儿子接收父亲传递过来的数据,都是写在数组里面的,并且是以字符串形式组成的数组(如上面二个案例就是用数组接收传递的)</li></ul></li><li><p>对象(普通key,value) </p><ul><li><p>可<strong>用于指明props的值类型</strong></p></li><li><p>例子如下</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">props</span>: &#123;<br>  <span class="hljs-comment">//指明title只能是字符串类型</span><br>  <span class="hljs-attr">title</span>: <span class="hljs-title class_">String</span>,<br>  <span class="hljs-comment">//指明likes只能是数值类型 </span><br>  <span class="hljs-attr">likes</span>: <span class="hljs-title class_">Number</span>,<br>  <span class="hljs-comment">//指明isPublished只能是布尔值类型</span><br>  <span class="hljs-attr">isPublished</span>: <span class="hljs-title class_">Boolean</span>,<br>  <span class="hljs-comment">//指明commentIds只能是数组类型</span><br>  <span class="hljs-attr">commentIds</span>: <span class="hljs-title class_">Array</span>,<br>  <span class="hljs-comment">//指明author只能是对象类型</span><br>  <span class="hljs-attr">author</span>: <span class="hljs-title class_">Object</span>,<br>  <span class="hljs-comment">//指明callback只能是函数类型</span><br>  <span class="hljs-attr">callback</span>: <span class="hljs-title class_">Function</span>,<br>  <span class="hljs-comment">//指明contactsPromise只能是Promise类型</span><br>  <span class="hljs-attr">contactsPromise</span>: <span class="hljs-title class_">Promise</span> <span class="hljs-comment">// or any other constructor</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>对象里面又有配置对象</p><ul><li><p>配置对象参数</p><ul><li><p><strong>type:</strong>(指明props的值的类型)</p></li><li><p><strong>required</strong>:(布尔值,代表是否必填,和default冲突)</p></li><li><p><strong>default</strong>:(默认值参数)</p></li><li><p><strong>validator</strong>:(验证参数)</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205171519418.png" alt="验证不通过报错"></p></li></ul></li></ul></li><li><p>配置对象代码示例</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;my-component&#x27;</span>, &#123;<br>  <span class="hljs-attr">props</span>: &#123;<br>    <span class="hljs-comment">// 基础的类型检查 (`null` 和 `undefined` 会通过任何类型验证)</span><br>    <span class="hljs-attr">propA</span>: <span class="hljs-title class_">Number</span>,<br>    <span class="hljs-comment">// 多个可能的类型</span><br>    <span class="hljs-attr">propB</span>: [<span class="hljs-title class_">String</span>, <span class="hljs-title class_">Number</span>],<br>    <span class="hljs-comment">// 必填的字符串</span><br>    <span class="hljs-attr">propC</span>: &#123;<br>      <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span>,<br>      <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span><br>    &#125;,<br>    <span class="hljs-comment">// 带有默认值的数字</span><br>    <span class="hljs-attr">propD</span>: &#123;<br>      <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,<br>      <span class="hljs-attr">default</span>: <span class="hljs-number">100</span><br>    &#125;,<br>    <span class="hljs-comment">// 带有默认值的对象</span><br>    <span class="hljs-attr">propE</span>: &#123;<br>      <span class="hljs-attr">type</span>: <span class="hljs-title class_">Object</span>,<br>      <span class="hljs-comment">// 对象或数组默认值必须从一个工厂函数获取</span><br>      <span class="hljs-attr">default</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> &#123; <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;hello&#x27;</span> &#125;<br>      &#125;<br>    &#125;,<br>    <span class="hljs-comment">// 自定义验证函数</span><br>    <span class="hljs-attr">propF</span>: &#123;<br>      <span class="hljs-attr">validator</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) &#123;<br>        <span class="hljs-comment">// 这个值必须匹配下列字符串中的一个</span><br>        <span class="hljs-keyword">return</span> [<span class="hljs-string">&#x27;success&#x27;</span>, <span class="hljs-string">&#x27;warning&#x27;</span>, <span class="hljs-string">&#x27;danger&#x27;</span>].<span class="hljs-title function_">indexOf</span>(value) !== -<span class="hljs-number">1</span><br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure><h5 id="props通信变量注意点"><a href="#props通信变量注意点" class="headerlink" title="props通信变量注意点"></a>props通信变量注意点</h5><ul><li>prop的大小写<ul><li>调用组件时Prop使用驼峰式，props选项声明中需要全部小写</li><li>props中命名采用驼峰式，在调用组件的标签中使用短横线分割命名方式命名属性</li></ul></li><li>官网说明<a href="https://cn.vuejs.org/v2/guide/components-props.html">@地址</a></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207081427880.png"></p><p>也就是说,会把传入的props转化为小写,比如如下例子-采用了驼峰命名方式</p><ul><li>这里使用了驼峰命名<code>clickAmount</code>传递了属性</li><li>那么vue会自动将其全部转化为小写(其实不管你有没有驼峰命名,vue都会将其转化为小写~),然后接受的时候<strong>如果使用相同的名字去接收</strong>,<strong>会接收失败</strong>!!!!!!!!!!!!!!!</li><li>所以不能驼峰,如果确实想,就需要使用<code>kebab-case (短横线分隔命名) 命名</code>去传递参数了,然后接收的时候就需要使用驼峰接收了</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.bootcdn.net/ajax/libs/vue/2.6.9/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;box&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">my-component</span> </span><br><span class="hljs-tag"><span class="hljs-attr">message</span>=<span class="hljs-string">&#x27;理想是人生的太阳&#x27;</span> </span><br><span class="hljs-tag"><span class="hljs-attr">v-bind:msg</span>=<span class="hljs-string">&quot;msg&quot;</span> </span><br><span class="hljs-tag"><span class="hljs-attr">myTitle</span>=<span class="hljs-string">&quot;诗与远方&quot;</span></span><br><span class="hljs-tag">     //  这里使用了驼峰命名</span><br><span class="hljs-tag">                <span class="hljs-attr">clickAmount</span>=<span class="hljs-string">&quot;1000&quot;</span> </span><br><span class="hljs-tag"><span class="hljs-attr">my-name</span>=<span class="hljs-string">&quot;自定义属性&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">my-component</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span><br><span class="language-xml"><span class="language-handlebars">Vue.component(&#x27;my-component&#x27;,&#123;</span></span><br><span class="language-xml"><span class="language-handlebars">                //接收的时候就需要全部改为小写,因为</span></span><br><span class="language-xml"><span class="language-handlebars">props:[&#x27;message&#x27;,&#x27;msg&#x27;,&#x27;mytitle&#x27;,&#x27;myName&#x27;,&#x27;clickamount&#x27;],</span></span><br><span class="language-xml"><span class="language-handlebars">template:`<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">msg</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">message</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">mytitle</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">myName</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">clickamount</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">`,</span></span><br><span class="language-xml"><span class="language-handlebars">&#125;)</span></span><br><span class="language-xml"><span class="language-handlebars">var vm = new Vue(&#123;</span></span><br><span class="language-xml"><span class="language-handlebars">el:&#x27;#box&#x27;,</span></span><br><span class="language-xml"><span class="language-handlebars">data:&#123;</span></span><br><span class="language-xml"><span class="language-handlebars">msg:&#x27;父组件数据&#x27;</span></span><br><span class="language-xml"><span class="language-handlebars">&#125;</span></span><br><span class="language-xml"><span class="language-handlebars">&#125;);</span></span><br><span class="language-xml"><span class="language-handlebars"></span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br><br></code></pre></td></tr></table></figure><ul><li>使用<code>kebab-case (短横线分隔命名) 命名传递</code>,并使用驼峰命名接收</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.bootcdn.net/ajax/libs/vue/2.6.9/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;box&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">my-component</span> </span><br><span class="hljs-tag"><span class="hljs-attr">message</span>=<span class="hljs-string">&#x27;理想是人生的太阳&#x27;</span> </span><br><span class="hljs-tag"><span class="hljs-attr">v-bind:msg</span>=<span class="hljs-string">&quot;msg&quot;</span> </span><br><span class="hljs-tag"><span class="hljs-attr">myTitle</span>=<span class="hljs-string">&quot;诗与远方&quot;</span></span><br><span class="hljs-tag">        // <span class="hljs-attr">kebab-case</span> (短横线分隔命名) 命名传递</span><br><span class="hljs-tag">                <span class="hljs-attr">click-amount</span>=<span class="hljs-string">&quot;1000&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">my-name</span>=<span class="hljs-string">&quot;自定义属性&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">my-component</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span><br><span class="language-xml"><span class="language-handlebars">Vue.component(&#x27;my-component&#x27;,&#123;</span></span><br><span class="language-xml"><span class="language-handlebars">                //  驼峰命名接收   clickAmount</span></span><br><span class="language-xml"><span class="language-handlebars">props:[&#x27;message&#x27;,&#x27;msg&#x27;,&#x27;mytitle&#x27;,&#x27;myName&#x27;,&#x27;clickAmount&#x27;],</span></span><br><span class="language-xml"><span class="language-handlebars">template:`<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">msg</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">message</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">mytitle</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">myName</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">clickAmount</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">`,</span></span><br><span class="language-xml"><span class="language-handlebars">&#125;)</span></span><br><span class="language-xml"><span class="language-handlebars">var vm = new Vue(&#123;</span></span><br><span class="language-xml"><span class="language-handlebars">el:&#x27;#box&#x27;,</span></span><br><span class="language-xml"><span class="language-handlebars">data:&#123;</span></span><br><span class="language-xml"><span class="language-handlebars">msg:&#x27;父组件数据&#x27;</span></span><br><span class="language-xml"><span class="language-handlebars">&#125;</span></span><br><span class="language-xml"><span class="language-handlebars">&#125;);</span></span><br><span class="language-xml"><span class="language-handlebars"></span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br><br></code></pre></td></tr></table></figure><h4 id="自定义事件通信"><a href="#自定义事件通信" class="headerlink" title="自定义事件通信"></a>自定义事件通信</h4><ul><li><a href="https://cn.vuejs.org/v2/guide/components-custom-events.html">官网API</a></li></ul><h5 id="知道自定义事件和系统事件-原生事件-的区别"><a href="#知道自定义事件和系统事件-原生事件-的区别" class="headerlink" title="知道自定义事件和系统事件(原生事件)的区别"></a>知道自定义事件和系统事件(原生事件)的区别</h5><ul><li>自定义事件(<strong>事件类型自己定义</strong>,回调函数自己定义)</li><li>系统事件(原生事件) (<strong>事件类型系统定义</strong>,回调函数自己定义)</li></ul><h5 id="绑定和触发自定义事件"><a href="#绑定和触发自定义事件" class="headerlink" title="绑定和触发自定义事件"></a>绑定和触发自定义事件</h5><ul><li><p>关键用法是<code>$on</code> 和<code>$emit</code></p><ul><li><code>$on(参数1,参数2)</code><ul><li>参数1为绑定的事件名称(用于后面$emit触发)</li><li>参数2为绑定的回调函数</li></ul></li><li><code>$on</code>经常绑定在获取数据的一方(订阅者)</li></ul><hr><ul><li><code>$emit(参数1,参数2)</code><ul><li>参数1为要触发的事件名称(和<code>$on</code>的第一个参数要对得上)</li><li>参数2为给事件名称对应的回调函数传递的参数值</li></ul></li><li><code>$emit</code>经常绑定在发送数据的一方(发布者)</li></ul></li><li><p>注意,如果<code>$emit</code>需要<strong>传递多个参数</strong>,要使用对象,比如说<code>$emit(xxxx,&#123;参数1:value,参数2,value2&#125;)</code></p></li></ul><h6 id="自定义事件复杂写法"><a href="#自定义事件复杂写法" class="headerlink" title="自定义事件复杂写法"></a>自定义事件复杂写法</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//父亲</span><br>&lt;<span class="hljs-title class_">Son</span> ref=<span class="hljs-string">&quot;erzi&quot;</span>&gt;&lt;/<span class="hljs-title class_">Son</span>&gt;<br><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br><span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-comment">//注意,第一个complex为自己定义的,用于后面$emit触发</span><br>        <span class="hljs-comment">//第二个complex为绑定的回调函数!</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">erzi</span>.$on(<span class="hljs-string">&quot;complex&quot;</span>,complex);<br>&#125;,<br><span class="hljs-attr">methods</span>:&#123;<br><span class="hljs-title function_">complex</span>(<span class="hljs-params">content</span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(content)<br>&#125;<br>&#125;<br>&#125;)<br><br><span class="hljs-comment">//儿子</span><br>&lt;span&gt;我是儿子&lt;/span&gt;<br><span class="hljs-comment">//单击按钮,调用$emit触发自定义事件,并传递数据&#x27;爸爸,我很好&#x27;给父亲</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;this.$emit(&#x27;complex&#x27;,&#x27;爸爸,我很好&#x27;)&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h6 id="自定义事件的简单写法"><a href="#自定义事件的简单写法" class="headerlink" title="自定义事件的简单写法"></a>自定义事件的简单写法</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//父亲</span><br><span class="hljs-comment">//第一个complex为自己定义的,用于后面$emit触发</span><br><span class="hljs-comment">//第二个complex为绑定的回调函数!</span><br>&lt;<span class="hljs-title class_">Son</span> @complex=<span class="hljs-string">&quot;complex&quot;</span>&gt;&lt;/<span class="hljs-title class_">Son</span>&gt;<br><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br><span class="hljs-attr">methods</span>:&#123;<br><span class="hljs-title function_">complex</span>(<span class="hljs-params">content</span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(content)<br>&#125;<br>&#125;<br>&#125;)<br><br><span class="hljs-comment">//儿子</span><br>&lt;span&gt;我是儿子&lt;/span&gt;<br><span class="hljs-comment">//单击按钮,调用$emit触发自定义事件,并传递数据&#x27;爸爸,我很好&#x27;给父亲</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;this.$emit(&#x27;complex&#x27;,&#x27;爸爸,我很好&#x27;)&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h6 id="顺带一提"><a href="#顺带一提" class="headerlink" title="顺带一提"></a>顺带一提</h6><ul><li>组件配置中<ul><li>data函数,methods的函数,watch的函数,computed中的函数,他们的<strong>this均是[VueComponent实例对象]</strong></li></ul></li><li>new Vue(options)配置中<ul><li>data函数,methods函数,watch的函数,computed的函数,他们的<strong>this均是[Vue实例对象]</strong></li></ul></li></ul><h4 id="全局事件总线通信"><a href="#全局事件总线通信" class="headerlink" title="全局事件总线通信"></a>全局事件总线通信</h4><p>选择一个对象作为全局事件总线通信任务的东东需要具备下面几个条件</p><ol><li>要是一个对象</li><li>这个对象可以被所有组件所访问</li><li>这个对象可以调用<code>$emit</code>和<code>$on</code>方法</li></ol><p>所以<strong>选取vm</strong>作为全局事件总线通信任务人~</p><p>至于为什么是vm,可以看看Vue和VueComponent的关系</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205171611346.png" alt="Vue和VueComponent的关系"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205171613995.png" alt="Vue和VueComponent的关系"></p><h5 id="全局事件总线使用"><a href="#全局事件总线使用" class="headerlink" title="全局事件总线使用"></a>全局事件总线使用</h5><ul><li>全局事件总线选取规则<ul><li>1.所有的组件均可以访问到</li><li>2.被选取当做总线的具有<code>$on</code>,<code>$emit</code>方法</li><li>3.需要是一个对象</li></ul></li><li>所以选择vm做为全局事件总线</li></ul><ol><li><p>在主入口文件的main.js当中添加<code>beforeCreate</code>对象,并在里面添加代码(<strong>注意绑定位置!</strong>)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//正确的示例</span><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br><span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span>;<br>&#125;<br>&#125;)<br><br><span class="hljs-comment">//错误的示例</span><br><span class="hljs-comment">//注意</span><br><span class="hljs-comment">//这个是不可以的!!!</span><br><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>    ...<br>&#125;)<br><span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = vm;<br>因为<span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>的那一刻,其他组件也会创建!创建好后才会执行这一行代码<br></code></pre></td></tr></table></figure></li><li><p>在A组件(负责接受B组件或其他组件的数据)配置对象mounted当中<strong>添加$on</strong>,回调函数留在A组件当中(这里<strong>以Index.vue组件为例</strong>)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//Index组件</span><br>&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">One</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">One</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Two</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Two</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Two</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/views/allBus/two.vue&quot;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">One</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/views/allBus/one.vue&quot;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Index&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">components</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title class_">Two</span>,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title class_">One</span></span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//绑定tellText事件,回调函数为tellText</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">$bus</span>.$on(<span class="hljs-string">&quot;tellText&quot;</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">tellText</span>);</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">methods</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">tellText</span>(<span class="hljs-params">content</span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;有人说:&#x27;</span>,content);</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure></li><li><p>在B组件或其他组件(负责发送A组件数据)<strong>当中添加$emit</strong>(以One.vue  和 Two.vue组件为例)</p><p>&#x2F;&#x2F;One.vue组件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;border:1px solid red&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是One<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;saySome&quot;</span>&gt;</span>我来说句话<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;One&#x27;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">methods</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-title function_">saySome</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-comment">//触发全局事件总线上的tellText事件,并向回调函数传递&#x27;我是One,我说话完毕&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-variable language_">this</span>.<span class="hljs-property">$bus</span>.$emit(<span class="hljs-string">&quot;tellText&quot;</span>,<span class="hljs-string">&quot;我是One,我说话完毕&quot;</span>)</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;less&quot;</span> <span class="hljs-attr">scoped</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><p>&#x2F;&#x2F;Two.vue组件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;border:1px solid blue&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是Two<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;saySome&quot;</span>&gt;</span>我来说句话<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Two&#x27;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">methods</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-title function_">saySome</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-comment">//触发全局事件总线上的tellText事件,并向回调函数传递&#x27;我是One,我说话完毕&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-variable language_">this</span>.<span class="hljs-property">$bus</span>.$emit(<span class="hljs-string">&quot;tellText&quot;</span>,<span class="hljs-string">&quot;我是Two,我说话完毕&quot;</span>)</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;less&quot;</span> <span class="hljs-attr">scoped</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure></li></ol><h5 id="Vue-prototype-bus-x3D-vm-为什么不能用-为什么一定要用beforeCreate钩子实现-可能有误"><a href="#Vue-prototype-bus-x3D-vm-为什么不能用-为什么一定要用beforeCreate钩子实现-可能有误" class="headerlink" title="Vue.prototype.$bus &#x3D; vm;为什么不能用,为什么一定要用beforeCreate钩子实现?(可能有误~)"></a>Vue.prototype.$bus &#x3D; vm;为什么不能用,为什么一定要用beforeCreate钩子实现?(可能有误~)</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//正确的示例</span><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br><span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span>;<br>&#125;<br>&#125;)<br><br><span class="hljs-comment">//错误的示例</span><br><span class="hljs-comment">//注意</span><br><span class="hljs-comment">//这个是不可以的!!!</span><br><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>    ...<br>&#125;)<br><span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = vm;<span class="hljs-comment">//下面就来解释为什么这样子不可以</span><br></code></pre></td></tr></table></figure><h6 id="首先了解下Vue与VueComponent的关系"><a href="#首先了解下Vue与VueComponent的关系" class="headerlink" title="首先了解下Vue与VueComponent的关系"></a>首先了解下Vue与VueComponent的关系</h6><ul><li><a href="https://blog.csdn.net/qq_40837310/article/details/122914597">这位博主更加详细的介绍了下Vue组件化之VueComponent介绍</a></li><li>组件都是通过一个叫<code>VueComponent的构造函数</code>创建的,<strong>并且这个VueComponent不是我们写的,而是Vue.extend函数生成的</strong>,并且每次生成的都是不一样的VueComponent的构造函数。</li><li>每当我们使用组件标签时（比如说有一个<strong>School的自定义组件</strong>）使用VueComponent构造函数创建一个VueComponent对象，帮我们执行 new VueComponent(options)</li><li><strong>this的指向</strong>：<ul><li><strong>在组件配置中</strong>：data函数，methods中配置的函数，watch中配置的函数，computed中配置的函数的this指向的都是VueComponent组件对象。</li><li><strong>在vue实例配置中</strong>：data函数，methods中配置的函数，watch中配置的函数，computed中配置的函数的this指向的都是vue对象。</li></ul></li></ul><h6 id="原因解释"><a href="#原因解释" class="headerlink" title="原因解释"></a>原因解释</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//正确的示例</span><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br><span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-comment">//在这里挂载到了Vue的原型上,后期通过Vue.extend函数生成的均可以获取到</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span>;<br>&#125;<br>&#125;)<br><br><span class="hljs-comment">//错误的示例</span><br><br><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>    ...<br>&#125;)<br><span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = vm;<span class="hljs-comment">//执行到这里组件已经创建完成,没有用了</span><br></code></pre></td></tr></table></figure><p>正确绑定总线流程图执行过程</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205171751272.png" alt="正确绑定总线流程图执行过程"></p><p>错误绑定总线流程图执行过程</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205171752355.png" alt="错误绑定总线流程图执行过程"></p><h6 id="至于为什么控制台console-log-可以输出查看到"><a href="#至于为什么控制台console-log-可以输出查看到" class="headerlink" title="至于为什么控制台console.log(可以输出查看到)"></a>至于为什么控制台console.log(可以输出查看到)</h6><p>因为控制台展开会再次去读取最新的代码,所以你可以控制台看到~</p><h4 id="pubsub-js通信"><a href="#pubsub-js通信" class="headerlink" title="pubsub-js通信"></a>pubsub-js通信</h4><h5 id="前置准备"><a href="#前置准备" class="headerlink" title="前置准备"></a>前置准备</h5><ul><li><p>首先要安装</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">npm install pubsub-js --save<br></code></pre></td></tr></table></figure></li><li><p>然后用到的地方都导入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">PubSub</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;pubsub-js&quot;</span><br></code></pre></td></tr></table></figure></li><li><p>当然,你也可以全局使用捆绑在原型上</p><ul><li>比如<code>import PubSub from &#39;pubsub-js&#39;; Vue.prototype.PubSub = PubSub;</code></li></ul></li><li><p>一句话说清楚添加订阅和发布订阅</p><ul><li>需要数据的成为<strong>订阅者</strong></li><li>传送数据的成为<strong>发布者</strong></li></ul></li></ul><h5 id="绑定事件的应用-可以立即为一颗定时炸弹"><a href="#绑定事件的应用-可以立即为一颗定时炸弹" class="headerlink" title="绑定事件的应用(可以立即为一颗定时炸弹)"></a>绑定事件的应用(可以立即为一颗定时炸弹)</h5><ul><li>事件名</li><li>事件的回调函数</li><li>声明事件对象参数</li><li><strong>获取数据</strong>的一方</li><li>对比其他<ul><li>PubSub:<strong>订阅者</strong></li><li>Vue: <code>$on()</code></li></ul></li></ul><h5 id="触发事件-可以理解为炸弹引爆器-告诉炸弹是否引爆"><a href="#触发事件-可以理解为炸弹引爆器-告诉炸弹是否引爆" class="headerlink" title="触发事件(可以理解为炸弹引爆器-告诉炸弹是否引爆)"></a>触发事件(可以理解为炸弹引爆器-告诉炸弹是否引爆)</h5><ul><li>事件名</li><li>传入事件对象</li><li><strong>提供数据</strong>的一方</li><li>对比其他<ul><li>1.PubSub:<strong>发布</strong></li><li>2.Vue: <code>$emit</code></li></ul></li></ul><h5 id="添加订阅-类似于-on"><a href="#添加订阅-类似于-on" class="headerlink" title="添加订阅(类似于$on)"></a>添加订阅(类似于$on)</h5><ul><li><p>语法格式</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">PubSub</span>.</span></span>subscribe(<span class="hljs-string">&quot;发布消息的名称&quot;</span>,回调函数)<br></code></pre></td></tr></table></figure></li><li><p>简单理解为<code>PubSub.subscribe(&quot;要订阅的公众号&quot;,回调函数)</code></p></li></ul><p><strong>注意</strong>: </p><ul><li>回调函数会传入二个参数<ul><li>参数1为: <strong>发布消息的名称</strong> (不管用不用,都必须接收并占位!否者收不到第二个参数)</li><li>参数2为: 即为发布订阅传递过来的消息</li></ul></li><li>注意:<ul><li>回调函数当中的第一个参数不管用不用,都需要进行占位</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//Two.vue</span><br>&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;border: 1px solid blue&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Two-测试pubsub-js<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">    &#123;&#123; content &#125;&#125;</span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">PubSub</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;pubsub-js&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">content</span>: <span class="hljs-string">&quot;&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">     <span class="hljs-comment">//添加订阅(类似于$on),消息名称为&#x27;tellMeSome&#x27;,绑定的回调为&#x27;tell&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title class_">PubSub</span>.<span class="hljs-title function_">subscribe</span>(<span class="hljs-string">&quot;tellMeSome&quot;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">tell</span>);</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">methods</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//回调函数,第一个参数必须要写,否者第二个传递过来的参数接收不到</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">tell</span>(<span class="hljs-params">msg, content</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg); <span class="hljs-comment">//输出tellMeSome</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;有人告诉了我&quot;</span>, content);</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> = content;</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><br></code></pre></td></tr></table></figure><h5 id="发布订阅-类似于-emit"><a href="#发布订阅-类似于-emit" class="headerlink" title="发布订阅(类似于$emit)"></a>发布订阅(类似于$emit)</h5><ul><li><p>语法格式</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">PubSub</span>.</span></span>publish(<span class="hljs-string">&quot;发布消息的名称&quot;</span>,传递的参数)<br></code></pre></td></tr></table></figure></li><li><p>简单理解为<code>PubSub.subscribe(&quot;公众号名称&quot;,&quot;传输给用户的文章&quot;)</code></p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//One.vue</span><br>&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;border:1px solid red&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>One-测试pubsub-js<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;itellyou&quot;</span>&gt;</span>单击我告诉Two<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">PubSub</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;pubsub-js&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;One&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">methods</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">itellyou</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">       <span class="hljs-comment">//发布订阅,并传入数据&#x27;Two你好,我是One,来测试pubsub的&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-title class_">PubSub</span>.<span class="hljs-title function_">publish</span>(<span class="hljs-string">&quot;tellMeSome&quot;</span>, <span class="hljs-string">&quot;Two你好,我是One,来测试pubsub的&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;less&quot;</span> <span class="hljs-attr">scoped</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><h5 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h5><p>单击后显示文字,传递信息成功</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205171921133.png" alt="单击后显示文字,传递信息成功"></p><h4 id="插槽"><a href="#插槽" class="headerlink" title="插槽"></a>插槽</h4><p>作用: 让父组件可以向子组件指定位置插入html结构,适用于父组件 到 子组件</p><p>适合在多个组件当中,有一部分内容相同,部分内容不同的情况下使用,如下面这种情况就很适合,<strong>3个组件都有按钮,但是按钮下方的内容是不同的</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205171925975.png" alt="3个组件都有按钮,但是按钮下方的内容是不同的"></p><h5 id="默认插槽"><a href="#默认插槽" class="headerlink" title="默认插槽"></a>默认插槽</h5><p>关键: <code>slot</code>标签什么属性都没有的,就一个纯标签</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript">父组件<br>&lt;<span class="hljs-title class_">Son</span>&gt;<br>    &lt;!--使用默认插槽--&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">    我是html结构</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br>&lt;/<span class="hljs-title class_">Son</span>&gt;<br>或者省略默认template<br>&lt;<span class="hljs-title class_">Son</span>&gt;<br>    &lt;!--使用默认插槽--&gt;<br>    我是html结构<br>&lt;/<span class="hljs-title class_">Son</span>&gt;<br><br><br>子组件<br>&lt;template&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!--定义插槽--&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span>插槽默认内容(没有被使用的默认显示内容)<span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><h5 id="具名插槽"><a href="#具名插槽" class="headerlink" title="具名插槽"></a>具名插槽</h5><p>理解: <code>slot</code>是含有<code>name</code>属性的标签</p><p>关键: 父组件使用具名插槽是关键是添加属性<code>slot=&quot;插槽名称(对应插槽slot的name属性值)&quot;</code> 或者 <code>v-slot:插槽名称</code></p><ul><li>不过vue3不推荐使用<code>slot</code>属性去使用具名插槽,而是使用<code>v-slot</code>属性去使用具名插槽</li><li>跟 v-on 和 v-bind 一样，v-slot 也有缩写。<ul><li><code>v-slot:</code> 替换为字符<code> #</code></li><li>例如 v-slot:header 可以被简写为 <code>#header</code></li></ul></li></ul><p><strong>父组件</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>我是父亲<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Son</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">        <span class="hljs-comment">&lt;!-- slot=&quot;xxx&quot;使用具名插槽 --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&quot;one&quot;</span>&gt;</span></span><br><span class="language-xml">            我会更换具名插槽的内容</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">或者v-slot:one</span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:one</span>&gt;</span></span><br><span class="language-xml">            我会更换具名插槽的内容</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">Son</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Son</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./Son.vue&quot;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;&#x27;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">components</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-title class_">Son</span></span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><br></code></pre></td></tr></table></figure><p><strong>子组件</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-comment">&lt;!-- 具名插槽 --&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;one&quot;</span>&gt;</span></span><br><span class="language-xml">          我是具名插槽的默认内容</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><h5 id="作用域插槽"><a href="#作用域插槽" class="headerlink" title="作用域插槽"></a>作用域插槽</h5><p>理解: </p><ul><li>slot是含有<strong>绑定数据的标签</strong>,并且父组件可以拿到子组件的数据(通过slot给父亲),传递数据的方式类似于props通信结构</li><li>数据在组件的自身,但根据数据生成的结构需要组件的使用者来决定<ul><li>像element-ui当的<code>&lt;el-table-column&gt;&lt;/el-table-column&gt;</code>就需要我们使用作用域插槽来决定结构</li></ul></li></ul><p>关键: 父组件使用具名插槽是关键是添加属性<code>slot-scope=&quot;&quot;</code> 或者 <code>slot=&quot;&quot;</code> </p><p><strong>父组件</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>我是父亲<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Son</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-comment">&lt;!-- 使用作用域插槽 --&gt;</span></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 传递过来的完整数据其实是一个对象,这里使用了解构赋值 --&gt;</span></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 接收从插槽当中传递过来的数据,并使用解构赋值接收 --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">slot-scope</span>=<span class="hljs-string">&quot;&#123;games&#125;&quot;</span>&gt;</span></span><br><span class="language-xml">            &#123;&#123;games&#125;&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">Son</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Son</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./Son.vue&quot;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;&#x27;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">components</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-title class_">Son</span></span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><br></code></pre></td></tr></table></figure><p><strong>子组件</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 作用域插槽 --&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">:games</span>=<span class="hljs-string">&quot;games&quot;</span>&gt;</span> 我是作用域插槽默认内容 <span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">games</span>: [<span class="hljs-string">&quot;穿越火线&quot;</span>, <span class="hljs-string">&quot;英雄联盟&quot;</span>, <span class="hljs-string">&quot;王者荣耀&quot;</span>, <span class="hljs-string">&quot;战地之王&quot;</span>],</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>输出示例</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205172027146.png" alt="作用域插槽"></p><h4 id="vuex-不使用模块化"><a href="#vuex-不使用模块化" class="headerlink" title="vuex(不使用模块化)"></a>vuex(不使用模块化)</h4><h5 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h5><ul><li><p>对于vue2: <code>npm install vuex@3 --save</code></p></li><li><p>对于vue3: <code>npm install vuex --save</code></p></li><li><p>查看vue版本</p><ul><li><p>打开你的package.json文件夹就可以看到</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205172032563.png" alt="查看vue是2.x还是3.x"></p></li></ul></li><li><p>查看npm当中vuex的所有版本 <code>npm view vuex versions</code></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205172031131.png" alt="查看vuex所有版本"></p></li></ul><h5 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h5><ol><li><p>添加store文件夹并在里面建立<code>index.js</code>文件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex&quot;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>);<br><span class="hljs-keyword">const</span> state = &#123; ... &#125;<br><span class="hljs-keyword">const</span> mutations = &#123; ... &#125;<br><span class="hljs-keyword">const</span> actions = &#123; ... &#125;<br><span class="hljs-keyword">const</span> getters = &#123; ... &#125;<br><span class="hljs-comment">//别忘记new Vuex.Store(配置对象)了!</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>    state,<br>    mutations,<br>    actions,<br>    getters<br>&#125;)<br></code></pre></td></tr></table></figure></li><li><p><strong>主入口</strong>文件<code>main.js</code>引入store文件夹的<code>index.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/store&quot;</span><br>或者<br><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/store/index.js&quot;</span><br><br>添加到vue的配置对象当中<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>    ...<br>    store,<br>    ...<br>&#125;)<br></code></pre></td></tr></table></figure></li><li><p>其他组件可以通过<code>this.$store.dispatch(actions的方法名,传递的参数)</code>来进行调用并存储数据(如果需要传递多个参数,请封装成为对象后传递)</p></li></ol><h5 id="详细配置对象参数"><a href="#详细配置对象参数" class="headerlink" title="详细配置对象参数"></a>详细配置对象参数</h5><ul><li><p>new Vuex.Store(配置对象),配置对象当中的含义</p><ul><li><p><strong>state</strong>: 是一个<strong>包含多个属性</strong>(不包含方法)的对象,用来存储数据</p></li><li><p><strong>mutations:</strong> 是一个<strong>包含多个方法</strong>的对象,用这些方法去操作state当中的对象(也就是操作数据)</p><ul><li><strong>只接收普通的函数,不接受任何if ,for,异步函数</strong></li><li>里面的方法<strong>第一个参数</strong>为<code>state</code>(名字可以随意),为当前配置对象当中state</li><li>里面的方法<strong>第二个参数</strong>为通过<code>commit</code>方法传递过来的参数</li></ul></li><li><p><strong>actions</strong>:是一个<strong>包含多个方法</strong>的对象,这个对象里面的方法用于给其他组件去调用</p><ul><li><p><strong>可以包含if ,for , 异步函数</strong></p></li><li><p>里面的方法传入的<strong>第一个为参数</strong>content(名字可以随意),即为当前的store对象</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205172109261.png" alt="输出查看第一个参数"></p></li><li><p>里面的方法传入的<strong>第二个参数</strong>为通过dispatch传递过来的参数</p></li></ul></li><li><p><strong>getters:</strong> (类似于computed),是一个<strong>包含多个方法</strong>的对象,通过计算返回数据</p><ul><li><strong>里面的方法传入的第一个参数为state(参数名称随意)</strong>,也就是当前<code>state</code>对象</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> state = &#123;...&#125;;<br><span class="hljs-keyword">var</span> mutations = &#123;...&#125;;<br><span class="hljs-keyword">var</span> actions = &#123;...&#125;;<br><span class="hljs-keyword">var</span> getters = &#123;<br>    <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>)&#123;<br>        <br>    &#125;,<br>方法<span class="hljs-number">1</span>:<span class="hljs-function">(<span class="hljs-params">state</span>)=&gt;</span>&#123;<br><br>&#125;,<br>方法<span class="hljs-number">2</span>(state)&#123;<br><br>&#125;,<br><span class="hljs-comment">//方法2写法等同于</span><br>    <span class="hljs-comment">//只不过看你是否用到了this</span><br>    <span class="hljs-comment">//方法2:function(state)&#123;</span><br>    <span class="hljs-comment">//    </span><br>    <span class="hljs-comment">//&#125;</span><br>&#125;<br></code></pre></td></tr></table></figure></li></ul></li></ul><h5 id="使用示例1-不使用模块化"><a href="#使用示例1-不使用模块化" class="headerlink" title="使用示例1(不使用模块化)"></a>使用示例1(不使用模块化)</h5><p><strong>单击按钮后</strong>vuex的name由”李白” 变成了”动感超人”</p><p>普通组件One.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>我是One<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;gaibian&quot;</span>&gt;</span>单击我改变store当中名字<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;One&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">methods</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-title function_">gaibian</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-comment">//调用vuex当中的dispatch</span></span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">dispatch</span>(<span class="hljs-string">&quot;changName&quot;</span>,<span class="hljs-string">&quot;动感超人&quot;</span>)</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><p>store文件夹当中的index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex&quot;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>);<br><br><span class="hljs-keyword">var</span> state = &#123;<br>    <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白&quot;</span><br>&#125;<br><span class="hljs-keyword">var</span> mutations = &#123;<br>    <span class="hljs-comment">//用于改变state当中的name</span><br>    <span class="hljs-title function_">SET_NEW_NAME</span>(<span class="hljs-params">state,newValue</span>)&#123;<br>        state.<span class="hljs-property">name</span> = newValue;<br>    &#125;<br>&#125;<br><span class="hljs-comment">//用户使用this.$store.dispatch()调用的正是actions当中的方法</span><br><span class="hljs-keyword">var</span> actions = &#123;<br>    <span class="hljs-comment">//用于调用mutations当中的方法去改变name值</span><br>    <span class="hljs-comment">//使用解构赋值解构出commit</span><br>    <span class="hljs-title function_">changName</span>(<span class="hljs-params">&#123;commit&#125;,value</span>)&#123;<br>        <span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;SET_NEW_NAME&quot;</span>,value)<br>    &#125;<br>&#125;<br><span class="hljs-keyword">var</span> getters = &#123;<br><br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>    state,<br>    mutations,<br>    actions,<br>    getters<br>&#125;)<br></code></pre></td></tr></table></figure><h4 id="vuex-使用模块化"><a href="#vuex-使用模块化" class="headerlink" title="vuex(使用模块化)"></a>vuex(使用模块化)</h4><ul><li><p>其他什么都不需要改变,只需要改变下store文件夹下的index.js(主入口文件)</p></li><li><p>文件目录结构如下</p><ul><li>store<ul><li>shop(文件夹)<ul><li>address1.js</li><li>address2.js</li></ul></li><li>food(文件夹)<ul><li>vegetable.js</li><li>meat.js</li></ul></li><li>user(文件夹)<ul><li>vipuser.js</li><li>user.js</li></ul></li><li><strong>index.js(主入口文件)</strong></li></ul></li></ul></li><li><p>以后的主入口文件<code>index.js</code>只需要写成下面就可以</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex&quot;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>);<br><span class="hljs-comment">// 模块用法</span><br><br><span class="hljs-comment">//引入One.js模块</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">One</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./One.js&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>    <span class="hljs-comment">//可以用自己的下面四大类,这里没有使用而已</span><br>    <span class="hljs-comment">// state:&#123;&#125;</span><br>    <span class="hljs-comment">// mutations:&#123;&#125;,</span><br>    <span class="hljs-comment">// actions:&#123;&#125;,</span><br>    <span class="hljs-comment">// getters:&#123;&#125;,</span><br>    <span class="hljs-attr">state</span>:&#123;<br>        <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白&quot;</span><br>    &#125;,<br>    <span class="hljs-comment">//使用模块化</span><br>    <span class="hljs-attr">modules</span>:&#123;<br>        <span class="hljs-title class_">One</span><br>    &#125;<br>&#125;)<br></code></pre></td></tr></table></figure></li><li><p>One.js模块内容</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> state = &#123;<br>    <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白&quot;</span><br>&#125;<br><span class="hljs-keyword">var</span> mutations = &#123;<br>    <span class="hljs-comment">//用于改变自己state当中的name</span><br>    <span class="hljs-title function_">SET_NEW_NAME</span>(<span class="hljs-params">state,newValue</span>)&#123;<br>        state.<span class="hljs-property">name</span> = newValue;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">var</span> actions = &#123;<br>    <span class="hljs-comment">//用于调用mutations当中的方法去改变name值</span><br>    <span class="hljs-title function_">changName</span>(<span class="hljs-params">&#123;commit&#125;,value</span>)&#123;<br>        <span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;SET_NEW_NAME&quot;</span>,value)<br>    &#125;<br>&#125;<br><span class="hljs-keyword">var</span> getters = &#123;<br><br>&#125;<br><span class="hljs-comment">//别忘记暴露出现</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>    state,<br>    mutations,<br>    actions,<br>    getters<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><p>模块化后this.$store.state内容如图</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205181050351.png" alt="模块化后this.$store.state内容"></p><h6 id="模块化之前输出this-store"><a href="#模块化之前输出this-store" class="headerlink" title="模块化之前输出this.$store"></a>模块化之前输出this.$store</h6><ul><li>可以看到,state当中没有嵌套什么</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205180934024.png" alt="模块化之前输出this.$store"></p><h6 id="模块化之后输出this-store"><a href="#模块化之后输出this-store" class="headerlink" title="模块化之后输出this.$store"></a>模块化之后输出this.$store</h6><ul><li><p>可以看到,state当中嵌套了另外一个对象</p></li><li><p>可以看到,One.js暴露的内容当中的state部分成为了this.$store.state里面的对象并且One为key值,value为One.js当中的state对象的值</p></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205180938055.png" alt="模块化之后输出this.$store"></p><h6 id="模块化需要注意的点"><a href="#模块化需要注意的点" class="headerlink" title="模块化需要注意的点"></a>模块化需要注意的点</h6><ul><li><p><strong>默认情况下</strong>，模块内部的<code>action</code> 和 <code>mutation</code> (官网是这样子说的,但是我测试后发现<code>getters</code>也是注册在全局下的)  是<strong>注册在全局命名空间的</strong>(也就是会放在this.$store对应的actions,mutations,getters对象上)(<strong>所以如果不使用命名空间的话,不管有没有模块化,想调用里面的方法只需要</strong><code>this.$store.dispatch(actions当中的名称,传递的参数)</code><strong>即可调用</strong>)</p></li><li><p>如果没有使用命名空间,那么外界想调用模块当中的<code>actions</code>里面的方法,都是可以直接调用的,比如<code>One.js</code>,已经使用了模块化,但是外面想要调用actions当中的方法依旧只需要<code>this.$store.dispatch(actions当中的名称,传递的参数)</code>就可以调用!但是如果想要获取<code>One.js</code>当中<code>state</code>里面的数据,就需要多调用一层,即:<code>this.$store.One.属性名</code>才可以</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">One</span>.<span class="hljs-property">js</span>并且使用了模块化<br><br><span class="hljs-comment">//想获取One.js里面的age属性,模块化后要怎么获取?</span><br><span class="hljs-comment">//其他组件调用 this.$store.state.One.age即可</span><br><span class="hljs-keyword">var</span> state = &#123;<br>    <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白&quot;</span>,<br>    <span class="hljs-attr">age</span>:<span class="hljs-number">2000</span><br>&#125;<br><span class="hljs-keyword">var</span> mutations = &#123;...&#125;<br><span class="hljs-comment">//想调用actions当中的&#x27;changeName&#x27;</span><br><span class="hljs-comment">//在其他组件调用 this.$store.diaptch(&quot;changeName&quot;,&quot;李黑&quot;);</span><br><span class="hljs-comment">//即可调用One.js当中actions里面的changName方法</span><br><span class="hljs-keyword">var</span> actions = &#123;<br>    <span class="hljs-title function_">changName</span>(<span class="hljs-params">content,value</span>)&#123;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">var</span> getters = &#123;...&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>    state,<br>    mutations,<br>    actions,<br>    getters<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h6 id="使用命名空间-针对模块化"><a href="#使用命名空间-针对模块化" class="headerlink" title="使用命名空间(针对模块化)"></a><strong>使用命名空间(针对模块化)</strong></h6><ul><li><p>影响到<code>actions</code>和<code>getters</code>方法使用,其他<code>state,mutation</code>不受影响(因为如果不使用命名空间,后面组件调用<code>dispatch</code>方法,只要模块的actions里面有这个被调用的函数名称,就会被调用,不管你有几个重复的,都会被触发)</p></li><li><p>模块配置对象当中添加<code>namespaced:true</code>即可使用命名空间</p></li><li><p>One.js当中的内容</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> state = &#123;<br>    <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白&quot;</span>,<br>    <span class="hljs-attr">age</span>:<span class="hljs-string">&quot;100&quot;</span><br>&#125;<br><span class="hljs-keyword">var</span> mutations = &#123;<br>    <span class="hljs-comment">//用于改变state当中的name</span><br>    <span class="hljs-title function_">SET_NEW_NAME</span>(<span class="hljs-params">state,newValue</span>)&#123;<br>        state.<span class="hljs-property">name</span> = newValue;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">var</span> actions = &#123;<br>    <span class="hljs-comment">//用于调用mutations当中的方法去改变name值</span><br>    <span class="hljs-title function_">changName</span>(<span class="hljs-params">&#123;commit&#125;,value</span>)&#123;<br>        <span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;SET_NEW_NAME&quot;</span>,value)<br>    &#125;<br>&#125;<br><span class="hljs-keyword">var</span> getters = &#123;<br>    <span class="hljs-title function_">allInfo</span>(<span class="hljs-params">state</span>)&#123;<br>        <span class="hljs-keyword">return</span> state.<span class="hljs-property">name</span>+state.<span class="hljs-property">age</span>;<br>    &#125;,<br>    <span class="hljs-title function_">getOther</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;啊啊&quot;</span>;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>    <span class="hljs-comment">//使用命名空间</span><br>    <span class="hljs-attr">namespaced</span>:<span class="hljs-literal">true</span>,<br>    state,<br>    mutations,<br>    actions,<br>    getters<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>未使用命名空间如何调用actions里面方法和getters里面的方法</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//调用actions当中的changName,如果有多个changName,也会被调用</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">dispatch</span>(<span class="hljs-string">&quot;changName&quot;</span>);<br><br><span class="hljs-comment">//调用getters当中的allInfo来获取值</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">getters</span>.<span class="hljs-property">allInfo</span><br><span class="hljs-comment">//放置在标签上</span><br>&lt;span&gt;&#123;&#123;$store.<span class="hljs-property">getters</span>.<span class="hljs-property">allInfo</span>&#125;&#125;&lt;/span&gt;<br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205181159839.png" alt="没有使用命名空间之后输出this.$store从而查看getters和actions等其他"></p></li><li><p><strong>使用命名空间后如何调用actions里面方法和getters里面的方法</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//只会调用One.js文件下的actions里面的changName方法</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">dispatch</span>(<span class="hljs-string">&quot;One/changName&quot;</span>);<br><br><span class="hljs-comment">//调用getters当中的allInfo来获取值</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">getters</span>[<span class="hljs-string">&#x27;One/allInfo&#x27;</span>]<br><span class="hljs-comment">//放置在标签上</span><br>&lt;span&gt;&#123;&#123;<span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">getters</span>[<span class="hljs-string">&#x27;One/allInfo&#x27;</span>]&#125;&#125;&lt;/span&gt;<br></code></pre></td></tr></table></figure></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205181158326.png" alt="使用命名空间之后输出this.$store从而查看getters和actions等其他"></p><p>  前缀名字会和modules的key对应</p><p>  <img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205181130507.png" alt="前缀名字会和modules的key对应"></p><p>  如果key改为了OneE</p><p>  <img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205181131416.png" alt="改为了OneE"></p><p>  那么命名空间当中的名字也会改变</p><p>  <img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205181202431.png" alt="  前缀名字会和modules的key对应"></p><h4 id="vuex使用mapState和mapGetters"><a href="#vuex使用mapState和mapGetters" class="headerlink" title="vuex使用mapState和mapGetters"></a>vuex使用mapState和mapGetters</h4><ul><li><p><code>mapState</code>放在哪里?</p><ul><li>放在data肯定不行,因为data一般存放已经定义好的数据,<code>props</code>中,也不行,props一般接收通过标签属性来传递的,所以mapState放在computed当中</li></ul></li><li><p>为什么要mapState和其他的mapXXXXX(这里<strong>以不使用模块化为例</strong>)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript">假设store文件夹下方的入口文件index.<span class="hljs-property">js</span>含有下方内容<br><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex&quot;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>);<br><span class="hljs-keyword">var</span> state = &#123;<br>    <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白&quot;</span>,<br>    <span class="hljs-attr">age</span>:<span class="hljs-string">&quot;100&quot;</span>,<br>    <span class="hljs-attr">address</span>:<span class="hljs-string">&quot;地球&quot;</span><br>&#125;<br><span class="hljs-keyword">var</span> mutations = &#123;...&#125;<br><span class="hljs-keyword">var</span> actions = &#123;...&#125;<br><span class="hljs-keyword">var</span> getters = &#123;...&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>    state,<br>    mutations,<br>    actions,<br>    getters<br>&#125;);<br></code></pre></td></tr></table></figure></li><li><p>那么我有一个组件叫<code>One.vue</code>,我想<strong>获取到vuex里面的数据放在我这里组件上使用</strong>,那么要怎么使用?</p><ul><li>那么平时,我们必须要写n多个 <code>this.$store.state.xxxxx</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">One</span>.<span class="hljs-property">vue</span><br>那么我们就必须要写n多个 <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">state</span>.<span class="hljs-property">xxxxx</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;&quot;</span>,<br>  <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;&#125;,<br>  <span class="hljs-attr">components</span>: &#123;<br>    <span class="hljs-title class_">One</span>,<br>  &#125;,<br>  <span class="hljs-attr">computed</span>: &#123;<br>    <span class="hljs-title function_">name</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">state</span>.<span class="hljs-property">name</span>;<br>    &#125;,<br>    <span class="hljs-title function_">age</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">state</span>.<span class="hljs-property">age</span>;<br>    &#125;,<br>    <span class="hljs-title function_">address</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">state</span>.<span class="hljs-property">age</span>;<br>    &#125;,<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure></li></ul><h5 id="使用mapState-不使用模块化下"><a href="#使用mapState-不使用模块化下" class="headerlink" title="使用mapState(不使用模块化下)"></a>使用mapState(不使用模块化下)</h5><ul><li><p>先引入 <code>import &#123;mapState&#125; from &quot;vuex&quot;</code>; 别忘记了花括号!</p></li><li><p>使用(<strong>对象的写法</strong>)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; mapGetters &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span><br><span class="hljs-comment">// 每次会传入一个参数,这个参数一般命名为state</span><br><span class="hljs-comment">//state等同于this.$store.state的内容!!!</span><br><span class="hljs-keyword">var</span> obb = <span class="hljs-title function_">mapState</span>(&#123;<br>    <br>自定义名称:<span class="hljs-keyword">function</span>(<span class="hljs-params">state</span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(state === <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">state</span>);<span class="hljs-comment">//输出为true</span><br><span class="hljs-keyword">return</span> state.要获取的属性<br>&#125;,<br>    <span class="hljs-comment">//也可以简写</span><br>自定义名称:<span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.要获取的属性<br>&#125;)<br><br><span class="hljs-comment">//返回值为一个对象</span><br><br>比如下方代码<br><span class="hljs-keyword">var</span> myObj = <span class="hljs-title function_">mapState</span>(&#123;<br>    <span class="hljs-attr">sex</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">state</span>)&#123;<br>        <span class="hljs-keyword">return</span> state.<span class="hljs-property">sex</span>;<br>    &#125;<br>&#125;);<br><span class="hljs-comment">//再简单点可以写为</span><br><span class="hljs-keyword">var</span> myObj = <span class="hljs-title function_">mapState</span>(&#123;<br>    <span class="hljs-attr">sex</span>: <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.<span class="hljs-property">sex</span>,<br>&#125;);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myObj);<span class="hljs-comment">//&#123;sex: ƒ&#125;</span><br></code></pre></td></tr></table></figure></li><li><p>使用(<strong>数组的写法</strong>)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; mapState &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-comment">// ...</span><br>  <span class="hljs-attr">computed</span>: &#123;<br>  <span class="hljs-comment">// 使用对象展开运算符将 getter 混入 computed 对象中</span><br>    ...<span class="hljs-title function_">mapState</span>([<br>      <span class="hljs-string">&#x27;sex&#x27;</span>,<br>      <span class="hljs-string">&#x27;age&#x27;</span>,<br>      <span class="hljs-comment">// ...</span><br>    ])<br>  &#125;<br>&#125;<br><span class="hljs-comment">//代码等同于</span><br><span class="hljs-attr">computed</span>: &#123;<br>    ...<span class="hljs-title function_">mapState</span>(&#123;<br>        <span class="hljs-attr">sex</span>:<span class="hljs-function"><span class="hljs-params">state</span>=&gt;</span>state.<span class="hljs-property">sex</span>,<br>        <span class="hljs-attr">age</span>:<span class="hljs-function"><span class="hljs-params">state</span>=&gt;</span>state.<span class="hljs-property">age</span>,<br>    &#125;)<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>有了上面的代码例子,这里做一个小结</p><ul><li><code>mapState</code>一般这样子使用,传入一个对象,里面对象的<code>key</code>为自定义名称,<code>value</code>值为一个函数(因为要通过函数当中的参数获取值),并且这个<strong>函数默认</strong>有一个参数(一般取名state),<strong>并且这个参数会等于</strong><code>this.$store.state</code></li></ul></li></ul><h6 id="结合对象展开符-不使用模块化下-常用"><a href="#结合对象展开符-不使用模块化下-常用" class="headerlink" title="结合对象展开符-不使用模块化下(常用)"></a>结合对象展开符-不使用模块化下(常用)</h6><p>mapState 函数返回的是一个对象。我们如何将它与局部计算属性混合使用呢？通常，我们需要使用一个工具函数将多个对象合并为一个，以使我们可以将最终对象传给 computed 属性。但是自从有了对象展开运算符，我们可以极大地简化写法：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//简写</span><br><span class="hljs-attr">computed</span>: &#123;<br>  ...<br>  <span class="hljs-comment">// 使用对象展开运算符将此对象混入到外部对象中</span><br>  ...<span class="hljs-title function_">mapState</span>(&#123;<br>    <span class="hljs-attr">sex</span>: <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.<span class="hljs-property">sex</span>,<br>    <span class="hljs-attr">address</span>: <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.<span class="hljs-property">address</span><br>  &#125;);<br>  ...<br>&#125;<br>  <br><span class="hljs-comment">//复杂写</span><br><span class="hljs-attr">computed</span>: &#123;<br>  ...<br>  <span class="hljs-comment">// 使用对象展开运算符将此对象混入到外部对象中</span><br>  ...<span class="hljs-title function_">mapState</span>(&#123;<br>    <span class="hljs-attr">sex</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">state</span>)&#123;<br>      <span class="hljs-keyword">return</span> state.<span class="hljs-property">sex</span>;  <br>    &#125;,<br>    <span class="hljs-attr">address</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">state</span>)&#123;<br>        <span class="hljs-keyword">return</span> state.<span class="hljs-property">address</span>;<br>    &#125;<br>  &#125;);<br>  ...<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="使用mapState-使用模块化下"><a href="#使用mapState-使用模块化下" class="headerlink" title="使用mapState(使用模块化下)"></a>使用mapState(使用模块化下)</h5><ul><li><p>先引入 <code>import &#123;mapState&#125; from &quot;vuex&quot;</code>; 别忘记了花括号!</p></li><li><p>和没有使用模块化相比,对象当中多了一层寻找,也就是<code>对应的模块</code></p><ul><li><p>比如之前要寻找One.js当中的<code>sex</code>属性,我们只需要<code>this.$store.sex</code></p></li><li><p>而模块化后,我们要<code>this.$store.One.sex</code></p><ul><li>(注意,对应的模块的名称要和store文件夹下的index.js下书写的models对应)</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">One</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./One.js&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>    <span class="hljs-attr">modules</span>:&#123;<br>        <span class="hljs-title class_">One</span><br>    &#125;<br>&#125;)<br><span class="hljs-comment">//获取One.js当中的sex属性</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">One</span>.<span class="hljs-property">sex</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p>使用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 每次会传入一个参数,这个参数一般命名为state</span><br><span class="hljs-comment">//state等同于this.$store.state的内容!!!!!!!</span><br><span class="hljs-keyword">var</span> obb = <span class="hljs-title function_">mapState</span>(&#123;<br>自定义名称:<span class="hljs-keyword">function</span>(<span class="hljs-params">state</span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(state === <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">state</span>);<span class="hljs-comment">//输出为true</span><br><span class="hljs-keyword">return</span> state.对应的模块.要获取的属性<br>&#125;,<br>    <span class="hljs-comment">//也可以简写</span><br>自定义名称:<span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.对应的模块.要获取的属性<br>&#125;)<br><br><span class="hljs-comment">//返回值为一个对象</span><br><br>比如下方代码<br><span class="hljs-keyword">var</span> myObj = <span class="hljs-title function_">mapState</span>(&#123;<br>    <span class="hljs-attr">sex</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">state</span>)&#123;<br>        <span class="hljs-comment">//注意这里多了一层</span><br>        <span class="hljs-keyword">return</span> state.<span class="hljs-property">One</span>.<span class="hljs-property">sex</span>;<br>    &#125;<br>&#125;);<br><br>写简单点可以这样子写<br><span class="hljs-keyword">var</span> myObj = <span class="hljs-title function_">mapState</span>(&#123;<br>    <span class="hljs-attr">sex</span>:<span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.<span class="hljs-property">One</span>.<span class="hljs-property">sex</span>,<br>&#125;);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myObj);<span class="hljs-comment">//&#123;sex: ƒ&#125;</span><br></code></pre></td></tr></table></figure></li></ul><h6 id="结合对象展开符-使用模块化下-常用"><a href="#结合对象展开符-使用模块化下-常用" class="headerlink" title="结合对象展开符-使用模块化下(常用)"></a>结合对象展开符-使用模块化下(常用)</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//简写</span><br><span class="hljs-attr">computed</span>: &#123;<br>  ...<br>  <span class="hljs-comment">// 使用对象展开运算符将此对象混入到外部对象中</span><br>  ...<span class="hljs-title function_">mapState</span>(&#123;<br>    <span class="hljs-attr">sex</span>: <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.<span class="hljs-property">One</span>.<span class="hljs-property">sex</span>,<br>    <span class="hljs-attr">address</span>: <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.<span class="hljs-property">One</span>.<span class="hljs-property">address</span><br>  &#125;);<br>  ...<br>&#125;<br>  <br><span class="hljs-comment">//复杂写</span><br><span class="hljs-attr">computed</span>: &#123;<br>  ...<br>  <span class="hljs-comment">// 使用对象展开运算符将此对象混入到外部对象中</span><br>  ...<span class="hljs-title function_">mapState</span>(&#123;<br>    <span class="hljs-attr">sex</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">state</span>)&#123;<br>      <span class="hljs-keyword">return</span> state.<span class="hljs-property">One</span>.<span class="hljs-property">sex</span>;  <br>    &#125;,<br>    <span class="hljs-attr">address</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">state</span>)&#123;<br>        <span class="hljs-keyword">return</span> state.<span class="hljs-property">One</span>.<span class="hljs-property">address</span>;<br>    &#125;<br>  &#125;);<br>  ...<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="使用mapGetters"><a href="#使用mapGetters" class="headerlink" title="使用mapGetters"></a>使用mapGetters</h5><h6 id="先来了解下getters"><a href="#先来了解下getters" class="headerlink" title="先来了解下getters"></a>先来了解下getters</h6><p>getters和state也是一样,getters读取如果是模块化了就要多嵌套一层,其他的使用都和state一样,只不过state字换成了</p><ul><li>先来看看<strong>getters当中的使用</strong>(可以看到,getters当中的方法会默认传入参数<code>state</code>)</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> state = &#123;<br>    <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白&quot;</span>,<br>    <span class="hljs-attr">age</span>:<span class="hljs-string">&quot;100&quot;</span><br>&#125;<br><span class="hljs-keyword">var</span> getters = &#123;<br>    <span class="hljs-title function_">allInfo</span>(<span class="hljs-params">state</span>)&#123;<br>        <span class="hljs-comment">//返回值会作为allInfo的值,类似于computed的用法</span><br>        <span class="hljs-keyword">return</span> state.<span class="hljs-property">name</span>+state.<span class="hljs-property">age</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>其他对象使用getters</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//未模块化</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">getters</span>.<span class="hljs-property">allInfo</span><br><span class="hljs-comment">//模块化后</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">getters</span>.<span class="hljs-property">One</span>.<span class="hljs-property">allInfo</span>;<span class="hljs-comment">//多了一层</span><br></code></pre></td></tr></table></figure><h6 id="使用mapGetters-用不用模块都是这个"><a href="#使用mapGetters-用不用模块都是这个" class="headerlink" title="使用mapGetters(用不用模块都是这个)"></a>使用mapGetters(用不用模块都是这个)</h6><ul><li><p>数组写法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; mapGetters &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-comment">// ...</span><br>  <span class="hljs-attr">computed</span>: &#123;<br>  <span class="hljs-comment">// 使用对象展开运算符将 getter 混入 computed 对象中</span><br>    ...<span class="hljs-title function_">mapGetters</span>([<br>      <span class="hljs-comment">// ...</span><br>      <span class="hljs-string">&#x27;allInfo&#x27;</span>,<br>      <span class="hljs-comment">// ...</span><br>    ])<br>  &#125;<br>&#125;<br><br>!!!!!!!!!代码等同于(注意,只是理解上的效果,实际在这getters写是错误的是不行的!)!!!!!!!!!!!!!!<br><span class="hljs-comment">// 注意,只是理解上的效果,实际在这getters写是错误的是不行的!</span><br><span class="hljs-comment">//注意,只是理解上的效果,实际在这getters写是错误的是不行的!</span><br><span class="hljs-keyword">import</span> &#123; mapGetters &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-comment">// ...</span><br>  <span class="hljs-attr">computed</span>: &#123;<br>  <span class="hljs-comment">// 使用对象展开运算符将 getter 混入 computed 对象中</span><br>    ...<span class="hljs-title function_">mapGetters</span>(&#123;<br>        <span class="hljs-attr">allInfo</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">getters</span>)&#123;<br>            <span class="hljs-keyword">return</span> getters.<span class="hljs-property">allInfo</span><br>        &#125;<br>    &#125;)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>对象写法(<strong>如果你想将一个 getter 属性另取一个名字，使用对象形式</strong>)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; mapGetters &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-comment">// ...</span><br>  <span class="hljs-attr">computed</span>: &#123;<br>  <span class="hljs-comment">// 使用对象展开运算符将 getter 混入 computed 对象中</span><br>    ...<span class="hljs-title function_">mapGetters</span>(&#123;<br>        <span class="hljs-attr">allName</span>:<span class="hljs-string">&quot;allInfo&quot;</span><br>    &#125;)<br>  &#125;<br>&#125;<br>!!!!!!!!!代码等同于(注意,只是理解上的效果,实际在这getters写是错误的是不行的!)!!!!!!!!!!!!!!<br><span class="hljs-comment">// 注意,只是理解上的效果,实际在这getters写是错误的是不行的!</span><br><span class="hljs-comment">//注意,只是理解上的效果,实际在这getters写是错误的是不行的!</span><br><span class="hljs-keyword">import</span> &#123; mapGetters &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-comment">// ...</span><br>  <span class="hljs-attr">computed</span>: &#123;<br>  <span class="hljs-comment">// 使用对象展开运算符将 getter 混入 computed 对象中</span><br>    ...<span class="hljs-title function_">mapGetters</span>(&#123;<br>        <span class="hljs-attr">allName</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">getters</span>)&#123;<br>            <span class="hljs-keyword">return</span> getters.<span class="hljs-property">allInfo</span><br>        &#125;<br>    &#125;)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h6 id="使用mapGetters如果在命名空间下要怎么使用mapGetters"><a href="#使用mapGetters如果在命名空间下要怎么使用mapGetters" class="headerlink" title="使用mapGetters如果在命名空间下要怎么使用mapGetters"></a>使用mapGetters如果在命名空间下要怎么使用mapGetters</h6><ul><li>只可以使用<code>mapGetters</code>对象的形式!</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript">其他组件<span class="hljs-title class_">Index</span>.<span class="hljs-property">vue</span>内容<br><span class="hljs-comment">//使用mapGetters调用命名空间下的getters</span><br><span class="hljs-keyword">import</span> &#123; mapGetters &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-attr">computed</span>: &#123;<br>    ...<span class="hljs-title function_">mapGetters</span>(&#123;<br>      <span class="hljs-attr">allInfo</span>:<span class="hljs-string">&quot;One/allInfo&quot;</span><br>    &#125;)<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">One</span>.<span class="hljs-property">js</span>内容<br><span class="hljs-keyword">var</span> state = &#123;...&#125;<br><span class="hljs-keyword">var</span> mutations = &#123;...&#125;<br><span class="hljs-keyword">var</span> actions = &#123;...&#125;<br><span class="hljs-keyword">var</span> getters = &#123;<br>    <span class="hljs-title function_">allInfo</span>(<span class="hljs-params">state</span>)&#123;<br>        <span class="hljs-keyword">return</span> state.<span class="hljs-property">name</span>+state.<span class="hljs-property">age</span>;<br>    &#125;,<br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>    <span class="hljs-attr">namespaced</span>:<span class="hljs-literal">true</span>,<br>    state,<br>    mutations,<br>    actions,<br>    getters<br>&#125;<br></code></pre></td></tr></table></figure><h6 id="vue-admin-template当中明明使用了mapGetters-为什么不是对象的写法-而依旧是数组的写法"><a href="#vue-admin-template当中明明使用了mapGetters-为什么不是对象的写法-而依旧是数组的写法" class="headerlink" title="vue-admin-template当中明明使用了mapGetters,为什么不是对象的写法,而依旧是数组的写法"></a>vue-admin-template当中明明使用了mapGetters,为什么不是对象的写法,而依旧是数组的写法</h6><p>正常来说,你肯定会以为自vue-admin-template的getters是写在对应的模块上的,比如<code>One.js</code>的<code>getters</code>就写在<code>One.js</code>里面,<code>Two.js</code>的<code>getters</code>就写在<code>Two.js</code>里面,那你就错了~</p><p>vue-admin-template模板作者是将**每一个模块的getters都写在了主入口文件src\index.js当中!**其他模板根本就没有getters这个配置对象!</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205190844298.png" alt="每一个模块的getters都写在了主入口文件src\index.js当中!"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//getters.js内容</span><br><span class="hljs-keyword">const</span> getters = &#123;<br>  <span class="hljs-attr">sidebar</span>: <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.<span class="hljs-property">app</span>.<span class="hljs-property">sidebar</span>,<br>  <span class="hljs-attr">device</span>: <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.<span class="hljs-property">app</span>.<span class="hljs-property">device</span>,<br>  <span class="hljs-attr">token</span>: <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.<span class="hljs-property">user</span>.<span class="hljs-property">token</span>,<br>  <span class="hljs-attr">avatar</span>: <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.<span class="hljs-property">user</span>.<span class="hljs-property">avatar</span>,<br>  <span class="hljs-attr">name</span>: <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.<span class="hljs-property">user</span>.<span class="hljs-property">name</span>,<br>  <span class="hljs-comment">//用户角色</span><br>  <span class="hljs-attr">roles</span>: <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.<span class="hljs-property">user</span>.<span class="hljs-property">roles</span>,<br>  <span class="hljs-comment">//最终用户可拥有的路由</span><br>  <span class="hljs-attr">currentAsyncRoutes</span>: <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.<span class="hljs-property">user</span>.<span class="hljs-property">currentAsyncRoutes</span>,<br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> getters<br></code></pre></td></tr></table></figure><p>所以为什么vue-admin-template依旧可以使用mapGetters的数组写法而使用对象写法,<strong>因为人家getters绑定在了主入口文件index.js里面,并且这个index.js是没有开启命名空间的~</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">vue-admin-template其他文件组件使用mapGetters的方法<br><span class="hljs-attr">computed</span>: &#123;<br>    ...<span class="hljs-title function_">mapGetters</span>([<br>    <span class="hljs-string">&#x27;sidebar&#x27;</span>,<br>    <span class="hljs-string">&#x27;currentAsyncRoutes&#x27;</span><br>    ])<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="路由组件和非路由组件"><a href="#路由组件和非路由组件" class="headerlink" title="路由组件和非路由组件"></a>路由组件和非路由组件</h3><h4 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h4><ul><li><strong>非路由组件</strong>:定义在其他组件当中的,就叫非路由组件(不一定要注册在App.vue当中)</li><li>**路由组件:**定义,注册在路由当中的,就叫路由组件(路由组件的创建和其他非路由组件一样,只不过最后注册的时候不一样)</li><li>一般情况下<ul><li>非路由组件放在components文件夹当中</li><li>路由组件放在views或者pages文件夹当中</li></ul></li><li><strong>路由组件在切换的时候会被销毁,显示的时候重新创建(所以路由组件的生命周期会被重新执行)</strong></li></ul><h4 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h4><ul><li>安装<ul><li><strong>vue2</strong>: <code>npm install vue-router@3 --save</code></li><li><strong>vue3</strong>: <code>npm install vue-router --save</code></li></ul></li><li>src当中建立router文件夹,里面含有<strong>主入口</strong>文件<code>index.js</code></li></ul><p>index.js内容(src&#x2F;router&#x2F;index.js)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">VueRouter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-router&quot;</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">VueRouter</span>);<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/src/views/Home&quot;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">VueRouter</span>(&#123;<br>    <span class="hljs-attr">routes</span>:[<br>        ...<br>        &#123;<br>            <span class="hljs-attr">path</span>:<span class="hljs-string">&quot;/home&quot;</span>,<br>            <span class="hljs-attr">component</span>:<span class="hljs-title class_">Home</span><br>        &#125;,<br>        ....<br>        <span class="hljs-comment">//重定向</span><br>        <span class="hljs-comment">//浏览器输入http://localhost/就会自动跳转到http://localhost/home</span><br>        <span class="hljs-comment">//&#123;</span><br>        <span class="hljs-comment">//   path:&quot;/&quot;,</span><br>        <span class="hljs-comment">//    redirect:&quot;/home&quot;</span><br>        <span class="hljs-comment">//&#125;</span><br>    ]<br>&#125;)<br></code></pre></td></tr></table></figure><ul><li><code>main.js</code>当中配置对象添加index.js暴露出的内容</li></ul><p>main.js内容(项目主入口文件)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span><br><br><span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/router&quot;</span><br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  router,<br>&#125;).$mount(<span class="hljs-string">&#x27;#app&#x27;</span>)<br><br></code></pre></td></tr></table></figure><ul><li><strong>别忘记了在<code>App.vue</code>添加<code>&lt;router-view&gt;&lt;/router-view&gt;</code>哦,不然你就算创建了路由没有设置这个也没有用~</strong></li></ul><p>App.vue内容</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">router-view</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">router-view</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;App&#x27;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><p>Home.vue内容(src&#x2F;views&#x2F;Home.vue)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>我是Home<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Home&#x27;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><p>地址栏输入<code>xxxx/home就会显示</code></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205182100618.png"></p><h4 id="二级路由-三级路由-四级路由-n级路由"><a href="#二级路由-三级路由-四级路由-n级路由" class="headerlink" title="二级路由,三级路由,四级路由,,,n级路由"></a>二级路由,三级路由,四级路由,,,n级路由</h4><p>关键在于配置对象当中<code>children:[]</code>,</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">routes</span>:[<br><span class="hljs-comment">//一级路由</span><br>&#123;<br><span class="hljs-attr">path</span>:<span class="hljs-string">&quot;/home&quot;</span>,<br><span class="hljs-attr">component</span>:<span class="hljs-title class_">Home</span>,<br><span class="hljs-comment">//二级路由</span><br><span class="hljs-attr">children</span>:[<br>&#123;<br><span class="hljs-comment">// path:&quot;/home/messsage&quot;或者下面这一行</span><br><span class="hljs-attr">path</span>:<span class="hljs-string">&quot;message&quot;</span>,<span class="hljs-comment">//注意: 不需要再写 &#x27;/&#x27;</span><br>                <span class="hljs-attr">component</span>:<span class="hljs-title class_">Message</span>,<br>                <span class="hljs-comment">//三级路由</span><br>                <span class="hljs-attr">children</span>:[<br>                    &#123;<br>                        <span class="hljs-comment">// path:&quot;/home/messsage/info&quot;或者下面这一行</span><br>                        <span class="hljs-attr">path</span>:<span class="hljs-string">&quot;info&quot;</span>,<br>                        <span class="hljs-attr">component</span>:<span class="hljs-title class_">Info</span><br>                    &#125;<br>                ]<br>&#125;<br>]<br>&#125;,<br>&#123;<br><span class="hljs-attr">path</span>:<span class="hljs-string">&quot;/about&quot;</span>,<br><span class="hljs-attr">component</span>:<span class="hljs-title class_">About</span><br>&#125;,<br><br><span class="hljs-comment">//重定向,默认路由</span><br>&#123;<br><span class="hljs-attr">path</span>:<span class="hljs-string">&quot;/&quot;</span>,<br><span class="hljs-attr">redirect</span>:<span class="hljs-string">&quot;/home&quot;</span><br>&#125;<br>]<br></code></pre></td></tr></table></figure><h4 id="路由链接和路由切换标签-就是单击后切换路由组件和显示路由组件"><a href="#路由链接和路由切换标签-就是单击后切换路由组件和显示路由组件" class="headerlink" title="路由链接和路由切换标签(就是单击后切换路由组件和显示路由组件)"></a>路由链接和路由切换标签(就是单击后切换路由组件和显示路由组件)</h4><p><code>&lt;router-link to=&quot;切换的路由路径&quot;&gt;文本&lt;/router-link&gt; </code>用户点击的链接,经过vue编译后会生成一个超链接,会跳转到<code>to</code>内容</p><p><strong>例子:</strong> 单击标签就会跳转到<code>/food</code>路由</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//路由表</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">VueRouter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-router&quot;</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">VueRouter</span>);<br><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/views/Home&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Food</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/views/Food&quot;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">VueRouter</span>(&#123;<br>    <span class="hljs-attr">routes</span>:[<br>        &#123;<br>            <span class="hljs-attr">path</span>:<span class="hljs-string">&quot;/home&quot;</span>,<br>            <span class="hljs-attr">component</span>:<span class="hljs-title class_">Home</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-attr">path</span>:<span class="hljs-string">&quot;/&quot;</span>,<br>            <span class="hljs-attr">redirect</span>:<span class="hljs-string">&quot;/home&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-attr">path</span>:<span class="hljs-string">&quot;/food&quot;</span>,<br>            <span class="hljs-comment">// component:() =&gt; import(&quot;@/views/Food&quot;),</span><br>            <span class="hljs-attr">component</span>:<span class="hljs-title class_">Food</span><br>        &#125;<br>    ]<br>&#125;)<br><br><br><span class="hljs-comment">//Home.vue</span><br><br>&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是Home<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/food&quot;</span>&gt;</span>用户点击的链接 <span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span> </span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  <br>&lt;/template&gt;<br><br><span class="hljs-comment">//Food.vue</span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是Food<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">  </span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Food&#x27;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><h4 id="声明式导航和编程式导航"><a href="#声明式导航和编程式导航" class="headerlink" title="声明式导航和编程式导航"></a>声明式导航和编程式导航</h4><ul><li><p><strong>声明式导航:</strong> <code>&lt;router-link to=&quot;路径&quot;&gt;&lt;/router-link&gt;</code></p></li><li><p><strong>编程式导航:</strong> 运用<code>this.$router.push</code> 或者 <code>this.$router.replace</code>等实现跳转</p></li><li><p>声明式导航占用资源多,编程式导航占用资源少,所以推荐使用编程式导航</p></li><li><p><strong>this.$router代表路由器 - 我理解为统一管理路由的管理者</strong> </p><ul><li><p>router是VueRouter的一个对象，通过Vue.use(VueRouter)和VueRouter构造函数得到一个router的实例对象，这个对象中是一个全局的对象，<strong>他(this.$router)包含了所有的路由和包含了许多关键的对象和属性</strong>。</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205182130028.png" alt="输出this.$router"></p></li><li><p><code>this.$router</code>一些常见的方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-number">1.</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">$router</span>.<span class="hljs-title function_">push</span>(path): 相当于点击路由链接(可以返回到当前路由界面)<br><span class="hljs-number">2.</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">$router</span>.<span class="hljs-title function_">replace</span>(path): 用新路由替换当前路由(不可以返回到当前路由界面)<br><span class="hljs-number">3.</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">$router</span>.<span class="hljs-title function_">back</span>(): 请求(返回)上一个记录路由<br><span class="hljs-number">4.</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">$router</span>.<span class="hljs-title function_">go</span>(-<span class="hljs-number">1</span>): 请求(返回)上一个记录路由<br><span class="hljs-number">5.</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">$router</span>.<span class="hljs-title function_">go</span>(<span class="hljs-number">1</span>): 请求下一个记录路由<br></code></pre></td></tr></table></figure></li></ul></li><li><p><strong>this.$route代表当前路由对象</strong></p><ul><li><p><code>$route</code>是当前激活的路由,包含了当前激活的路由状态信息,它包含了当前URL解析得到的信息.</p></li><li><p>在<code>http://localhost/home</code>下输出<code>this.$route</code></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205182131472.png" alt="输出this.$route"></p></li></ul></li></ul><h5 id="使用编程式导航"><a href="#使用编程式导航" class="headerlink" title="使用编程式导航"></a>使用编程式导航</h5><ul><li>示例如下</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;div&gt;<br>   <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是Home<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>   <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;$router.push(&#x27;/food&#x27;)&quot;</span>&gt;</span>跳转到food<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&lt;/div&gt;<br><br><span class="hljs-comment">//等同于</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是Home<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/food&quot;</span>&gt;</span>跳转到food<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h4 id="路由传参props和query和params"><a href="#路由传参props和query和params" class="headerlink" title="路由传参props和query和params"></a>路由传参props和query和params</h4><ul><li>在不同路由当中,可以存储一定的参数信息,比如下面这张图,就可以看到<code>/home</code>这个路由对象里面有很多参数,我们这里关注<code>query</code>和<code>params</code></li></ul><p>控制台输出this.$route,如下图</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205182131472.png" alt="输出this.$route"></p><h5 id="query方式传参"><a href="#query方式传参" class="headerlink" title="query方式传参"></a>query方式传参</h5><ol><li><p>直接在路径后面接上去,就如同发送ajax请求的时候后面携带的?aa&#x3D;bb&amp;cc&#x3D;dd一样</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//比如声明式导航跳转到/home的时候带了参数</span><br>&lt;router-link :to=<span class="hljs-string">&quot;`/home/message/msgdetail?id=$&#123;ms.id&#125;&amp;msg=$&#123;ms.msg&#125;`&quot;</span>&gt;&#123;&#123;ms.<span class="hljs-property">msg</span>&#125;&#125;&lt;/router-link&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/food?name=茄子&amp;weight=1&quot;</span>&gt;</span>跳转到food并且携带query参数<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span></span><br><span class="hljs-comment">//编程式导航</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;$router.push(&#x27;/food?name=茄子&amp;weight=1&#x27;)&quot;</span>&gt;</span>跳转到food并且携带query参<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br></code></pre></td></tr></table></figure></li><li><p>使用对象的形式传递query参数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//声明式导航</span><br>&lt;router-link :to=<span class="hljs-string">&quot;&#123;path:&#x27;/food&#x27;,query:&#123;name:&#x27;茄子&#x27;,weight:1&#125;&#125;&quot;</span>&gt;跳转到food并且携带query参数&lt;/router-link&gt;<br><span class="hljs-comment">//编程式导航</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;$router.push(&#123;path:&#x27;/food&#x27;,query:&#123;name:&#x27;茄子&#x27;,weight:1&#125;&#125;)&quot;</span>&gt;</span>跳转到food并且携带query参数<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br></code></pre></td></tr></table></figure></li></ol><p>携带query参数后打印输出<code>food</code>的<code>this.$route</code></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205182149645.png" alt="携带query参数后打印输出`food`的`this.$route`"></p><h5 id="params方式传参"><a href="#params方式传参" class="headerlink" title="params方式传参"></a>params方式传参</h5><p><strong>重要,重要!很重要!</strong></p><blockquote><p>必须要在路由当中提前占位,否者就是跳转到别的路由了!!!!!!!!!!!!!!!!!!!!!!!!!!!</p></blockquote><blockquote><p>特别注意：路由携带<a href="https://so.csdn.net/so/search?q=params&spm=1001.2101.3001.7020">params</a>参数时，若使用to的对象写法，则不能使用path配置项，必须使用name配置！</p></blockquote><blockquote><p>path: “&#x2F;food&#x2F;:foodname&#x2F;:foodweight”,如果这样子填写了,后面访问这个路由就必须要添加这二个参数,比如&#x2F;food&#x2F;vegetable&#x2F;1</p><p>不可以少写也不可以漏写,否者访问不了参数</p><p>如果需要想写想不写,就可以在占位后面添加一个”?”,比如path: “&#x2F;food&#x2F;:foodname?&#x2F;:foodweight?”就代表这二个参数可写可不写,输入&#x2F;food&#x2F;vegetable或者&#x2F;food或者&#x2F;food&#x2F;vegetable&#x2F;1都可以跳转到指定路由</p></blockquote><p><strong>路由占位和name配置</strong></p><p>占位格式: <code>:key值</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/views/Home&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Food</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/views/Food&quot;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">VueRouter</span>(&#123;<br>    <span class="hljs-attr">routes</span>:[<br>        ...<br>        &#123;<br>            <span class="hljs-comment">//使用params参数必须要写name,不可以使用path了!!!!</span><br>            <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;food&quot;</span>,<br>            <span class="hljs-comment">//路由占位</span><br>            <span class="hljs-comment">//对应路由组件的this.$route当中params对象的key值</span><br>            <span class="hljs-attr">path</span>:<span class="hljs-string">&quot;/food/:foodname/:foodweight&quot;</span>,<br>            <span class="hljs-attr">component</span>:<span class="hljs-title class_">Food</span>,<br>        &#125;<br>        ...<br>    ]<br>&#125;)<br></code></pre></td></tr></table></figure><ol><li><p>格式就类似于<code>/food/茄子/1</code>这种</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 声明式导航</span><br>&lt;router-link to=<span class="hljs-string">&quot;/food/qiezi/1/&quot;</span>&gt;跳转到food并且携带params参数&lt;/router-link&gt;<br><br><span class="hljs-comment">// 编程式导航  注意这里是通过name跳转,使用了params传参,就必须要用name进行跳转</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;$router.push(&#123;name:&#x27;food&#x27;,params:&#123;foodname:&#x27;qiezi&#x27;,foodweight:1&#125;&#125;)&quot;</span>&gt;</span>跳转到food并且携带params参数<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br></code></pre></td></tr></table></figure></li></ol><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205182206798.png" alt="携带params参数后打印输出`food`的`this.$route`"></p><h5 id="路由当中的meta"><a href="#路由当中的meta" class="headerlink" title="路由当中的meta"></a>路由当中的meta</h5><p>我们可以看到,输出<code>this.$route</code>的时候,除了可以看到<code>query</code>和 <code>params</code>这二个经常使用的对象,还可以看到<code>meta</code>这个对象</p><ul><li>作用如下</li></ul><blockquote><p>给每个路由添加一个自定义的meta对象，在meta对象中可以设置一些状态，来进行一些操作。经常用它来做登录校验</p></blockquote><p><strong>设置meta直接在注册路由组件的时候设置</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">VueRouter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-router&quot;</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">VueRouter</span>);<br><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/views/Home&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Food</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/views/Food&quot;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">VueRouter</span>(&#123;<br>    <span class="hljs-attr">routes</span>:[<br>        &#123;<br>            <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;food&quot;</span>,<br>            <span class="hljs-attr">path</span>:<span class="hljs-string">&quot;/food/:foodname/:foodweight&quot;</span>,<br>            <span class="hljs-attr">component</span>:<span class="hljs-title class_">Food</span>,<br>            <span class="hljs-comment">//使用meta</span><br>            <span class="hljs-attr">meta</span>:&#123;<br>                <span class="hljs-attr">isShow</span>:<span class="hljs-literal">true</span><br>            &#125;<br>        &#125;<br>    ]<br>&#125;)<br></code></pre></td></tr></table></figure><p><strong>后面想要读取也很简单,就在当前路由组件输出<code>this.$route.meta</code>即可获取</strong></p><h4 id="路由props配置对象的配置"><a href="#路由props配置对象的配置" class="headerlink" title="路由props配置对象的配置"></a>路由props配置对象的配置</h4><p>使用路由props配置对象,可以使得组件可以更加方便的接收参数</p><h5 id="props配置对象传入一个对象-死数据"><a href="#props配置对象传入一个对象-死数据" class="headerlink" title="props配置对象传入一个对象(死数据)"></a>props配置对象传入一个对象(死数据)</h5><ul><li>只能映射传递额外的静态的数据,一般不用</li></ul><p><strong>src\index.js配置</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">VueRouter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-router&quot;</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">VueRouter</span>);<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Food</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/views/Food&quot;</span><br><span class="hljs-keyword">const</span> router = <span class="hljs-keyword">new</span> <span class="hljs-title class_">VueRouter</span>(&#123;<br>    <span class="hljs-attr">routes</span>: [<br>        &#123;<br>            <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;food&quot;</span>,<br>            <span class="hljs-attr">path</span>:<span class="hljs-string">&quot;/food&quot;</span>,<br>            <span class="hljs-attr">component</span>: <span class="hljs-title class_">Food</span>,<br>            <span class="hljs-comment">//props为一个对象</span><br>            <span class="hljs-attr">props</span>:&#123;<br>                <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白&quot;</span>,<br>                <span class="hljs-attr">sex</span>:<span class="hljs-string">&quot;男&quot;</span>,<br>                <span class="hljs-attr">age</span>:<span class="hljs-string">&#x27;100&#x27;</span><br>            &#125;<br>        &#125;<br>    ]<br>&#125;);<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router;<br></code></pre></td></tr></table></figure><p><strong>Food.vue接收</strong></p><p>对象当中有什么字段,Food.vue就使用props配置对象接收什么字段</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是Food<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Food&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">//接收路由src\index.js为food配置的props参数</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">props</span>:[<span class="hljs-string">&quot;name&quot;</span>,<span class="hljs-string">&quot;sex&quot;</span>,<span class="hljs-string">&quot;age&quot;</span>],</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h5 id="props配置对象传入一个布尔值"><a href="#props配置对象传入一个布尔值" class="headerlink" title="props配置对象传入一个布尔值"></a>props配置对象传入一个布尔值</h5><ul><li><p>把路径<code>params</code>参数映射为要显示的组件内属性</p></li><li><p>布尔值为true，<strong>则把路由收到的所有params参数通过props传给对应组件</strong></p></li></ul><p><strong>src\index.js配置</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">VueRouter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-router&quot;</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">VueRouter</span>);<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Food</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/views/Food&quot;</span><br><span class="hljs-keyword">const</span> router = <span class="hljs-keyword">new</span> <span class="hljs-title class_">VueRouter</span>(&#123;<br>    <span class="hljs-attr">routes</span>: [<br>        &#123;<br>            <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;food&quot;</span>,<br>            <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/food/:foodname?/:foodweight?&quot;</span>,<br>            <span class="hljs-attr">component</span>: <span class="hljs-title class_">Food</span>,<br>            <span class="hljs-comment">//props为一个布尔值,且为true</span><br>            <span class="hljs-attr">props</span>:<span class="hljs-literal">true</span><br>        &#125;<br>    ]<br>&#125;);<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router;<br></code></pre></td></tr></table></figure><p><strong>Food.vue接收</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是Food<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Food&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">//接收food当中的params参数</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">//字段必须要为路由当中占位的字段一样!!!</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">props</span>:[<span class="hljs-string">&quot;foodname&quot;</span>,<span class="hljs-string">&quot;foodweight&quot;</span>],</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h5 id="props配置对象传入一个函数"><a href="#props配置对象传入一个函数" class="headerlink" title="props配置对象传入一个函数"></a>props配置对象传入一个函数</h5><ul><li>自己手动映射<code>params</code>参数和<code>query</code>参数</li><li>该函数返回的对象中的每一组key-value都会通过props传给对应组件</li></ul><p><strong>src\index.js配置</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">VueRouter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-router&quot;</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">VueRouter</span>);<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Food</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/views/Food&quot;</span><br><span class="hljs-keyword">const</span> router = <span class="hljs-keyword">new</span> <span class="hljs-title class_">VueRouter</span>(&#123;<br>    <span class="hljs-attr">routes</span>: [<br>        &#123;<br>            <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;food&quot;</span>,<br>            <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/food/:foodname?/:foodweight?&quot;</span>,<br>            <span class="hljs-attr">component</span>: <span class="hljs-title class_">Food</span>,<br>            <span class="hljs-comment">//props为一个布尔值,且为true</span><br>            <span class="hljs-comment">//$route为默认传入的一个参数(名字可以随意,这里取名$route)</span><br>            <span class="hljs-comment">//之所以取这个是因为这个参数代表着当前路由组件</span><br>            <span class="hljs-comment">//this.$route === $route</span><br>            <span class="hljs-attr">props</span>:($route)&#123;<br>            <span class="hljs-keyword">return</span> &#123;<br>                    <span class="hljs-string">&#x27;蔬菜名称&#x27;</span>:$route.<span class="hljs-property">params</span>.<span class="hljs-property">foodname</span>,<br>                    <span class="hljs-string">&#x27;蔬菜重量&#x27;</span>:$route.<span class="hljs-property">params</span>.<span class="hljs-property">foodweight</span>,<br>                    <span class="hljs-string">&#x27;谁吃&#x27;</span>:$route.<span class="hljs-property">query</span>.<span class="hljs-property">user</span><br>                &#125;<br>        &#125;<br>        &#125;<br>    ]<br>&#125;);<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router;<br></code></pre></td></tr></table></figure><p><strong>Food.vue接收</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是Food<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Food&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">//字段必须要为路由当中返回的字段名称一样!!!</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">props</span>:[<span class="hljs-string">&quot;蔬菜名称&quot;</span>,<span class="hljs-string">&quot;蔬菜重量&quot;</span>,<span class="hljs-string">&quot;谁吃&quot;</span>],</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><blockquote><p>浏览器访问<a href="http://localhost:8080/#/food/vegetable/1005?user=%E6%9D%8E%E7%99%BD">http://localhost:8080/#/food/vegetable/1005?user=李白</a></p></blockquote><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205190939051.png" alt="浏览器访问后"></p><p>其他</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205190940088.png" alt="其他"></p><h4 id="导航守卫"><a href="#导航守卫" class="headerlink" title="导航守卫"></a>导航守卫</h4><ul><li><p><strong>全局前置守卫beforeEach</strong>:</p><ul><li>为什么是单词是<code>Each</code>,那是因为全局前置守卫需要对来往的每一个路由进行过滤,所以就是单词<code>Each</code></li><li>进入任意一个路由前,必须要经过全局前置守卫(进入学校,需要经过保安审批~)</li></ul></li><li><p><strong>全局解析守卫beforeResolve</strong></p></li><li><p><strong>全局后置钩子afterEach</strong></p></li><li><p><strong>路由独享守卫beforeEnter</strong></p></li><li><p><strong>组件内的守卫(不经常使用)</strong></p><ul><li><code>beforeRouteEnter</code></li><li><code>beforeRouteUpdate</code></li><li><code>beforeRouteLeave</code></li></ul></li></ul><h5 id="全局前置守卫"><a href="#全局前置守卫" class="headerlink" title="全局前置守卫"></a>全局前置守卫</h5><p>要使用全局前置守卫,我们就需要使用到由VueRouter通过new生成的实例化对象,所以需要改改<code>store\index.js</code>,其他不用动</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">store\index.<span class="hljs-property">js</span><br><span class="hljs-comment">//本来是</span><br><span class="hljs-comment">//export default new VueRouter(&#123;...&#125;);</span><br><br><span class="hljs-comment">//需要改为</span><br><span class="hljs-keyword">const</span> router =  <span class="hljs-keyword">new</span> <span class="hljs-title class_">VueRouter</span>(&#123;...&#125;);<br><span class="hljs-comment">//全局前置守卫</span><br>router.<span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params">to,<span class="hljs-keyword">from</span>,next</span>)=&gt;</span>&#123;<br>    ...<br>&#125;)<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router;<br></code></pre></td></tr></table></figure><p><strong>beforeEach回调参数</strong></p><ul><li><strong>to:</strong> 是要去的某一个路由对象信息(目的地)</li><li>**from:**是来自的哪里的信息(起始点)</li><li><strong>next</strong>控制跳转<ul><li>中断当前路由next(false); </li><li>跳转到指定路由next(“&#x2F;“) 或者 next({path:”&#x2F;“}),会导致再次执行beforeEach进行判断</li><li>next();放行,不会再次经过beforeEach</li><li><a href="https://dreamlove.top/2022/05/16/%E5%89%8D%E7%AB%AF/vue%E5%BD%93%E4%B8%ADaddRoutes%E5%8A%A8%E6%80%81%E6%B7%BB%E5%8A%A0%E8%B7%AF%E7%94%B1%E7%99%BD%E5%B1%8F%E8%A7%A3%E5%86%B3%E5%92%8Cnext(),next()%E7%9A%84%E4%B8%80%E4%BA%9B%E5%8C%BA%E5%88%AB/">next()和next(“&#x2F;“)等其他next的区别可以看看这个文章</a></li></ul></li></ul><p><strong>beforEach例子</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript">router.<span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//从sessionStorage获取token</span><br>    <span class="hljs-keyword">let</span> token = sessionStorage.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&#x27;token&#x27;</span>);<br>    <span class="hljs-comment">//如果目的地址不为&#x27;/login&#x27;并且token不存在</span><br>    <span class="hljs-keyword">if</span> (to.<span class="hljs-property">path</span> != <span class="hljs-string">&#x27;/login&#x27;</span> &amp;&amp; !token) &#123;<br>        <span class="hljs-comment">//跳转到&#x27;/login&#x27;</span><br>        <span class="hljs-title function_">next</span>(&#123;<br>            <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/login&#x27;</span><br>        &#125;)<br>    &#125;<br>    <span class="hljs-comment">//目的地址为&#x27;/login&#x27;并且token存在</span><br>    <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-comment">//如果目的地址为&#x27;/login&#x27;并且token存在</span><br>        <span class="hljs-keyword">if</span> (to.<span class="hljs-property">path</span> == <span class="hljs-string">&#x27;/login&#x27;</span> &amp;&amp; token) &#123;<br>            <span class="hljs-comment">//跳转到&#x27;/dashboard&#x27;</span><br>            <span class="hljs-title function_">next</span>(<span class="hljs-string">&#x27;/dashboard&#x27;</span>)<br>        &#125; <br>        <span class="hljs-comment">//目的地址不为为&#x27;/login&#x27;并且token存在</span><br>        <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-title function_">next</span>()<br>        &#125;<br>    &#125;<br>&#125;)<br></code></pre></td></tr></table></figure><h5 id="路由独享守卫"><a href="#路由独享守卫" class="headerlink" title="路由独享守卫"></a>路由独享守卫</h5><p>前面的是全局前置守卫(也就是大老板router),这个是路由独享守卫,也就是属性每一个路由组件的,在进入路由组件之前进行判断是否符合条件,符合条件才让你走</p><p><strong>注意:</strong></p><p>beforeEnter 守卫 只在进入路由时触发，不会在 params、query 或 hash 改变时触发。例如，从 <code>/users/2</code> 进入到 <code>/users/3</code> 或者从 <code>/users/2#info</code> 进入到 <code>/users/2#projects</code>是不会触发的,它们只有在 <strong>从一个不同的 路由导航时，才会被触发</strong>。</p><p><strong>基本使用</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> router = <span class="hljs-keyword">new</span> <span class="hljs-title class_">VueRouter</span>(&#123;<br>    <span class="hljs-attr">routes</span>: [<br>        &#123;<br>            <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/home/:id?&quot;</span>,<br>            <span class="hljs-attr">component</span>: <span class="hljs-title class_">Home</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/&quot;</span>,<br>            <span class="hljs-attr">redirect</span>: <span class="hljs-string">&quot;/home&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;food&quot;</span>,<br>            <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/food/:foodname?/:foodweight?&quot;</span>,<br>            <span class="hljs-attr">component</span>: <span class="hljs-title class_">Food</span>,<br>            <span class="hljs-attr">meta</span>: &#123;<br>                <span class="hljs-attr">isShow</span>: <span class="hljs-literal">true</span><br>            &#125;,<br>            <span class="hljs-comment">//从http://localhost:8080/#/home?q=libai到http://localhost:8080/#/food</span><br>            <span class="hljs-comment">//会自动帮我们分离参数到对应的路由对象当中,比如这个携带了query,就帮我们把参数写到了query对象里面,并且to.path依旧为/home</span><br>            <span class="hljs-comment">//从http://localhost:8080/#/home/100到http://localhost:8080/#/food</span><br>            <span class="hljs-comment">//params依旧也会分离参数到params对象里面,不过to.path不会改变,依旧为/home/100</span><br>            <span class="hljs-attr">beforeEnter</span>:<span class="hljs-function">(<span class="hljs-params">to,<span class="hljs-keyword">from</span>,next</span>)=&gt;</span>&#123;<br><span class="hljs-keyword">if</span>(<span class="hljs-keyword">from</span>.<span class="hljs-property">path</span> === <span class="hljs-string">&#x27;/home&#x27;</span>)&#123;<br>                    <span class="hljs-title function_">next</span>();<span class="hljs-comment">//放行</span><br>                &#125;<br>                <span class="hljs-keyword">else</span>&#123;<br>                    <span class="hljs-title function_">next</span>(<span class="hljs-string">&quot;/home&quot;</span>);<br>                &#125;<br>            &#125;<br>        &#125;<br>    ]<br>&#125;);<br></code></pre></td></tr></table></figure><h5 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h5><p><strong>query参数</strong>携带在路径后面不会影响到to.path或者from.path</p><p><strong>params参数</strong>携带在路径后面会影响到to.path或者from.path</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">从<span class="hljs-attr">http</span>:<span class="hljs-comment">//localhost:8080/#/home?q=libai到http://localhost:8080/#/food</span><br>会自动帮我们分离参数到对应的路由对象当中,比如这个携带了query,就帮我们把参数写到了query对象里面,并且to.<span class="hljs-property">path</span>依旧为/home<br>从<span class="hljs-attr">http</span>:<span class="hljs-comment">//localhost:8080/#/home/100到http://localhost:8080/#/food</span><br>params依旧也会分离参数到params对象里面,不过to.<span class="hljs-property">path</span>不会改变,依旧为/home/<span class="hljs-number">100</span><br></code></pre></td></tr></table></figure><p>其他</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205182207217.png" alt="路由组件和非路由组件的最大区别"></p><h3 id="生命周期钩子"><a href="#生命周期钩子" class="headerlink" title="生命周期钩子"></a>生命周期钩子</h3><ul><li><p>生命周期,就是组件从创建到销毁期间会自动执行的函数</p></li><li><p>钩子函数</p><ul><li>在生命周期的过程中我们又很多特殊的时间段,我们希望在这些特殊的时间段对vue做一些事情,所以出现了钩子函数</li><li>钩子函数就是作者在设计vue的时候,在vue从初始化到销毁这段时间内的特定时间段给我们一些定义函数的权利</li><li>如果我们定义了钩子函数,就会执行,不定义就不会执行</li></ul></li><li><p><a href="https://blog.csdn.net/weixin_42881768/article/details/105747563">这个大佬绘制的图</a></p></li></ul><p><strong>图</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205191017822.png" alt="大佬绘制的图"></p><h4 id="大佬说的太好了-我自己总结下自己"><a href="#大佬说的太好了-我自己总结下自己" class="headerlink" title="大佬说的太好了,我自己总结下自己~"></a>大佬说的太好了,我自己总结下自己~</h4><ul><li><p><code>data,methods,计算属性,event/watch事件回调</code>在<code>created</code>的时候就已经完成了初始化,但是dom树没有完成</p></li><li><p>然后到了<code>beforeMount</code> 这里的dom树并不是真实的dom,而是虚拟的(所以你获取节点返回的是undefined)</p><ul><li>比如this.$refs.a ;&#x2F;&#x2F;返回undefined</li></ul></li><li><p>然后到了<code>mounted</code>这里的dom已经生成,可以获取到dom节点了,可以对dom进行操作了</p><ul><li><strong>mounted 不会保证所有的子组件也都一起被挂载。如果你希望等到整个视图都渲染完毕，可以在 mounted 内部使用 vm.$nextTick</strong></li><li><del>发送请求获取数据在<code>mounted</code>生命周期当中发送,<a href="https://www.bilibili.com/read/cv14696847">具体可以看看这篇文章</a></del></li><li><del>理解可能有误,删除-至于为什么需要在<code>mounted</code>当中发送,而不再<code>created</code>发送,这个博主总结的很好,<code>created</code>的时候,虽然数据和事件依旧完成了初始化操作,但是假如因为网络延迟发送的数据直到<code>mounted</code>生命周期完成后(也就是DOM生成后)才获取到,那么有什么意义呢(<strong>相当于我建房子的时候你没给我砖块,我建完了你才给我砖块去填充,没意义啊</strong>)</del></li><li>到底在哪里发送请求获取数据看了很多,说应该放在created当中,因为此时dom还没有渲染完成,这个时候发送数据就可以获取到数据用于构建dom,而说应该放mounted的说放在created当中会造成数据没有放回造成白屏,然后created的人又反驳说请求是异步的,怎么会白屏…还有人说created会产生分支,而mounted不会</li></ul><p>分支</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs abnf">//放在created<br><span class="hljs-attribute">created</span> <span class="hljs-operator">=</span>&gt; API请求 <span class="hljs-operator">=</span>&gt; 获取数据 <span class="hljs-operator">=</span>&gt; 组件重新渲染<br><br>           <span class="hljs-operator">=</span>&gt; mounted <span class="hljs-operator">=</span>&gt; 组件首次渲染<br>//放在mounted<br><span class="hljs-attribute">created</span> <span class="hljs-operator">=</span>&gt; mounted <span class="hljs-operator">=</span>&gt;  组件首次渲染 <span class="hljs-operator">=</span>&gt; API请求 <span class="hljs-operator">=</span>&gt; 获取到数据 <span class="hljs-operator">=</span>&gt; 组件重新渲染<br><br></code></pre></td></tr></table></figure></li></ul><h4 id="再次学习总结"><a href="#再次学习总结" class="headerlink" title="再次学习总结"></a>再次学习总结</h4><ul><li>我们知道,vue2的生命周期全部如下,我们重点关注前四个</li></ul><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">beforeCreate </span>创建前<br>created创建后<br><span class="hljs-keyword">beforeMounted </span>挂载前<br>mounted 挂载后<br><br><span class="hljs-keyword">beforeUpdate </span>更新前<br>updated 更新后<br><span class="hljs-keyword">beforeDestroy </span>销毁前<br>destroy 销毁后<br></code></pre></td></tr></table></figure><h5 id="beforeCreate-创建前"><a href="#beforeCreate-创建前" class="headerlink" title="beforeCreate 创建前"></a>beforeCreate 创建前</h5><ul><li>刚执行new的操作,其他什么都没有做</li></ul><h5 id="created-创建后"><a href="#created-创建后" class="headerlink" title="created 创建后"></a>created 创建后</h5><ul><li>此时<strong>属性</strong>和<strong>方法</strong>都绑定在了实例身上,但是依旧获取不到DOM</li></ul><h5 id="beforeMount-挂载前"><a href="#beforeMount-挂载前" class="headerlink" title="beforeMount 挂载前"></a>beforeMount 挂载前</h5><ul><li>数据还没有进行替换操作<ul><li>也就是<code>&#123;&#123; title &#125;&#125;</code> 没有被替换为data当中的数据</li></ul></li><li>虚拟DOM存在了(但是注意,这是虚拟的DOM,所以不可以对节点进行操作)<ul><li>所以你获取节点返回的是undefined</li></ul></li></ul><h5 id="mounted-挂载后"><a href="#mounted-挂载后" class="headerlink" title="mounted 挂载后"></a>mounted 挂载后</h5><ul><li>数据已经完成了替换操作<ul><li>也就是<code>&#123;&#123;title &#125;&#125;</code> 被替换为data当中的数据了</li></ul></li><li>虚拟DOM被替换为了真实的DOM(可以对节点进行DOM操作了)<ul><li>所以你获取节点返回的是节点信息了</li></ul></li></ul><h3 id="vue自定义指令"><a href="#vue自定义指令" class="headerlink" title="vue自定义指令"></a>vue自定义指令</h3><h4 id="自定义全局指令"><a href="#自定义全局指令" class="headerlink" title="自定义全局指令"></a>自定义全局指令</h4><ul><li><code>Vue.directive(&quot;指令名称&quot;,回调函数)</code></li><li>指令名称只能小写</li><li>回调函数包含二个参数<ul><li>参数1: 为绑定指令的节点</li><li>参数2 :为绑定指令的节点的相关信息</li></ul></li></ul><p>示例,实现小写转化为大小</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>自定义指令<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-text</span>=<span class="hljs-string">&quot;msg&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-upper</span>=<span class="hljs-string">&quot;msg&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.bootcdn.net/ajax/libs/vue/2.7.6/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//自定义全局指令</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(<span class="hljs-string">&quot;upper&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">el, bindings</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        el.<span class="hljs-property">textContent</span> = bindings.<span class="hljs-property">value</span>.<span class="hljs-title function_">toUpperCase</span>();</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">data</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-attr">msg</span>: <span class="hljs-string">&quot;i love you~ zhao li ying~&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><p>如图,输出回调函数的二个参数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(<span class="hljs-string">&quot;upper&quot;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">el,bindings</span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(el,bindings);<br>&#125;)<br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207181058691.png"></p><h4 id="自定义局部指令"><a href="#自定义局部指令" class="headerlink" title="自定义局部指令"></a>自定义局部指令</h4><ul><li>和全局指令不同的是在配置对象当中设置<code>directives</code>即可</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>自定义指令<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-text</span>=<span class="hljs-string">&quot;msg&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-upper</span>=<span class="hljs-string">&quot;msg&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.bootcdn.net/ajax/libs/vue/2.7.6/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">data</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-attr">msg</span>: <span class="hljs-string">&quot;i love you~ zhao li ying~&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 自定义局部指令</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">directives</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-title function_">upper</span>(<span class="hljs-params">el,bindings</span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">            el.<span class="hljs-property">textContent</span> = bindings.<span class="hljs-property">value</span>.<span class="hljs-title function_">toUpperCase</span>();</span></span><br><span class="language-javascript"><span class="language-xml">          &#125;</span></span><br><span class="language-javascript"><span class="language-xml">        &#125;</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><h3 id="vue自定义过滤器"><a href="#vue自定义过滤器" class="headerlink" title="vue自定义过滤器"></a>vue自定义过滤器</h3><p>示例效果图 上面为过滤前,下面为过滤后</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207181108534.png"></p><h4 id="自定义全局过滤器"><a href="#自定义全局过滤器" class="headerlink" title="自定义全局过滤器"></a>自定义全局过滤器</h4><ul><li>通过<code>Vue.filter(&quot;自定义名称&quot;,回调函数)</code></li><li>自定义名称可以驼峰也可以全小写</li><li>回调函数传入一个参数为过滤器前的值,通过<code>return</code>返回一个新值完成过滤</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>  &lt;meta charset=&quot;UTF-8&quot;&gt;<br>  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>  &lt;title&gt;Document&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>  &lt;div id=&quot;app&quot;&gt;<br>    &lt;!-- 原始格式 --&gt;<br>    &lt;p&gt;&#123;&#123;timeNow&#125;&#125;&lt;/p&gt;<br>    &lt;!-- 经过过滤器 --&gt;<br>    &lt;p&gt;&#123;&#123;timeNow | timeFormat&#125;&#125;&lt;/p&gt;<br>  &lt;/div&gt;<br>  &lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/vue/2.7.6/vue.js&quot;&gt;&lt;/script&gt;<br>  &lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/moment.js/2.29.1/moment.js&quot;&gt;&lt;/script&gt;<br>  &lt;script&gt;<br><br>    //定义全局过滤器<br>    Vue.filter(&quot;timeFormat&quot;,function(value)&#123;<br>        //传入毫秒数对其格式化后再返回<br>        return moment(value).format(&quot;YYYY-MM-DD hh:mm:ss&quot;);<br>    &#125;); <br><br>    //vue当中的过滤器可以理解成是为了让数据进一步的计算，得到最终的结果<br>    new Vue(&#123;<br>      el:&#x27;#app&#x27;,<br>      data:&#123;<br>        timeNow:Date.now()//当前时间 1970年1月1日0时分0秒到现在的毫秒数<br>      &#125;,<br><br>    &#125;)<br><br>  &lt;/script&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure><h4 id="自定义局部过滤器"><a href="#自定义局部过滤器" class="headerlink" title="自定义局部过滤器"></a>自定义局部过滤器</h4><ul><li>注意别漏掉了<code>s</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>  &lt;meta charset=&quot;UTF-8&quot;&gt;<br>  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>  &lt;title&gt;Document&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>  &lt;div id=&quot;app&quot;&gt;<br>    &lt;!-- 原始格式 --&gt;<br>    &lt;p&gt;&#123;&#123;timeNow&#125;&#125;&lt;/p&gt;<br>    &lt;!-- 经过过滤器 --&gt;<br>    &lt;p&gt;&#123;&#123;timeNow | timeFormat&#125;&#125;&lt;/p&gt;<br>  &lt;/div&gt;<br>  &lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/vue/2.7.6/vue.js&quot;&gt;&lt;/script&gt;<br>  &lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/moment.js/2.29.1/moment.js&quot;&gt;&lt;/script&gt;<br>  &lt;script&gt;<br>    //vue当中的过滤器可以理解成是为了让数据进一步的计算，得到最终的结果<br>    new Vue(&#123;<br>      el:&#x27;#app&#x27;,<br>      data:&#123;<br>        timeNow:Date.now()//当前时间 1970年1月1日0时分0秒到现在的毫秒数<br>      &#125;,<br>      filters:&#123;<br>        timeFormat(value)&#123;<br>            return moment(value).format(&quot;YYYY-MM-DD hh:mm:ss&quot;);<br>        &#125;<br>      &#125;<br>    &#125;)<br><br>  &lt;/script&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure><h3 id="其他一些问题"><a href="#其他一些问题" class="headerlink" title="其他一些问题"></a>其他一些问题</h3><h4 id="v-for为什么要用key"><a href="#v-for为什么要用key" class="headerlink" title="v.for为什么要用key"></a>v.for为什么要用key</h4><p>简单点说就是可以在后期dom发生变化的时候准确识别元素并更新,<a href="https://www.cnblogs.com/mmsmd/p/15214100.html">具体可以看看这位博主写的</a></p><h4 id="Vue-component第一个参数命名规则"><a href="#Vue-component第一个参数命名规则" class="headerlink" title="Vue.component第一个参数命名规则"></a>Vue.component第一个参数命名规则</h4><ul><li><p>说通俗点就是,使用Vue.componet有多个单词,注册和使用都使用短横线!!!</p></li><li><p>组件命名方式：驼峰式，短横线</p></li><li><p><strong>注册组件</strong>使用<strong>驼峰式命名</strong>时,使用的时候必须要使用<strong>短横线</strong>对驼峰进行分割</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;div id=<span class="hljs-string">&quot;app&quot;</span>&gt;<br>        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">shop-center</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">shop-center</span>&gt;</span></span><br>        &lt;!-- <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">shopCenter</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">shopCenter</span>&gt;</span></span> 错误的 --&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">Vue.component(&quot;shopCenter&quot;,&#123;</span><br><span class="language-xml">template:`</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://dreamlove.top/img/favicon.png&quot;</span>/&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;detail&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>手机名称<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;color:gray&quot;</span>&gt;</span>手机价格<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"> <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">`,</span><br><span class="language-xml"></span><br><span class="language-xml">&#125;);</span><br></code></pre></td></tr></table></figure><ul><li><strong>注册组件</strong>使用<strong>短横命名</strong>时,使用的时候必须要使用<strong>短横线</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;div id=<span class="hljs-string">&quot;app&quot;</span>&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">shop-center</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">shop-center</span>&gt;</span></span><br>&lt;!-- <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">shopCenter</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">shopCenter</span>&gt;</span></span> 错误的 --&gt;<br>&lt;/div&gt;<br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">component</span>(<span class="hljs-string">&quot;shop-center&quot;</span>,&#123;<br><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">&lt;div&gt;</span><br><span class="hljs-string">&lt;div&gt;</span><br><span class="hljs-string">&lt;slot&gt;</span><br><span class="hljs-string">&lt;img src=&quot;https://dreamlove.top/img/favicon.png&quot;/&gt;</span><br><span class="hljs-string">&lt;/slot&gt;</span><br><span class="hljs-string">&lt;/div&gt;</span><br><span class="hljs-string">&lt;div&gt;</span><br><span class="hljs-string">&lt;slot name=&quot;detail&quot;&gt;</span><br><span class="hljs-string">&lt;h1&gt;手机名称&lt;/h1&gt;</span><br><span class="hljs-string">&lt;h2 style=&quot;color:gray&quot;&gt;手机价格&lt;/h2&gt;</span><br><span class="hljs-string">&lt;/slot&gt;</span><br><span class="hljs-string">&lt;/div&gt;</span><br><span class="hljs-string"> &lt;/div&gt;</span><br><span class="hljs-string">`</span>,<br><br>&#125;);<br></code></pre></td></tr></table></figure><ul><li>驼峰和短横</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//驼峰式</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;myComponent&#x27;</span>,&#123;<br><span class="hljs-attr">template</span>:<span class="hljs-string">&#x27;&lt;h4&gt;组件命名&lt;/h4&gt;&#x27;</span><br>&#125;);<br><span class="hljs-comment">//短横线</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;my-component1&#x27;</span>,&#123;<br><span class="hljs-attr">template</span>:<span class="hljs-string">&#x27;&lt;h4&gt;组件命名&lt;/h4&gt;&#x27;</span><br>&#125;);<br></code></pre></td></tr></table></figure><h4 id="方法-和computed-watch的区别"><a href="#方法-和computed-watch的区别" class="headerlink" title="方法,和computed,watch的区别"></a>方法,和computed,watch的区别</h4><ul><li>方法<ul><li>页面每次重新渲染都会重新执行,性能消耗大,除非不希望有缓存的时候用</li></ul></li><li>computed<ul><li>是计算属性,依赖其他属性来计算值,并且computed的值具有缓存,只有当依赖的其他属性发生变化的时候才会重新计算</li></ul></li><li>watch<ul><li>监听到值的变化就会执行回调,在回调中可以进行一些逻辑操作</li></ul></li><li>总结<ul><li>除非不希望有数据缓存,否者都不会用方法</li><li>一般来说需要依赖别的数据来动态获取值的时候可以使用computed</li><li>对于监听来说,需要做异步操作或开销比较大的时候可以用watch</li></ul></li><li>为什么computed不能异步操作?而watch却可以?</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br> <span class="hljs-attr">computed</span>:&#123;<br>     <span class="hljs-title function_">totalMoney</span>(<span class="hljs-params"></span>)&#123;<br>         <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>             <span class="hljs-comment">//这个return的是内部的,不是外部的,所以不能异步操作</span><br>             <span class="hljs-keyword">return</span> <span class="hljs-number">100</span>;<br>         &#125;,<span class="hljs-number">1000</span>)<br>     &#125;<br> &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>watch却可以</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br> <span class="hljs-attr">watch</span>:&#123;<br>     <span class="hljs-attr">arr</span>:&#123;<br>         <span class="hljs-title function_">handle</span>(<span class="hljs-params"></span>)&#123;<br>             <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>                 <span class="hljs-comment">//更新数据</span><br>                 <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalMoney</span> = <span class="hljs-number">1000</span>;<br>             &#125;,<span class="hljs-number">1000</span>)<br>         &#125;,<br>         <span class="hljs-attr">deel</span>:<span class="hljs-literal">true</span>,<br>         <span class="hljs-attr">immediate</span>:<span class="hljs-literal">true</span>,<br>     &#125;<br> &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="数据代理"><a href="#数据代理" class="headerlink" title="数据代理"></a>数据代理</h4><ul><li>什么是数据代理<ul><li>就是通过vm(vue的实例化对象来直接操作data当中的数据),而不用通过<code>this._data</code>来修改数据</li><li>比如data当中有一个name属性,那么如果没有数据代理的话,我们需要操作就需要通过<code>this._data.name</code>属性来获取和修改</li><li>微信小程序就是没有实现数据代理,每次我们读取里面的data,都需要通过<code>this.data</code>来进行读取</li><li>这样子就简化了我们的操作</li></ul></li><li>数据代理的原理是什么<ul><li>原理就是通过<code>defineProperty</code>来给vm(vue实例对象)身上添加data当中所有的属性</li><li>并设置<code>getter</code> 和 <code>setter</code></li><li>当获取的时候就调用<code>getter</code>方法</li><li>当修改的时候就调用<code>setter</code>方法</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;李白&quot;</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-string">&quot;18&quot;</span>,<br>    <span class="hljs-attr">sex</span>: <span class="hljs-string">&quot;男&quot;</span>,<br>  &#125;;<br>&#125;,<br><span class="hljs-title function_">created</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>);<br>&#125;,<br></code></pre></td></tr></table></figure><p>输出查看this,可以看到,this里面有name,age,sex这些属性</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207172107928.png"></p>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>javscript</tag>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vue后台的一个项目遇到的一些问题和解决办法的记录</title>
    <link href="/2022/05/21/%E5%89%8D%E7%AB%AF/vue%E5%90%8E%E5%8F%B0%E7%9A%84%E4%B8%80%E4%B8%AA%E9%A1%B9%E7%9B%AE%E9%81%87%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98%E5%92%8C%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E7%9A%84%E8%AE%B0%E5%BD%95/"/>
    <url>/2022/05/21/%E5%89%8D%E7%AB%AF/vue%E5%90%8E%E5%8F%B0%E7%9A%84%E4%B8%80%E4%B8%AA%E9%A1%B9%E7%9B%AE%E9%81%87%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98%E5%92%8C%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E7%9A%84%E8%AE%B0%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<h4 id="vue使用echarts报错Error-in-mounted-hook-“TypeError-this-dom-getContext-is-not-a-function”"><a href="#vue使用echarts报错Error-in-mounted-hook-“TypeError-this-dom-getContext-is-not-a-function”" class="headerlink" title="vue使用echarts报错Error in mounted hook: “TypeError: this.dom.getContext is not a function”"></a>vue使用echarts报错Error in mounted hook: “TypeError: this.dom.getContext is not a function”</h4><ul><li>解决<ul><li>一开始是this.$refs.dom获取节点的,后面使用在<code>&lt;el-row&gt;</code>标签上就不可以,所以如果使用this.$refs进行echarts的初始化操作会报错,就<strong>使用原生dom获取节点后初始化</strong>即可</li></ul></li></ul><h4 id="elementUI-日期选择器在vue-admin中设置中文显示"><a href="#elementUI-日期选择器在vue-admin中设置中文显示" class="headerlink" title="elementUI 日期选择器在vue-admin中设置中文显示"></a>elementUI 日期选择器在vue-admin中设置中文显示</h4><ul><li><p><strong>方法</strong></p><ul><li><p>main.js文件当中</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// import locale from &#x27;element-ui/lib/locale/lang/en&#x27; // lang i18n 注释掉</span><br><span class="hljs-keyword">import</span> locale <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;element-ui/lib/locale/lang/zh-CN&#x27;</span> <span class="hljs-comment">//添加</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">ElementUI</span>, &#123; locale &#125;);<span class="hljs-comment">//添加</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p>设置前</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205142023476.png"></p></li><li><p>设置后</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205142025700.png"></p></li></ul><h4 id="moment日期插件输出格式错误"><a href="#moment日期插件输出格式错误" class="headerlink" title="moment日期插件输出格式错误"></a>moment日期插件输出格式错误</h4><ul><li>之前输出<code>console.log(moment().format(&quot;yyyy-MM-dd&quot;));</code></li><li>原来是字母问题,改为大写就可以了</li><li>之后改为<code>console.log(moment().format(&quot;YYYY-MM-DD&quot;));</code></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205142039084.png"></p><h4 id="moment获取本周-本月"><a href="#moment获取本周-本月" class="headerlink" title="moment获取本周-本月"></a>moment获取本周-本月</h4><ul><li>获取本周<ul><li><code>moment().day(1)</code>即可设置为星期一</li><li><code>moment().day(1).format(&#39;YYYY-MM-DD&#39;) </code>;&#x2F;&#x2F;输出本周星期一的日期也就是2022&#x2F;05&#x2F;09</li><li><code>moment().day(7)</code>即可设置为星期天</li><li><code>moment().day(7).format(&quot;YYYY-MM-DD&quot;)</code>;&#x2F;&#x2F;输出本周星期一的日期也就是2022&#x2F;05&#x2F;15</li></ul></li><li>获取本月1日<ul><li><code>moment().startOf(&#39;month&#39;)</code>即可获取本月一日</li><li><code>moment().startOf(&#39;month&#39;).format(&quot;YYYY-MM-DD&quot;)</code>&#x2F;&#x2F;输出本月1日也就是 2022-05-01</li></ul></li><li>获取本月结尾<ul><li><code>moment().endOf(&#39;month&#39;)</code>即可获取本月最后一天的日期</li><li><code>moment().endOf(&#39;month&#39;).format(&quot;YYYY-MM-DD&quot;)</code>&#x2F;&#x2F;输出本月最后一天,也就是 2022-05-31</li></ul></li><li>获取本日<ul><li><code>moment().startOf(&#39;day&#39;)</code></li></ul></li></ul><h4 id="明明组件是复用的-为什么echarts图表只显示一个"><a href="#明明组件是复用的-为什么echarts图表只显示一个" class="headerlink" title="明明组件是复用的,为什么echarts图表只显示一个?"></a>明明组件是复用的,为什么echarts图表只显示一个?</h4><ul><li>如图,只有左边有,为什么会这样子?</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205151026036.png"></p><ul><li><p><strong>解决</strong></p><ul><li>原来初始化的时候获取dom是<code>document.querySelector(xxxx)</code>改为<code>this.$refs.xxxx</code>即可</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205151028728.png" alt="如图"></p><ul><li><p>成功解决</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205151028128.png" alt="成功解决"></p></li></ul></li></ul><h4 id="支付的轮询"><a href="#支付的轮询" class="headerlink" title="支付的轮询"></a>支付的轮询</h4><p>代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//开始轮询</span><br><span class="hljs-keyword">if</span>(!<span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span>)&#123;<br><span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span> = <span class="hljs-built_in">setInterval</span>(<span class="hljs-keyword">async</span> () =&gt; &#123;<br><span class="hljs-keyword">let</span> result = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">$API</span>.<span class="hljs-title function_">queryPayStatus</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">orderNo</span>)<br><span class="hljs-keyword">if</span>(result.<span class="hljs-property">code</span> == <span class="hljs-number">200</span>)&#123;<br>  <span class="hljs-comment">//说明支付成功了</span><br>  <span class="hljs-comment">//清除定时器</span><br>  <span class="hljs-built_in">clearInterval</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span>);<br>  <span class="hljs-comment">//置空timer</span><br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span> = <span class="hljs-literal">null</span>;<br>  <span class="hljs-comment">//更改支付状态记录表  </span><br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">payStatu</span> = result.<span class="hljs-property">code</span>;<br>  <span class="hljs-comment">//关闭信息弹窗</span><br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">$msgbox</span>.<span class="hljs-title function_">close</span>();<br>  <span class="hljs-comment">//跳转路由</span><br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">$router</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">&quot;/paysuccess&quot;</span>);<br>&#125;<br>&#125;, <span class="hljs-number">2000</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>流程图</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205170917227.png" alt="轮询支付流程图"></p><h4 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h4><ul><li>set构造函数去重</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br><span class="hljs-keyword">var</span> tempArray = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>];<br><span class="hljs-comment">//转化为set</span><br><span class="hljs-keyword">var</span> tempSet = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(tempArray);<br><span class="hljs-comment">//set转换回来数组 - 方法1</span><br><span class="hljs-keyword">var</span> tempAfterArray1 = [...tempSet];<br><span class="hljs-comment">///set转换回来数组 - 方法2</span><br><span class="hljs-keyword">var</span> tempAfterArray2 = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(tempSet);<br><span class="hljs-comment">//[1, 2, 3, 4, 5, 6, 7]</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(tempAfterArray1);<br><span class="hljs-comment">//[1, 2, 3, 4, 5, 6, 7]</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(tempAfterArray2);<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><ul><li>普通方法(这里就说一个~)</li></ul><p><code>filter</code>和<code>indexOf</code>结合,filter为真的时候才会返回,indexOf如果找到第一个会停止寻找</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> tempArray = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>];<br><br><span class="hljs-comment">//item为当前遍历的项</span><br><span class="hljs-comment">//index为当前遍历项的索引</span><br><span class="hljs-keyword">var</span> a = tempArray.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> tempArray.<span class="hljs-title function_">indexOf</span>(item) == index;<br>&#125;)<br><span class="hljs-comment">//[1, 2, 5, 6, 7]</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br><br><span class="hljs-comment">//遍历过程</span><br>item = <span class="hljs-number">1</span>,index=<span class="hljs-number">0</span><br>tempArray.<span class="hljs-title function_">indexOf</span>(item) 返回 <span class="hljs-number">0</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span> == <span class="hljs-number">0</span> ;<span class="hljs-comment">//为true,存储&#x27;1&#x27;</span><br><br>item = <span class="hljs-number">2</span>,index=<span class="hljs-number">1</span><br>tempArray.<span class="hljs-title function_">indexOf</span>(item) 返回 <span class="hljs-number">1</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">1</span> == <span class="hljs-number">1</span> ;<span class="hljs-comment">//为true,存储&#x27;2&#x27;</span><br><br><br>item = <span class="hljs-number">5</span>,index=<span class="hljs-number">2</span><br>tempArray.<span class="hljs-title function_">indexOf</span>(item) 返回 <span class="hljs-number">2</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">2</span> == <span class="hljs-number">2</span> ;<span class="hljs-comment">//为true,存储&#x27;5&#x27;</span><br><br>item = <span class="hljs-number">5</span>,index=<span class="hljs-number">3</span><br>tempArray.<span class="hljs-title function_">indexOf</span>(item) 返回 <span class="hljs-number">2</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">2</span> == <span class="hljs-number">3</span> ;<span class="hljs-comment">//为false,不存储</span><br><br><br>item = <span class="hljs-number">6</span>,index=<span class="hljs-number">4</span><br>tempArray.<span class="hljs-title function_">indexOf</span>(item) 返回 <span class="hljs-number">4</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">4</span> == <span class="hljs-number">4</span> ;<span class="hljs-comment">//为true,存储&#x27;6&#x27;</span><br><br>item = <span class="hljs-number">6</span>,index=<span class="hljs-number">5</span><br>tempArray.<span class="hljs-title function_">indexOf</span>(item) 返回 <span class="hljs-number">4</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">4</span> == <span class="hljs-number">5</span> ;<span class="hljs-comment">//为false,不存储</span><br><br>item = <span class="hljs-number">7</span>,index=<span class="hljs-number">6</span><br>tempArray.<span class="hljs-title function_">indexOf</span>(item) 返回 <span class="hljs-number">6</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">6</span> == <span class="hljs-number">6</span> ;<span class="hljs-comment">//为true,存储&#x27;7&#x27;</span><br></code></pre></td></tr></table></figure><h4 id="element-ui当中-lt-el-table-gt-lt-x2F-el-table-gt-索引自定义"><a href="#element-ui当中-lt-el-table-gt-lt-x2F-el-table-gt-索引自定义" class="headerlink" title="element-ui当中&lt;el-table&gt;&lt;&#x2F;el-table&gt;索引自定义"></a>element-ui当中&lt;el-table&gt;&lt;&#x2F;el-table&gt;索引自定义</h4><p>关键在于为<code>type=&#39;index&#39;</code>的绑定<code>:index=&quot;自定义函数&quot;</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">el-table</span> <span class="hljs-attr">:data</span>=<span class="hljs-string">&quot;objects&quot;</span> <span class="hljs-attr">border</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;center&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;80&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;index&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:index</span>=<span class="hljs-string">&quot;indexMethod&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;索引&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;prop&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;工作地址&quot;</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">el-table</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">objects</span>: [</span></span><br><span class="language-javascript"><span class="language-xml">        &#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-attr">ID</span>: <span class="hljs-string">&quot;1&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-title class_">JobTitle</span>: <span class="hljs-string">&quot;Front Desk Coordinator&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-title class_">EmailAddress</span>: <span class="hljs-string">&quot;Sofie_Jennson149@deons.tech&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-title class_">FirstNameLastName</span>: <span class="hljs-string">&quot;Sofie Jennson&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">        &#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-attr">ID</span>: <span class="hljs-string">&quot;2&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-title class_">JobTitle</span>: <span class="hljs-string">&quot;Global Logistics Supervisor&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-title class_">EmailAddress</span>: <span class="hljs-string">&quot;Wade_Gallacher1821@elnee.tech&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-title class_">FirstNameLastName</span>: <span class="hljs-string">&quot;Wade Gallacher&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">      ],</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">methods</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//自定义索引,转化为0001,0002,0003的这种</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">indexMethod</span>(<span class="hljs-params">index</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//转字符串</span></span></span><br><span class="language-javascript"><span class="language-xml">      index = index.<span class="hljs-title function_">toString</span>();</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">while</span> (index.<span class="hljs-property">length</span> &lt; <span class="hljs-number">4</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        index = <span class="hljs-string">&quot;0&quot;</span> + index;</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">return</span> index;</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;less&quot;</span> <span class="hljs-attr">scoped</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><p>效果</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205210926510.png" alt="element-ui当中&lt;el-table&gt;&lt;/el-table&gt;索引自定义"></p><h4 id="el-table-column使用插槽并将数据绑定在v-model为什么可以实现双向绑定影响到原来数据"><a href="#el-table-column使用插槽并将数据绑定在v-model为什么可以实现双向绑定影响到原来数据" class="headerlink" title="el-table-column使用插槽并将数据绑定在v-model为什么可以实现双向绑定影响到原来数据"></a>el-table-column使用插槽并将数据绑定在v-model为什么可以实现双向绑定影响到原来数据</h4><p><strong>当初学的时候很懵懵懂懂,觉得既然把数据传递给了组件去显示,那应该影响不到原来的数据呢,为什么还会影响到原来数据</strong></p><p>例子</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">el-table</span> <span class="hljs-attr">:data</span>=<span class="hljs-string">&quot;attrForm&quot;</span> <span class="hljs-attr">border</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;EmailAddress&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;邮箱地址&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">slot-scope</span>=<span class="hljs-string">&quot;&#123; row &#125;&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-comment">&lt;!-- 为什么可以实现用户输入后data当中的数据也改变? --&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;row.EmailAddress&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-input</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">el-table</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">attrForm</span>: [</span></span><br><span class="language-javascript"><span class="language-xml">        &#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-attr">ID</span>: <span class="hljs-string">&quot;1&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-title class_">JobTitle</span>: <span class="hljs-string">&quot;Front Desk Coordinator&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-title class_">EmailAddress</span>: <span class="hljs-string">&quot;Sofie_Jennson149@deons.tech&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-title class_">FirstNameLastName</span>: <span class="hljs-string">&quot;Sofie Jennson&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">        &#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-attr">ID</span>: <span class="hljs-string">&quot;2&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-title class_">JobTitle</span>: <span class="hljs-string">&quot;Global Logistics Supervisor&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-title class_">EmailAddress</span>: <span class="hljs-string">&quot;Wade_Gallacher1821@elnee.tech&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-title class_">FirstNameLastName</span>: <span class="hljs-string">&quot;Wade Gallacher&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">      ],</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205210940806.png" alt="当初的疑问"></p><h5 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h5><p>因为element-ui当中,是按照列来传递数据的,也就是当<code>element-ui</code>遍历<code>attrForm</code>的时候,会将当前遍历项目传递给每一个<code>&lt;el-table-column&gt;</code>,所以为什么输入框当中输入的数据会影响到data</p><ul><li>首先是v-model的原因</li><li>其次就是传递的是引用数据类型<del>使用指向同一个数据</del></li></ul><p>差不多这样子图过程吧</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205071135167.png"></p><h4 id="数组哪些方法的使用不会影响数组的响应式"><a href="#数组哪些方法的使用不会影响数组的响应式" class="headerlink" title="数组哪些方法的使用不会影响数组的响应式?"></a>数组哪些方法的使用不会影响数组的响应式?</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">push</span><span class="hljs-params">()</span></span><br><span class="hljs-function"><span class="hljs-title">pop</span><span class="hljs-params">()</span></span><br><span class="hljs-function"><span class="hljs-title">shift</span><span class="hljs-params">()</span></span><br><span class="hljs-function"><span class="hljs-title">unshift</span><span class="hljs-params">()</span></span><br><span class="hljs-function"><span class="hljs-title">splice</span><span class="hljs-params">()</span></span><br><span class="hljs-function"><span class="hljs-title">sort</span><span class="hljs-params">()</span></span><br><span class="hljs-function"><span class="hljs-title">reverse</span><span class="hljs-params">()</span></span><br></code></pre></td></tr></table></figure><p>再加上一个整体替换也不会</p><p>比如<code>data</code>当中的<code>a</code>数组是响应式的,整体替换,<code>this.a</code> &#x3D; b;(b也为一个数组),也不会影响数组的响应式</p><h4 id="获取输入框的焦点"><a href="#获取输入框的焦点" class="headerlink" title="获取输入框的焦点"></a>获取输入框的焦点</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">xxx</span>.<span class="hljs-title function_">focus</span>();获取焦点<br></code></pre></td></tr></table></figure><h4 id="el-dialog的显示隐藏的控制"><a href="#el-dialog的显示隐藏的控制" class="headerlink" title="el-dialog的显示隐藏的控制"></a>el-dialog的显示隐藏的控制</h4><p><code>&lt;el-dialog&gt;&lt;/el-dialog&gt;</code>是支持.sync的写法的,比如<code>&lt;el-dialog :visible.sync=&quot;xxxx&quot;&gt;&lt;/el-dialog&gt;</code><br>    由这个<code>xxx</code>来决定这个<code>dialog</code>是否是显示还是隐藏</p><h4 id="el-form当中的el-form-item占据一行问题"><a href="#el-form当中的el-form-item占据一行问题" class="headerlink" title="el-form当中的el-form-item占据一行问题"></a>el-form当中的el-form-item占据一行问题</h4><p><code>el-form-item</code>添加下属性<code>label-width:&quot;80px&quot;</code>或者80px自己改为其他的即可</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205211003513.png" alt="前后效果"></p><p>顺带一提</p><p><code>&lt;el-input&gt;</code>改为输入框设置<code>type=&quot;textarea&quot;</code>再添加下<code>row=&quot;4&quot;即可多行输入</code></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205211004107.png" alt="type=&quot;textarea&quot;"></p><h4 id="可以使用混入mixin解决export-default过长"><a href="#可以使用混入mixin解决export-default过长" class="headerlink" title="可以使用混入mixin解决export default过长"></a>可以使用混入mixin解决export default过长</h4><p>混入,说简单就是将一个东西和另外一个东西混合在一起,注意是混合,不是替换!,比如我在一个文件里面有方法A,我混入在另外一个文件夹里面,那么另外一个文件夹就可以使用A了</p><p><strong>使用:</strong>  </p><ul><li>引入要混入的对象</li><li>配置对象添加<code>mixins:[],</code>数组当中填写引入的混入对象的名称即可</li></ul><p><strong>例子:</strong></p><p><strong>com.js</strong>(可以看到,和组件传入的配置对象基本一样)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> &#123;<br>            <span class="hljs-attr">address</span>:<span class="hljs-string">&quot;地球村&quot;</span><br>        &#125;<br>    &#125;,<br>    <span class="hljs-attr">methods</span>: &#123;<br>        <span class="hljs-title function_">sayOther</span>(<span class="hljs-params"></span>)&#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;回收装备,没区别&quot;</span>);<br>        &#125;<br>    &#125;,<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>Home.vue</strong>(混入使用com.js)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> com <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/other/com.js&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">mixins</span>:[com],</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;李白&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//调用自己的方法</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">show</span>();</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//调用混入其中的方法</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">sayOther</span>();</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);<span class="hljs-comment">//李白</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">address</span>);<span class="hljs-comment">//地球村</span></span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">methods</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">show</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;大家好,我叫&quot;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><h4 id="watch和-nextTick结合使用"><a href="#watch和-nextTick结合使用" class="headerlink" title="watch和$nextTick结合使用"></a>watch和$nextTick结合使用</h4><ul><li><strong>watch</strong>只能监视数据的变化,而因为数据变化导致的dom更新是否已经完成watch并不知道(相当于你数据一发生变化,我就执行你设置的回调函数)</li><li>而如果我们希望等待dom更新完成后在执行回调,我们就需要结合<code>$nextTick</code>使用</li><li><strong>$nextTick</strong>意思是等待下一次DOM更新后在执行回调</li><li>比如说轮播图,如果我们轮播图数据发生了变化,<code>watch</code>监视到了,如果我们立马执行操作使得轮播图重新绘制生成,<strong>那么肯定是不行的,因为dom都没有生成,轮播图怎么重新获取dom进行生成</strong>,所以我们就可以在里面添加<code>$nextTick</code>等下次DOM更新完成后执行即可</li><li><strong>顺带一提:</strong> watch支持异步请求,并且支持深度监视,computed不支持</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script src=<span class="hljs-string">&quot;https://cdn.bootcdn.net/ajax/libs/vue/2.6.14/vue.js&quot;</span>&gt;&lt;/script&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-attr">data</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;tom&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;).$mount(<span class="hljs-string">&#x27;#app&#x27;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">vm.<span class="hljs-property">name</span> = <span class="hljs-string">&quot;汤姆&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//设置新名字后立马输出里面的文本,发现输出的依旧是&#x27;tom&#x27;,而不是&#x27;汤姆&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//因为dom还没有更新完成</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(vm.<span class="hljs-property">$refs</span>.<span class="hljs-property">title</span>.<span class="hljs-property">textContent</span>); <span class="hljs-comment">// tom</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//下一次dom更新完成后输出,发送输出的是&#x27;汤姆&#x27;了</span></span></span><br><span class="language-javascript"><span class="language-xml">vm.$nextTick(<span class="hljs-function">()=&gt;</span>&#123;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(vm.<span class="hljs-property">$refs</span>.<span class="hljs-property">title</span>.<span class="hljs-property">textContent</span>); <span class="hljs-comment">// tom</span></span></span><br><span class="language-javascript"><span class="language-xml">&#125;)</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h4 id="解构赋值-和"><a href="#解构赋值-和" class="headerlink" title="解构赋值 { } 和 [ ]"></a>解构赋值 { } 和 [ ]</h4><ul><li><p><code>&#123;  &#125; </code>不多说</p></li><li><p><code>[ ]</code> 按顺序解构赋值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span>[,attr] = <span class="hljs-string">&quot;v-on:text&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;:&quot;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(attr);<span class="hljs-comment">//输出text</span><br></code></pre></td></tr></table></figure></li></ul><h4 id="vue-router配置对象当中的scrollBehavior"><a href="#vue-router配置对象当中的scrollBehavior" class="headerlink" title="vue-router配置对象当中的scrollBehavior"></a>vue-router配置对象当中的scrollBehavior</h4><p>可以使得切换路由的时候,路由滚动条可以滚动到我们想滚动的位置</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> router = <span class="hljs-keyword">new</span> <span class="hljs-title class_">VueRouter</span>(&#123;<br>    <span class="hljs-attr">mode</span>: <span class="hljs-string">&quot;history&quot;</span>,<br>    routes,<br>    <span class="hljs-comment">//每次路由切换的时候,就将滚动条滚动到最顶端</span><br>    <span class="hljs-title function_">scrollBehavior</span>(<span class="hljs-params">to, <span class="hljs-keyword">from</span>, savedPosition</span>)&#123;<br>        <span class="hljs-keyword">return</span> &#123;<span class="hljs-attr">x</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">0</span>&#125;<br>    &#125;<br>&#125;)<br></code></pre></td></tr></table></figure><h4 id="getters当中要用一个-的用处"><a href="#getters当中要用一个-的用处" class="headerlink" title="getters当中要用一个||[]  ||{} 的用处"></a>getters当中要用一个||[]  ||{} 的用处</h4><ul><li>因为有些项目需要从后台发送请求来渲染页面,但是这些数据因为网络延迟的问题肯定不能及时到达,所以就需要在到达之前使用<code>[]</code>或者<code>&#123;&#125;</code>(依据返回数据是数组还是对象来选择),来进行填充,不然你一个空字符串去参与遍历(比如<code>v-for</code>)那肯定会报错的</li><li>再者,有人会说getters的事情和我组件有什么关系,一个是仓库,一个是组件,还是有关系的,(因为组件调用了<code>mapGetters</code>来获取仓库的数据),当数据不存在的时候或者遍历一个不可以遍历的数据的时候,就会报错(虽然报错后数据显示依旧正常,是因为后期数据返回,重新渲染了~)(这叫<strong>假报错</strong>)</li><li>所以有时候为了避免假报错,就需要使用<code>||[]  ||&#123;&#125; </code></li></ul><p>比如这个</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> getters = &#123;<br>    <span class="hljs-comment">// 面包屑</span><br>    <span class="hljs-title function_">categoryView</span>(<span class="hljs-params">state</span>)&#123;<br>        <span class="hljs-keyword">return</span> state.<span class="hljs-property">skuDetailInfo</span>.<span class="hljs-property">categoryView</span>||&#123;&#125;;<br>    &#125;,<br>    <span class="hljs-comment">// 商品详情</span><br>    <span class="hljs-title function_">skuInfo</span>(<span class="hljs-params">state</span>)&#123;<br>        <span class="hljs-keyword">return</span> state.<span class="hljs-property">skuDetailInfo</span>.<span class="hljs-property">skuInfo</span>||&#123;&#125;;<br>    &#125;,<br>    <span class="hljs-comment">// 商品售卖属性</span><br>    <span class="hljs-title function_">spuSaleAttrList</span>(<span class="hljs-params">state</span>)&#123;<br>        <span class="hljs-keyword">return</span> state.<span class="hljs-property">skuDetailInfo</span>.<span class="hljs-property">spuSaleAttrList</span>||[]<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>还有就是有时候我们多层嵌套读取数据,比如<code>a.b.c</code>通过a读取b,又通过b读取c,假如读取到b的时候,b是<code>undefined</code>,那么在读取c就会报错,所以这个时候就可以考虑使用<code>||[] 或者 ||&#123;&#125;</code>了</li></ul><h4 id="localStorage-getItem-如果获取不到指定的key-返回的是null不是返回undefined"><a href="#localStorage-getItem-如果获取不到指定的key-返回的是null不是返回undefined" class="headerlink" title="localStorage.getItem();如果获取不到指定的key,返回的是null不是返回undefined"></a>localStorage.getItem();如果获取不到指定的key,返回的是null不是返回undefined</h4><h4 id="axios的请求头-Content-Type"><a href="#axios的请求头-Content-Type" class="headerlink" title="axios的请求头(Content-Type)"></a>axios的请求头(Content-Type)</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 1 默认的格式请求体中的数据会以json字符串的形式发送到后端(默认)</span><br>  <span class="hljs-string">&#x27;Content-Type: application/json &#x27;</span><br><br><span class="hljs-comment">// 2 请求体中的数据会以普通表单形式（键值对）发送到后端</span><br>  <span class="hljs-string">&#x27;Content-Type: application/x-www-form-urlencoded&#x27;</span><br><br><span class="hljs-comment">// 3 它会将请求体的数据处理为一条消息，以标签为单元，用分隔符分开。既可以上传键值对，也可以上传文件</span><br>  <span class="hljs-string">&#x27;Content-Type: multipart/form-data&#x27;</span><br></code></pre></td></tr></table></figure><p><strong>注意:</strong></p><p>jQuery当中的<code>$.post</code>默认请求头(<code>Content-Type</code>)为 <code>application/x-www-form-urlencoded; charset=UTF-8</code></p><h4 id="当不使用vuex的时候-我们可以把接口请求函数全部封装在对象当中并挂载Vue原型上"><a href="#当不使用vuex的时候-我们可以把接口请求函数全部封装在对象当中并挂载Vue原型上" class="headerlink" title="当不使用vuex的时候,我们可以把接口请求函数全部封装在对象当中并挂载Vue原型上"></a>当不使用vuex的时候,我们可以把接口请求函数全部封装在对象当中并挂载Vue原型上</h4><p>如:在main.js当中</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 也就是先导入封装所有ajax请求的api.js</span><br><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">API</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/api.js&quot;</span><br><span class="hljs-comment">// 挂载到vue原型上,和全局事件总线挂载一样</span><br><span class="hljs-comment">// 都是在vue生命周期的beforeCreate挂载</span><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>    ...<br><span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-comment">//全局事件总线</span><br>    <span class="hljs-comment">//Vue.prototype.$bus = this;</span><br>    <span class="hljs-comment">//ajax请求</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$API</span> = <span class="hljs-variable constant_">API</span>;<br>&#125;,<br>    ...<br>&#125;)<br></code></pre></td></tr></table></figure><h4 id="Vue注册全局注册的二种方式"><a href="#Vue注册全局注册的二种方式" class="headerlink" title="Vue注册全局注册的二种方式"></a>Vue注册全局注册的二种方式</h4><ul><li><code>Vue.use()</code></li></ul><p><strong>main.js文件(主入口文件)使用Vue.use方法全局注册</strong></p><p>其实element-ui官方也是使用Vue.use()来注册全局组件的~</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span><br><span class="hljs-comment">//引入element-ui组件</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">ElementUI</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;element-ui&quot;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;element-ui/lib/theme-chalk/index.css&quot;</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">ElementUI</span>);<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span><br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>&#125;).$mount(<span class="hljs-string">&#x27;#app&#x27;</span>)<br><br></code></pre></td></tr></table></figure><ul><li><code>Vue.component()</code></li></ul><p>一般我们用<code>Vue.componet()</code>比较多,因为使用<code>Vue.use()</code>注册全局组件使用起来麻烦点,element-ui看起来使用简单是因为内部封装好了</p><ul><li>Vue.componet(参数1,参数2)<ul><li>参数1:注册的组件名</li><li>参数2:注册的组件</li></ul></li></ul><p><strong>main.js文件(主入口文件)使用Vue.component方法全局注册</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span><br><span class="hljs-comment">//引入自定义组件</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">MyButton</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/components/MyButton&#x27;</span><br><br><span class="hljs-comment">//全局组成element-ui组件</span><br><span class="hljs-comment">//参数1: 注册的组件名字为 &#x27;MyButton&#x27;</span><br><span class="hljs-comment">//参数2: 注册的组件为 MyButton</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;MyButton&#x27;</span>,<span class="hljs-title class_">MyButton</span>);<br><br><span class="hljs-comment">//或者如果组件配置了name属性,可以直接使用组件的name当中的值</span><br><span class="hljs-comment">//Vue.component(MyButton.name,MyButton);</span><br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>&#125;).$mount(<span class="hljs-string">&#x27;#app&#x27;</span>)<br><br></code></pre></td></tr></table></figure><h4 id="Vue当中的watch"><a href="#Vue当中的watch" class="headerlink" title="Vue当中的watch"></a>Vue当中的watch</h4><h5 id="直接就一个监视回调函数"><a href="#直接就一个监视回调函数" class="headerlink" title="直接就一个监视回调函数"></a>直接就一个监视回调函数</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;name = &#x27;我是渣渣辉&#x27;&quot;</span>&gt;</span>这是按钮<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123; name &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;MyButton&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;李白&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">watch</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// 监视name值的变化</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">name</span>(<span class="hljs-params">newValue, oldValue</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;值发生了变化&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//代码等同于</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// name: &#123;</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//   handler(newValue, oldValue) &#123;</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//     console.log(&quot;值发生了变化&quot;);</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//   &#125;,</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// &#125;,</span></span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;less&quot;</span> <span class="hljs-attr">scoped</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><p><strong>如果需要监视对象当中某一个值的变化的话,就需要用到这种形式</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> &#123;<br>    <span class="hljs-attr">eat</span>:&#123;<br>        <span class="hljs-attr">vegetable</span>:<span class="hljs-string">&quot;西红柿&quot;</span>,<br>        <span class="hljs-attr">meat</span>:<span class="hljs-string">&quot;牛肉&quot;</span><br>    &#125;<br>  &#125;;<br>&#125;,<br><span class="hljs-attr">watch</span>: &#123;<br>  <span class="hljs-comment">// 监视eat对象当中meat值的变化</span><br>  <span class="hljs-string">&#x27;eat.meat&#x27;</span>(newValue, oldValue) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;值发生了变化&quot;</span>);<br>  &#125;,<br>&#125;,<br></code></pre></td></tr></table></figure><h5 id="书写配置项-比如是否深度监视"><a href="#书写配置项-比如是否深度监视" class="headerlink" title="书写配置项(比如是否深度监视)"></a>书写配置项(比如是否深度监视)</h5><p>如果我们想监视一个对象当中所有值的变化,包括内部对象的值的变化,我们不可以一个个去书写监听回调吧?我们可以使用配置项当中的<code>deep</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;eat.meat = &#x27;和牛&#x27;&quot;</span>&gt;</span>改变肉类<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;eat.vegetable = &#x27;青菜&#x27;&quot;</span>&gt;</span>改变蔬菜<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;eat.other.fruit = &#x27;苹果&#x27;&quot;</span>&gt;</span>改变水果<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123; eat.meat &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123; eat.vegetable &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123; eat.other.fruit &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;MyButton&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">eat</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">vegetable</span>: <span class="hljs-string">&quot;西红柿&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">meat</span>: <span class="hljs-string">&quot;牛肉&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">other</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-attr">fruit</span>: <span class="hljs-string">&quot;草莓&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">watch</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//深度监听eat当中值的变化,嵌套多少层都会监听到</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-attr">eat</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">deep</span>: <span class="hljs-literal">true</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-title function_">handler</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;值发生了变化&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;less&quot;</span> <span class="hljs-attr">scoped</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><h4 id="npm-run-build-prod-或者-npm-run-build-stage"><a href="#npm-run-build-prod-或者-npm-run-build-stage" class="headerlink" title="npm run build:prod 或者 npm run build:stage"></a>npm run build:prod 或者 npm run build:stage</h4><ul><li><strong>npm run build:prod:</strong> 构建生产环境<ul><li>打包的时候会读取<code>.env.development</code>文件的,所以不需要前缀可以编辑下这个文件</li></ul></li><li><strong>npm run build:stage:</strong> 构建测试环境<ul><li>打包的时候会读取<code>.env.production</code>文件的,所以不需要前缀可以编辑下这个文件</li></ul></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205211140036.png" alt="npm run build:prod 或者 npm run build:stage"></p><h4 id="Navigation-aborted-from-“-x2F-center“-to-“-x2F-login“-via-a-navigation-guard"><a href="#Navigation-aborted-from-“-x2F-center“-to-“-x2F-login“-via-a-navigation-guard" class="headerlink" title="Navigation aborted from “&#x2F;center“ to “&#x2F;login“ via a navigation guard"></a>Navigation aborted from “&#x2F;center“ to “&#x2F;login“ via a navigation guard</h4><p><strong>解决:</strong></p><p>vue_project\src\router\index.js 路由主入口文件当中添加如下代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><br><span class="hljs-keyword">const</span> originalPush = <span class="hljs-title class_">VueRouter</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">push</span><br><span class="hljs-comment">//解决重复提交相同链接报错</span><br><span class="hljs-title class_">VueRouter</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">push</span> = <span class="hljs-keyword">function</span> <span class="hljs-title function_">push</span>(<span class="hljs-params">location, onResolve, onReject</span>) &#123;<br>    <span class="hljs-keyword">if</span> (onResolve || onReject)<br>        <span class="hljs-keyword">return</span> originalPush.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, location, onResolve, onReject)<br>    <span class="hljs-keyword">return</span> originalPush.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, location).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">VueRouter</span>.<span class="hljs-title function_">isNavigationFailure</span>(err)) &#123;<br>            <span class="hljs-comment">// resolve err</span><br>            <span class="hljs-keyword">return</span> err<br>        &#125;<br>        <span class="hljs-comment">// rethrow error</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(err)<br>    &#125;)<br>&#125;<br><span class="hljs-keyword">const</span> originalReplace = <span class="hljs-title class_">VueRouter</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">replace</span><br><span class="hljs-title class_">VueRouter</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">replace</span> = <span class="hljs-keyword">function</span> <span class="hljs-title function_">replace</span>(<span class="hljs-params">location, onResolve, onReject</span>) &#123;<br>    <span class="hljs-keyword">if</span> (onResolve || onReject)&#123;<br>        <span class="hljs-comment">//回调函数里面会用到this的指向,所以就要使用call</span><br>        <span class="hljs-keyword">return</span> originalReplace.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, location, onResolve, onReject)<br>    &#125;<br>    <span class="hljs-keyword">return</span> originalReplace.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, location).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">VueRouter</span>.<span class="hljs-title function_">isNavigationFailure</span>(err)) &#123;<br>            <span class="hljs-comment">//如果为相同链接引发的错误,返回错误原因,promise状态为resolve</span><br>            <span class="hljs-comment">// resolve err</span><br>            <span class="hljs-keyword">return</span> err<br>        &#125;<br>        <span class="hljs-comment">// rethrow error</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(err)<br>    &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>javscript</tag>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>盒子模型及块元素水平垂直定位和绝对元素的定位布局和弹性盒</title>
    <link href="/2022/05/21/%E5%89%8D%E7%AB%AF/%E7%9B%92%E5%AD%90%E6%A8%A1%E5%9E%8B%E5%8F%8A%E5%9D%97%E5%85%83%E7%B4%A0%E6%B0%B4%E5%B9%B3%E5%9E%82%E7%9B%B4%E5%AE%9A%E4%BD%8D%E5%92%8C%E7%BB%9D%E5%AF%B9%E5%85%83%E7%B4%A0%E7%9A%84%E5%AE%9A%E4%BD%8D%E5%B8%83%E5%B1%80%E5%92%8C%E5%BC%B9%E6%80%A7%E7%9B%92/"/>
    <url>/2022/05/21/%E5%89%8D%E7%AB%AF/%E7%9B%92%E5%AD%90%E6%A8%A1%E5%9E%8B%E5%8F%8A%E5%9D%97%E5%85%83%E7%B4%A0%E6%B0%B4%E5%B9%B3%E5%9E%82%E7%9B%B4%E5%AE%9A%E4%BD%8D%E5%92%8C%E7%BB%9D%E5%AF%B9%E5%85%83%E7%B4%A0%E7%9A%84%E5%AE%9A%E4%BD%8D%E5%B8%83%E5%B1%80%E5%92%8C%E5%BC%B9%E6%80%A7%E7%9B%92/</url>
    
    <content type="html"><![CDATA[<h3 id="盒子模型"><a href="#盒子模型" class="headerlink" title="盒子模型"></a>盒子模型</h3><p><strong>组成:</strong></p><ul><li>content(内容区)</li><li>border(边框)</li><li>padding(内边距)</li><li>margin(外边距)</li></ul><h4 id="盒子大小"><a href="#盒子大小" class="headerlink" title="盒子大小"></a>盒子大小</h4><p>盒子的大小值得就是盒子在容器中实际所占据的高度和宽度(默认情况下我们通过css设置的<code>width</code>和<code>height</code>只是设置了<code>content</code>(内容区)的高度和宽度,实际上盒子模型所占据的高度和宽度是按照下面来计算的)</p><p><strong>实际的宽度:</strong></p><p>实际宽度 &#x3D; margin-left + border-left + padding-left + <strong>width(content-width)</strong> + padding-right + border-right + margin-right</p><p><strong>实际的高度:</strong></p><p>实际的高度 &#x3D; margin-top + border-top + padding-top + <strong>height(content-height)</strong>  + padding-bottom + border-bottom + margin-bottom</p><p>比如下面图片的实际宽度和实际高度是多少呢?</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205211811610.png" alt="实际宽度和实际高度是多少呢"></p><p>使用上述公式，就能算出示例中的高宽值</p><p>实际宽度 &#x3D; 20+6+20+400+20+6+20 &#x3D; 492</p><p>实际的高度 &#x3D; 20+6+20+100+20+6+20 &#x3D; 192</p><h3 id="更改盒子模型的计算方式"><a href="#更改盒子模型的计算方式" class="headerlink" title="更改盒子模型的计算方式"></a>更改盒子模型的计算方式</h3><p>一般情况下,css设置的<code>width</code>,<code>height</code>设置的都是<code>content-width</code>,<code>content-height</code>,但是我们也可以通过css,改变css里面的width,和height设置的是什么</p><p><strong>box-sizing:content-box(默认情况)</strong></p><ul><li>一开始的css显示效果和代码,可以看到,<strong>Child container刚刚好等于父元素的宽度</strong><ul><li>也就是<strong>实际的宽度</strong> &#x3D; 父元素的宽度</li></ul></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">box-sizing</span>: content-box;<br><span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205211818257.png" alt="显示效果"></p><ul><li>添加了<code>border为10px</code>,并且设置了<code>padding:5px</code><ul><li>可以看到内容超过了父元素,溢出了</li><li><strong>实际的宽度</strong> &#x3D; 父元素的宽度 + border-left + border-right + padding-left + padding-right</li></ul></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">box-sizing</span>: content-box;<br><span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br><span class="hljs-attribute">border</span>: solid <span class="hljs-number">#5B6DCD</span> <span class="hljs-number">10px</span>;<br><span class="hljs-attribute">padding</span>: <span class="hljs-number">5px</span>;<br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205211820703.png" alt="添加了border为10px,并且设置了padding:5px后的效果"></p><p><strong>box-sizing:border-box</strong></p><ul><li>只将<code>box-sizing</code>修改为<code>border-box</code>,效果就完全不同</li><li><strong>实际的宽度</strong> &#x3D; 父元素的宽度</li><li>因为<code>box-sizing</code>设置的为<code>border-box</code>所以css当中设置的<code>width</code>属性包括了<code>border</code>的宽度和<code>padding</code>的宽度(注意,不包括<code>margin</code>!)</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">box-sizing</span>: border-box;<br><span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br><span class="hljs-attribute">border</span>: solid <span class="hljs-number">#5B6DCD</span> <span class="hljs-number">10px</span>;<br><span class="hljs-attribute">padding</span>: <span class="hljs-number">5px</span>;<br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205211826744.png" alt="只将box-sizing修改为border-box"></p><h4 id="div-块元素-水平方向布局"><a href="#div-块元素-水平方向布局" class="headerlink" title="div(块元素)水平方向布局"></a>div(块元素)水平方向布局</h4><ul><li>看过上面,我们知道水平方向上的位置<strong>必须要满足</strong><ul><li>margin-left + border-left + padding-lef + <strong>width</strong> + padding-right + border-right + margin-right &#x3D; <strong>父元素内容区的宽度</strong></li></ul></li><li>如果不满足上方等式,<strong>等式就会自动去调整</strong></li></ul><p>这七个值中有三个值可以设置为auto</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">width</span><br><br><span class="hljs-attribute">margin-left</span><br><br><span class="hljs-attribute">margin-right</span><br></code></pre></td></tr></table></figure><ul><li>调整的情况 (等式当中<strong>含有auto值</strong>和<strong>没有auto的情况</strong>)</li></ul><table><thead><tr><th align="center">width</th><th align="center">margin-left</th><th align="center">margin-right</th><th>结果</th></tr></thead><tbody><tr><td align="center">auto</td><td align="center">&#x2F;</td><td align="center">auto</td><td>**宽度(width)自动调整为最大值,**选取的margin-right自动为0</td></tr><tr><td align="center">auto</td><td align="center">auto</td><td align="center">&#x2F;</td><td>**宽度(width)自动调整为最大值,**选取的margin-left自动为0</td></tr><tr><td align="center">auto</td><td align="center">auto</td><td align="center">auto</td><td>**宽度(width)自动调整为最大值,**二个外边距自动设置为0</td></tr><tr><td align="center">auto</td><td align="center">&#x2F;</td><td align="center">&#x2F;</td><td>**宽度(width)自动调整为最大值,**二个外边距自动设置为0</td></tr><tr><td align="center">固定值</td><td align="center">auto</td><td align="center">auto</td><td><strong>宽度(width)不变</strong>,margin-left和margin-<strong>right</strong>自动调整(也就是水平居中)</td></tr><tr><td align="center">固定值</td><td align="center">auto</td><td align="center">&#x2F;</td><td><strong>宽度(width)不变</strong>,自动调整margin-<strong>left</strong>的值</td></tr><tr><td align="center">固定值</td><td align="center">&#x2F;</td><td align="center">auto</td><td><strong>宽度(width)不变</strong>,自动调整margin-<strong>right</strong>的值</td></tr><tr><td align="center">固定值</td><td align="center">&#x2F;</td><td align="center">&#x2F;</td><td><strong>宽度(width)不变</strong>,自动调整margin-<strong>right</strong>的值</td></tr></tbody></table><p>总结:</p><ul><li><p><strong>三者当中含有auto值的情况</strong></p><ul><li>当<code>width为auto</code>的时候,<strong>总是保证</strong><code>width</code>为最大值<strong>而其他设置为auto的自动设置为0</strong></li><li>当<code>width为固定值</code>的时候,自动调整<strong>已经设置为auto的值</strong>使其满足等式(margin-left + border-left + padding-lef + <strong>width</strong> + padding-right + border-right + margin-right &#x3D; <strong>父元素内容区的宽度</strong>)</li></ul></li><li><p><strong>三者当中没有auto的情况</strong></p><ul><li>当<code>width为固定值</code><strong>发现其他值都没有写</strong>,没有一个auto,那么就自动调整<code>margin-right</code>的值(见得最多的)</li></ul></li></ul><p>例如下方例子: </p><p>注意,没有写代表没有写,如果填写了0,或者auto,就代表在css里面设置了margin-left或者其他的为0或者auto!</p><table><thead><tr><th align="center">margin-left</th><th align="center">border-left</th><th align="center">padding-left</th><th align="center">width</th><th align="center">padding-right</th><th align="center">border-right</th><th align="center">margin-right</th><th align="center">父元素宽度</th><th align="center">结果</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">auto</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">800px</td><td align="center">width当中的auto设置为800px</td></tr><tr><td align="center">auto</td><td align="center">0</td><td align="center">0</td><td align="center">500px</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">800px</td><td align="center">margin-left的auto被设置为300px</td></tr><tr><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">400px</td><td align="center">0</td><td align="center">0</td><td align="center">auto</td><td align="center">800px</td><td align="center">margin-right的auto被设置为500px</td></tr><tr><td align="center">没有写</td><td align="center">0</td><td align="center">0</td><td align="center">700px</td><td align="center">0</td><td align="center">0</td><td align="center">没有写</td><td align="center">800px</td><td align="center">margin-right的auto被设置为100px</td></tr><tr><td align="center">auto</td><td align="center">10</td><td align="center">5</td><td align="center">400px</td><td align="center">5</td><td align="center">10</td><td align="center">auto</td><td align="center">700px</td><td align="center">margin-left和margin-right的auto被设置为(700-(10+5+400+5+10))&#x2F;2&#x3D;135px</td></tr></tbody></table><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205211918448.png" alt="宽度设置了下,其他都没有写"></p><ul><li>所以为什么你经常看到设置了宽度后,在设置<code>margin:0 auto</code>就可以实现水平居中,就是利用上述原理<ul><li>width固定,margin-left,margin-right为auto,那么浏览器会自动跳转auto的值,所以就实现了水平居中</li></ul></li></ul><h5 id="div-块元素-垂直方向布局"><a href="#div-块元素-垂直方向布局" class="headerlink" title="div(块元素)垂直方向布局"></a>div(块元素)垂直方向布局</h5><p>块元素7个值没有auto的话就会自动调整<code>margin-bottom</code>其他和水平基本一样的,也是下面三个值可以设置auto,这里就不多说了</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">margin-top</span><br><br><span class="hljs-attribute">height</span><br><br><span class="hljs-attribute">margin-bottom</span><br></code></pre></td></tr></table></figure><h4 id="开启绝对定位元素的布局"><a href="#开启绝对定位元素的布局" class="headerlink" title="开启绝对定位元素的布局"></a>开启绝对定位元素的布局</h4><h5 id="先来大概了解下开启绝对定位后元素的参考父元素-也就是我们常说的包含块"><a href="#先来大概了解下开启绝对定位后元素的参考父元素-也就是我们常说的包含块" class="headerlink" title="先来大概了解下开启绝对定位后元素的参考父元素(也就是我们常说的包含块)"></a>先来大概了解下开启绝对定位后元素的参考父元素(也就是我们常说的包含块)</h5><ul><li><p>正常情况下,包含块就是<strong>最近的开启了相对定位的块元素</strong>(当然,如果都没有开启,则参考html)</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.box1</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">400px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">background-color</span>: red;</span><br><span class="language-css">        <span class="hljs-attribute">position</span>: relative;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">    <span class="hljs-selector-class">.box2</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">background-color</span>: green;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">    <span class="hljs-selector-class">.box3</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">background-color</span>: blue;</span><br><span class="language-css">        <span class="hljs-attribute">position</span>: absolute;</span><br><span class="language-css">        <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box1&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box2&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box3&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205211948876.png" alt="可以看到,box3是参考box1的,因为box1开启了相对定位"></p></li></ul><h5 id="开启决定定位后-开启绝对定位后的元素也是需要满足一定条件约束的"><a href="#开启决定定位后-开启绝对定位后的元素也是需要满足一定条件约束的" class="headerlink" title="开启决定定位后,开启绝对定位后的元素也是需要满足一定条件约束的"></a>开启决定定位后,开启绝对定位后的元素也是需要满足一定条件约束的</h5><ul><li><strong>水平方向来说:</strong>(和平常没有开启定位的多了一个left,right)</li></ul><p><strong>left</strong> + margin-left + border-left + padding-left + <strong>width</strong> + padding-right + border-right + margin-right + <strong>right</strong>  &#x3D; <strong>包含块的宽度</strong></p><ul><li><strong>垂直方向来说:</strong>(和平常没有开启定位的多了一个top,bottom)</li></ul><p><strong>top</strong> + margin-top+ border-top+ padding-top+ <strong>height</strong>+ padding-bottom+ border-bottom+ margin-bottom+ <strong>bottom</strong>  &#x3D; <strong>包含块的宽度</strong></p><h5 id="水平方向布局"><a href="#水平方向布局" class="headerlink" title="水平方向布局"></a>水平方向布局</h5><p>可以调整为auto的</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">margin-left</span><br><span class="hljs-attribute">width</span><br><span class="hljs-attribute">left</span><br><span class="hljs-attribute">right</span><br><span class="hljs-attribute">margin-right</span><br></code></pre></td></tr></table></figure><p>需要满足</p><p><strong>left</strong> + margin-left + border-left + padding-left + <strong>width</strong> + padding-right + border-right + margin-right + <strong>right</strong>  &#x3D; <strong>包含块的宽度</strong></p><p>如果9个值当中没有设置auto,则会<strong>自动调整right的值来满足</strong>(有点像块元素的水平布局一样,块元素7个值没有auto的话就会自动调整margin-right)</p><p>所以如果等式不满足的时候,就会自动调整<code>left</code>和<code>right</code>这两个值。   </p><ul><li>例子:下面的例子就会自动调整<code>right为-200</code>,使得等式成立</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.box1</span>&#123;</span><br><span class="language-css">        <span class="hljs-attribute">position</span>: relative;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">background-color</span>: red;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.box2</span>&#123;</span><br><span class="language-css">        <span class="hljs-attribute">position</span>:absolute;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">background-color</span>: green;</span><br><span class="language-css">        <span class="hljs-attribute">left</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box1&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box2&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure><p>浏览器查看box2的computed</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212006015.png" alt="浏览器computed查看"></p><p>当然,你如果皮,把box2的<strong>right改为0</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.box2</span>&#123;<br>    <span class="hljs-attribute">position</span>:absolute;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;<br>    <span class="hljs-attribute">background-color</span>: green;<br>    <span class="hljs-attribute">left</span>: <span class="hljs-number">300px</span>;<br>    //新添加<br>    <span class="hljs-attribute">right</span>:<span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>那么效果依旧不会变化~不过浏览器查看box2的<code>computed</code>的时候变成了这样子</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212016542.png" alt="把box2的right改为0后浏览器查看"></p><ul><li>需要注意的是: 要设置<code> left = 0; right = 0;</code> 才能调整<code>margin-left和margin-right</code>，否则会自动调整left和right的值(不管<code>computed</code>有没有看到效果) 从而导致给<code>margin-left、margin-right</code>设置值会失效</li></ul><h5 id="垂直方向布局"><a href="#垂直方向布局" class="headerlink" title="垂直方向布局"></a>垂直方向布局</h5><p>可以调整为auto的</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">margin-top</span><br><span class="hljs-attribute">height</span><br><span class="hljs-attribute">left</span><br><span class="hljs-attribute">right</span><br><span class="hljs-attribute">margin-bottom</span><br></code></pre></td></tr></table></figure><p>需要满足</p><p><strong>top</strong> + margin-top+ border-top+ padding-top+ <strong>height</strong> + padding-bottom+ border-bottom+ margin-bottom+ <strong>bottom</strong>  &#x3D; <strong>包含块的高度</strong></p><p>如果9个值当中没有设置auto,则会<strong>自动调整bottom的值来满足</strong>(有点像块元素的垂直布局一样,块元素7个值没有auto的话就会自动调整margin-bottom)</p><p>所以如果等式不满足的时候,就会自动调整<code>top</code>和<code>bottom</code>这两个值。 </p><h5 id="常用的一些效果"><a href="#常用的一些效果" class="headerlink" title="常用的一些效果"></a>常用的一些效果</h5><ul><li>开启定位后相对于包含块<strong>水平居中</strong></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs css">//设置代码<br><span class="hljs-selector-class">.box2</span>&#123;<br>    ...<br>    <span class="hljs-attribute">position</span>:absolute;<br><span class="hljs-attribute">left</span>:<span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">right</span>:<span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">margin</span>:<span class="hljs-number">0</span> auto;<br>   <span class="hljs-comment">/* 或者 */</span><br>   <span class="hljs-comment">/* margin-left: auto; */</span><br>   <span class="hljs-comment">/* margin-right: auto; */</span><br>&#125;<br><br>//例子全部<br>&lt;style&gt;<br>    <span class="hljs-selector-class">.box1</span> &#123;<br>        <span class="hljs-attribute">position</span>: relative;<br>        <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;<br>        <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;<br>        <span class="hljs-attribute">background-color</span>: red;<br>    &#125;<br><br>    <span class="hljs-selector-class">.box2</span> &#123;<br>        <span class="hljs-attribute">position</span>: absolute;<br>        <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;<br>        <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;<br>        <span class="hljs-attribute">background-color</span>: green;<br>        <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;<br>        <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;<br>        <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;<br>        <span class="hljs-comment">/* 或者 */</span><br>        <span class="hljs-comment">/* margin-left: auto; */</span><br>        <span class="hljs-comment">/* margin-right: auto; */</span><br>    &#125;<br>&lt;/style&gt;<br>&lt;/head&gt;<br><br>&lt;<span class="hljs-selector-tag">body</span>&gt;<br>    &lt;<span class="hljs-selector-tag">div</span> class=&quot;box1&quot;&gt;<br>        &lt;<span class="hljs-selector-tag">div</span> class=&quot;box2&quot;&gt;&lt;/<span class="hljs-selector-tag">div</span>&gt;<br>    &lt;/<span class="hljs-selector-tag">div</span>&gt;<br><br>&lt;/<span class="hljs-selector-tag">body</span>&gt;<br></code></pre></td></tr></table></figure><p>效果</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212022797.png" alt="开启定位后相对于包含块水平居中"></p><p>浏览器computed效果</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212032355.png" alt="浏览器computed查看效果"></p><ul><li>开启定位后相对于包含块<strong>垂直居中</strong></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs html">.box2&#123;<br>    ...<br>    position:absolute;<br>top:0;<br>    top:0;<br>    margin:auto 0;<br>   /* 或者 */<br>   /* margin-top: auto; */<br>   /* margin-bottom: auto; */<br>&#125;<br><br>//完整代码<br><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.box1</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">position</span>: relative;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">background-color</span>: red;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.box2</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">position</span>: absolute;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">background-color</span>: green;</span><br><span class="language-css">        <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        <span class="hljs-attribute">margin</span>: auto <span class="hljs-number">0</span>;</span><br><span class="language-css">        <span class="hljs-comment">/* margin-top: auto;</span></span><br><span class="hljs-comment"><span class="language-css">        margin-bottom: auto; */</span></span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box1&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box2&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure><p>效果</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212029660.png" alt="开启定位后相对于包含块垂直居中"></p><p>浏览器computed查看</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212031145.png" alt="浏览器computed查看效果"></p><ul><li>开启定位后相对于包含块<strong>居中</strong></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs html"> .box2 &#123;<br> ...<br>        position: absolute;<br>        left:0;<br>        right: 0;<br>        top: 0;<br>        bottom: 0;<br>        margin: auto;<br>        ...<br>    &#125;   <br><br>//完整代码<br><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.box1</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">position</span>: relative;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">background-color</span>: red;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.box2</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">position</span>: absolute;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">background-color</span>: green;</span><br><span class="language-css">        <span class="hljs-attribute">left</span>:<span class="hljs-number">0</span>;</span><br><span class="language-css">        <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        <span class="hljs-attribute">margin</span>: auto;</span><br><span class="language-css">    &#125;   </span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box1&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box2&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure><p>效果</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212034149.png" alt="开启定位后相对于包含块居中"></p><p>浏览器computed查看效果</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212035643.png" alt="浏览器computed查看效果"></p><h3 id="弹性盒"><a href="#弹性盒" class="headerlink" title="弹性盒"></a>弹性盒</h3><h4 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h4><ul><li><p>想看看也可以,这里说的简单的,<a href="https://blog.csdn.net/qq_29689343/article/details/112556133">也可以看看这位博主写的</a></p></li><li><p>设置</p><ul><li><code>display:flex</code>开启弹性容器,将当前元素设置为<strong>块级的弹性容器</strong></li><li><code>display:inline-flex</code>开启弹性容器 设置为<strong>行内的弹性容器</strong></li></ul></li><li><p>基本概念</p><ul><li>主轴<ul><li>弹性元素的排列方向(默认水平方向为主轴)</li></ul></li><li>侧轴<ul><li>和主轴垂直的叫侧轴</li></ul></li></ul></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205221010476.png" alt="默认情况下的主轴侧轴方向"></p><ul><li>特征<ul><li>弹性容器的子元素是弹性元素</li><li>弹性元素可以同时是弹性容器</li></ul></li></ul><p>如下代码开启了弹性布局,<code>div</code>即为<strong>弹性容器</strong>,<code>div</code>下方的<code>span</code> <code>em</code>等即为<strong>弹性元素</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display:flex&quot;</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>听我说<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">em</span>&gt;</span>动感超人<span class="hljs-tag">&lt;/<span class="hljs-name">em</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="设置主轴"><a href="#设置主轴" class="headerlink" title="设置主轴"></a>设置主轴</h4><p>顺带一提记忆: 你知道display:flex是开启定位,那么就联想记忆,就认为flex就代表水平,然后flex-direction就是告诉容器水平是哪一个方向的 (<strong>row</strong>代表行,行当然是水平的,column代表列,列肯定是垂直的) <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Main_Axis">感兴趣的可以看看MDN的主轴API</a></p><h5 id="方向-flex-direction"><a href="#方向-flex-direction" class="headerlink" title="方向 flex-direction"></a>方向 flex-direction</h5><ul><li><code>flex-direction</code>:<strong>row(默认值)</strong>|row-reverse|column|column-reverse</li></ul><p><code>flex-direction:row</code>设置弹性容器当中的弹性元素在水平方向排列,并且弹性元素是从左到右排序(同时设置主轴的方向为水平方向) <strong>(默认值)</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205220905282.png" alt="flex-direction:row"></p><p><code>flex-direction:row-reverse</code>设置弹性容器的弹性元素在水平方向排列并且是从右到左排列(同时设置主轴的方向为水平方向)</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205220907557.png" alt="flex-direction:row-reverse"></p><p><code>flex-direction:column</code>设置弹性容器的弹性元素在垂直方向,并且是从上到下依次排列(同时设置主轴的方向为垂直方向)</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205220909427.png" alt="flex-direction:column"></p><p><code>flex-direction:column-reverse</code>设置弹性容器的弹性元素在垂直方向,并且是从下到上排列(同时设置主轴的方向为垂直方向)</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205220911033.png" alt="flex-direction:column-reverse"></p><h5 id="设置弹性元素在弹性容器上是否自动换行-重要-flex-wrap"><a href="#设置弹性元素在弹性容器上是否自动换行-重要-flex-wrap" class="headerlink" title="设置弹性元素在弹性容器上是否自动换行(重要) flex-wrap"></a>设置弹性元素在弹性容器上是否自动换行(重要) flex-wrap</h5><ul><li><code>flex-wrap</code>:nowrap(默认值不换行) | wrap(换行) | wrap-reverse</li></ul><p><code>flex-wrap:nowrap</code>的情况</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205220938202.png" alt="flex-wrap:nowrap"></p><p>如果没有设置弹性元素:<code>flex-shrink:0</code>的话,那么弹性元素如果超过了弹性容器的宽度,那么会自动跳转宽度使其等于弹性容器的宽度!</p><p><code>flex-wrap:wrap</code>换行</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205220939849.png" alt="flex-wrap:wrap"></p><p><code>flex-wrap:wrap-reverse</code> <del>主轴相反的方向进行换行</del>  不太好描述,感觉像叠叠乐一样</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205220943476.png" alt="flex-wrap:wrap-reverse-效果1"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205220943615.png" alt="flex-wrap:wrap-reverse-效果2"></p><h5 id="对其方式-空隙排布-justify-content"><a href="#对其方式-空隙排布-justify-content" class="headerlink" title="对其方式(空隙排布) justify-content"></a>对其方式(空隙排布) justify-content</h5><p>大家都知道word当中有什么左对齐,居中对其,右对齐,二端对其,css也有~</p><ul><li><code>justify-content:</code>flex-start | flex-end | center | space-between | space-around </li><li>设置如何顺着弹性容器主轴的方向分配弹性元素之间及其周围的空间(大白话就是主轴在哪里,我就按照你方向来分配其他没有被占据的空间)</li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/justify-content">justify-content说明文档</a></li><li><strong>特别注意</strong>,这里的弹性元素会出现放不下被换行和垂直方向排布端正是因为设置了<code>flex-wrap: wrap;</code>及 <code>align-content: flex-start;</code></li></ul><p><code>justify-content:flex-start</code>(可以说是默认值) 设置元素<strong>每一行</strong>在主轴开头(起始位置)开始排布</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205220920496.png" alt="justify-content:flex-start"></p><p><code>justify-content:flex-end</code>设置元素沿着主轴终点开始排列</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205220945420.png" alt="justify-content:flex-end"></p><p><code>justify-content:space-between</code> 设置每一行的空白元素平均分配到元素中间</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205221001231.png" alt="justify-content:space-between"></p><p><code>justify-content:space-around</code> 设置每一行的空白元素分配到元素四周(注意:二个元素之间分配到的空白间距并不会取消,而是会叠加在一起)</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205221004071.png" alt="justify-content:space-around"></p><h4 id="设置侧轴"><a href="#设置侧轴" class="headerlink" title="设置侧轴"></a>设置侧轴</h4><h5 id="元素对其方式-align-items"><a href="#元素对其方式-align-items" class="headerlink" title="元素对其方式 align-items"></a>元素对其方式 align-items</h5><ul><li><code>align-items:</code>stretch(默认) |center| flex-start | flex-end | baseline</li></ul><p><code>align-items:stretch</code> 元素在侧轴上拉伸(如果没有设置height属性或者设置为auto就会拉伸) ,<strong>如果设置了width为固定值,那么这个效果就不会生效</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205221019930.png" alt="align-items:stretch并且不设置width"></p><p><code>align-items:center</code> 设置侧轴元素居中排列</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205221021030.png" alt="align-items:center"></p><p><code>align-items:flex-start</code>元素向侧轴起点对齐(以每一行为参考,可以想象下每一行有自己的主轴侧轴)</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205221023912.png" alt="align-items:flex-start"></p><p><code>align-items:flex-end</code> 元素向侧轴终点对齐(以每一行为参考,可以想象下每一行有自己的主轴侧轴)</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205221025448.png" alt="align-items:flex-end"></p><h5 id="空隙排布-align-content"><a href="#空隙排布-align-content" class="headerlink" title="空隙排布 align-content"></a>空隙排布 align-content</h5><ul><li><code>align-content:</code> flex-start | flex-end | space-between | space-around | center</li></ul><p>图我就不自己截了,拿了其他的,原来作者找不到了..<a href="https://blog.csdn.net/liuyan19891230/article/details/122356044">只找到一个转载的</a></p><p><code>align-content:flex-start</code></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205221033288.png" alt="align-content:flex-start"></p><p><code>align-content:flex-end</code></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205221033886.png" alt="align-content:flex-end"></p><p><code>align-content:space-between</code></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205221034997.png" alt="align-content:space-between"></p><p><code>align-content:space-around</code></p><p><img src="https://img-blog.csdnimg.cn/img_convert/e74286dedbbb0b230ad19f4454214780.png" alt="align-content:space-around"></p><p><code>align-content:center</code></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205221034139.png" alt="align-content:center"></p><h4 id="一个小小的简写-一次性设置主轴方向和flex-wrap"><a href="#一个小小的简写-一次性设置主轴方向和flex-wrap" class="headerlink" title="一个小小的简写(一次性设置主轴方向和flex-wrap)"></a>一个小小的简写(一次性设置主轴方向和flex-wrap)</h4><ul><li><code>flex-flow</code>: flex-direction flex-wrap<ul><li>比如<code>flex-flow:row nowrap</code></li></ul></li></ul><h5 id="针对弹性元素的属性-注意区分弹性容器和弹性元素"><a href="#针对弹性元素的属性-注意区分弹性容器和弹性元素" class="headerlink" title="针对弹性元素的属性(注意区分弹性容器和弹性元素)"></a>针对弹性元素的属性(注意区分弹性容器和弹性元素)</h5><p>再次强调下,弹性容器是外壳,弹性元素是内部~</p><h6 id="flex-grow-number"><a href="#flex-grow-number" class="headerlink" title="flex-grow:number"></a>flex-grow:number</h6><ul><li>指定弹性元素的伸展系数,也就是当父元素(弹性容器)有空余的元素的时候如何分配(伸展)<ul><li>比如 flex-grow : 1 ; flex-grow : 2; flex-grow : 3 ;</li></ul></li></ul><p>原来的空隙</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205221039034.png" alt="原来的空隙"></p><p>设置 <code>flex-grow : 1 ;  flex-grow : 2; flex-grow : 3 </code>; <strong>[这些数字就是所占据的比例,比如1,就占1&#x2F;(1+2+3)&#x3D;1&#x2F;6 也就是六分之一]</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205221040443.png" alt="设置 `flex-grow : 1 ;  flex-grow : 2; flex-grow : 3 `"></p><h6 id="flex-shrink-number"><a href="#flex-shrink-number" class="headerlink" title="flex-shrink:number"></a>flex-shrink:number</h6><ul><li>指定弹性元素的收缩系数,也就是如果当父元素(弹性容器)容纳不下子元素(弹性元素)的时候,如何减少</li></ul><p>未设置flex-shrink,即为0</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205221040738.png" alt="未设置flex-shrink,即为0"></p><p>设置flex-shrink : 1 ; flex-shrink : 2 ; flex-shrink : 3 ;后的效果</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205221041232.png" alt="设置flex-shrink : 1 ; flex-shrink : 2 ; flex-shrink : 3"></p><h5 id="flex-basis"><a href="#flex-basis" class="headerlink" title="flex-basis"></a>flex-basis</h5><ul><li><code>flex-basis</code>具体长度|auto —-设置弹性元素在主轴上的基础长度</li><li>flex-basis:100px; <ul><li>如果<strong>主轴为横向</strong>的,则此元素设置宽度</li><li>如果<strong>主轴是纵向</strong>的,则此元素设置高度</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>css</category>
      
    </categories>
    
    
    <tags>
      
      <tag>html</tag>
      
      <tag>css</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>我来图书馆实现用云函数cfc进行自动化抢位置</title>
    <link href="/2022/05/21/%E5%B7%A5%E5%85%B7/%E6%88%91%E6%9D%A5%E5%9B%BE%E4%B9%A6%E9%A6%86%E5%AE%9E%E7%8E%B0%E7%94%A8%E4%BA%91%E5%87%BD%E6%95%B0%E8%BF%9B%E8%A1%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E6%8A%A2%E4%BD%8D%E7%BD%AE/"/>
    <url>/2022/05/21/%E5%B7%A5%E5%85%B7/%E6%88%91%E6%9D%A5%E5%9B%BE%E4%B9%A6%E9%A6%86%E5%AE%9E%E7%8E%B0%E7%94%A8%E4%BA%91%E5%87%BD%E6%95%B0%E8%BF%9B%E8%A1%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E6%8A%A2%E4%BD%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><ul><li><p>抓包的话就不多说啦</p></li><li><p>只实现四楼自动抢,其他楼自己改改就可以</p></li><li><p>先下载下代码,<a href="https://github.com/superBiuBiuMan/library_position">单击我进入跳转下载</a></p></li><li><p>下载代码后的操作</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212200893.png" alt="下载zip格式"></p></li><li><p>下载完成后,将其解压后重新在目录内压缩</p></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212204778.png" alt="下载完成后,将其解压后重新在目录内压缩"></p><h4 id="具体操作步骤"><a href="#具体操作步骤" class="headerlink" title="具体操作步骤"></a>具体操作步骤</h4><ul><li>进入<a href="https://cloud.baidu.com/product/cfc.html">单击我进入官网</a>,登录注册实名就不多说了</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212130187.png" alt="单击体验"></p><ul><li>再单击创建函数</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212132269.png" alt="单击创建函数"></p><ul><li>选择空白函数后单击’下一步’</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212133464.png" alt="选择空白函数后单击&#39;下一步&#39;"></p><ul><li>按照如图选择</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212134491.png" alt="按照如图选择"></p><ul><li><strong>单击提交,创建完成</strong></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212134445.png" alt="创建完成"></p><ul><li>单击**’进入函数详情页’**</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212137348.png" alt="单击进入函数详情页"></p><ul><li>单击’函数代码’</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212135973.png" alt="单击&#39;函数代码&#39;"></p><ul><li>下载刚刚下载的代码</li><li>单击’上传代码.zip’</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212138082.png" alt="单击&#39;上传代码.zip&#39;"></p><ul><li>选择刚刚下载的zip</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212205986.png" alt="选择自己重新压缩过的"></p><ul><li>选择好后单击开始上传</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212205747.png" alt="选择好后单击开始上传"></p><ul><li>切换回’在线编辑’</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212206008.png" alt="切换回&#39;在线编辑&#39;"></p><ul><li>单击编辑进入环境变量设置</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212206666.png" alt="单击编辑进入环境变量设置"></p><ul><li>添加这二个环境变量 ,单击保存</li></ul><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs 1c">runLibraryUser 自己抓包的用户代码<br>runLibraryUserSeatIdAndArea 座位号id<span class="hljs-meta">&amp;区域id 具体看github的文档</span><br><br>比如<br>runLibraryUser rjwiaorjawrijoawr<br>runLibraryUserSeatIdAndArea <span class="hljs-number">561</span><span class="hljs-meta">&amp;24</span><br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212208903.png" alt="添加环境变量"></p><ul><li>单击’触发器’,增加触发器</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212209042.png" alt="单击&#39;触发器&#39;,增加触发器"></p><ul><li>添加完成<ul><li>cron(30 14 * * ?)</li></ul></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212210294.png" alt="添加完成"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212211234.png" alt="添加完成"></p><ul><li>后面就自动22:30预约了</li></ul><p>可以在这里看预约日志</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212211395.png" alt="可以在这里看预约日志"></p>]]></content>
    
    
    <categories>
      
      <category>工具</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NodeJs</tag>
      
      <tag>工具</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vue源码分析-快速版(DMQ的MVVM为例)</title>
    <link href="/2022/05/20/%E5%89%8D%E7%AB%AF/vue%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E5%BF%AB%E9%80%9F%E7%89%88/"/>
    <url>/2022/05/20/%E5%89%8D%E7%AB%AF/vue%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E5%BF%AB%E9%80%9F%E7%89%88/</url>
    
    <content type="html"><![CDATA[<h3 id="感兴趣的可以下载这位老师的例子"><a href="#感兴趣的可以下载这位老师的例子" class="headerlink" title="感兴趣的可以下载这位老师的例子"></a>感兴趣的可以下载这位老师的例子</h3><ul><li><strong>使用的DMQ的MVVM为例</strong></li><li><a href="https://github.com/superBiuBiuMan/vue-source-analysis">地址(单击我跳转)</a></li></ul><h3 id="前置知识"><a href="#前置知识" class="headerlink" title="前置知识"></a>前置知识</h3><h4 id="知道节点"><a href="#知道节点" class="headerlink" title="知道节点"></a>知道节点</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205201157179.png" alt="文档节点"></p><table><thead><tr><th align="center"></th><th align="center">nodeName</th><th align="center">nodeType</th><th align="center">nodeValue</th></tr></thead><tbody><tr><td align="center">文档节点</td><td align="center">#document</td><td align="center">9</td><td align="center">null</td></tr><tr><td align="center">元素节点</td><td align="center">标签名</td><td align="center">1</td><td align="center">null</td></tr><tr><td align="center">属性节点</td><td align="center">属性名</td><td align="center">2</td><td align="center">属性值</td></tr><tr><td align="center">文本节点</td><td align="center">#text</td><td align="center">3</td><td align="center">文本内容</td></tr></tbody></table><h4 id="知道一些方法或者属性"><a href="#知道一些方法或者属性" class="headerlink" title="知道一些方法或者属性"></a>知道一些方法或者属性</h4><ul><li><code>dom元素.childNodes</code>属性,获取dom元素下的所有节点(包括文本节点和其他(换行符也是文本节点))<ul><li>而<code>dom元素.children</code>是获取dom元素下的所有的元素节点</li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;d&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>12<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>123<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>1234<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>12345<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> d = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;d&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(d.<span class="hljs-property">childNodes</span>);</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(d.<span class="hljs-property">children</span>);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>使用children输出结果</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205201222982.png" alt="使用children输出结果"></p><p>使用childNodes输出结果</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205201222088.png" alt="使用childNodes输出结果"></p><ul><li><p><strong>特别注意,如果使用node.appendChild(被添加的节点) 如果被添加的节点存在于原有的文档上面,那么被添加的节点就会被移动到新的位置!</strong></p></li><li><p><code>node.attributes</code>获取元素节点身上的所有属性(返回一个对象)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;div id=<span class="hljs-string">&quot;id&quot;</span> attr=<span class="hljs-string">&quot;123&quot;</span>&gt;&lt;/div&gt;<br><br></code></pre></td></tr></table></figure><p>调用<code>attributes</code>返回截图</p></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205201914067.png" alt="调用attributes"></p><p>所以我们可以通过其里面的<code>name</code>,和<code>value</code>等获取属性名称和值</p><ul><li><code>node.removeAttribute()</code>从指定的元素中删除一个属性。<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/removeAttribute">具体用法</a></li></ul><p></p><h3 id="数据代理理解与原理"><a href="#数据代理理解与原理" class="headerlink" title="数据代理理解与原理"></a>数据代理理解与原理</h3><h4 id="什么是数据代理"><a href="#什么是数据代理" class="headerlink" title="什么是数据代理"></a>什么是数据代理</h4><p>本来我们需要通过this._data.属性名才可以读取到data上的属性值的,但是我们通过数据代理,可以直接通过vm.属性名就可以读取到了</p><h4 id="数据代理干什么的-有什么用"><a href="#数据代理干什么的-有什么用" class="headerlink" title="数据代理干什么的,有什么用"></a>数据代理干什么的,有什么用</h4><p>简化了流程操作,可以看看vuex当中的mapGetters和mapState就是简化了我们的流程</p><h4 id="数据代理原理是什么"><a href="#数据代理原理是什么" class="headerlink" title="数据代理原理是什么"></a>数据代理原理是什么</h4><p>原理就是通过<code>defineProperty</code>给vm添加data当中所有的属性和属性值</p><p>并且通过<code>getter</code>返回所要读取的属性值,比如读取<code>this.msg</code>.那么就自动调用<code>getter</code>当中的方法</p><p>并且通过<code>setter</code>设置要设置的属性值,比如要设置<code>this.msg = &quot;新信息&quot;</code>,那么就会自动调用<code>setter</code>方法</p><h3 id="模板解析"><a href="#模板解析" class="headerlink" title="模板解析"></a>模板解析</h3><ul><li>模板解析只发生在初始化节点,当初始化完成后,模板代码就会被删除</li><li>解析二种模板语法<ul><li><strong>插值语法:</strong> (<code>&#123;&#123; xxx &#125;&#125;</code>) 操作的是文本节点,通过<code>textContent=动态值和正则来进行匹配</code></li><li><strong>指令语法:</strong> 操作元素节点<ul><li>事件指令(比如说v-on:xxx&#x3D;xxxx),给元素绑定直接的事件名和回调函数,(通过addEventListener(事件类型,<strong>事件回调.bind(vm)</strong>))来进行绑定(注意通过bind来改变this的指向了)</li><li>非事件指令<ul><li><code>v-text</code>:  element.textContent &#x3D; 动态值</li><li><code>v-html</code>: element.innerHTML &#x3D; 动态值</li><li><code>v-bind:class</code>: element.className &#x3D; 动态值 + 静态class</li></ul></li></ul></li><li>除了事件指令外,解析其他模板语法的时候,都会创建一个对应的watcher对象,用于将来更新对应的节点</li></ul></li></ul><h3 id="数据绑定"><a href="#数据绑定" class="headerlink" title="数据绑定"></a>数据绑定</h3><h4 id="实现数据绑定需要解决的二个问题"><a href="#实现数据绑定需要解决的二个问题" class="headerlink" title="实现数据绑定需要解决的二个问题"></a>实现数据绑定需要解决的二个问题</h4><ul><li><strong>如何知道data的属性发生了变化的</strong>  (重要)<ul><li>通过<code>observer</code>为<code>data</code>当中的每一个属性通过数据劫持添加<code>getter</code>和<code>setter</code></li><li>原来data当中的数据是没有<code>getter</code>和<code>setter</code>的,通过<strong>数据劫持</strong>去添加了<code>getter</code>和<code>setter</code></li></ul></li><li>那么要如何知道当前这个数据变化要更新哪些节点呢?<ul><li>通过订阅者&#x2F;发布者模式</li></ul></li></ul><h4 id="1-发布者observer"><a href="#1-发布者observer" class="headerlink" title="1.发布者observer"></a>1.发布者observer</h4><ul><li>给data中的所有层次的属性都添加<code>setter</code> 和<code>getter</code>(也就是数据劫持)</li><li>同时为data当中的<strong>每一个属性</strong>创建一个对应的dep对象</li><li><strong>dep对象</strong>与<strong>data当中的每一个属性</strong>为一一对应的对象</li></ul><h4 id="1-5中间还需要一个dep-订阅器-去通知订阅者-watcher"><a href="#1-5中间还需要一个dep-订阅器-去通知订阅者-watcher" class="headerlink" title="1.5中间还需要一个dep(订阅器),去通知订阅者(watcher)"></a>1.5中间还需要一个dep(订阅器),去通知订阅者(watcher)</h4><ul><li>dep和watcher的关系是初始化的时候就建立起来的</li></ul><h4 id="2-订阅者-watcher"><a href="#2-订阅者-watcher" class="headerlink" title="2.订阅者(watcher)"></a>2.订阅者(watcher)</h4><ul><li>解析每一个模板语法都创建一个watcher(比如模板当中有一个标签使用了插值语法,那就会创建一个watcher,<code>v-bind</code>也会触发创建watcher)</li><li><strong>并且创建watcher的时候最后一个参数为用于更新节点的回调函数</strong></li></ul><p>原理分析图如下面二张图</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205202135640.jpg" alt="数据绑定原理图-再次"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207181523287.png" alt="数据绑定原理图-再次-再次"></p><h3 id="数据双向绑定"><a href="#数据双向绑定" class="headerlink" title="数据双向绑定"></a>数据双向绑定</h3><ul><li><p>理解</p><ul><li>以input中的<code>v-model</code>来说,也就是&lt;input v-model&#x3D;”msg”&#x2F;&gt;</li><li><strong>从data到页面的绑定</strong>:输入框是根据<code>data</code>中的<code>msg</code>做初始化显示和更新显示</li><li><strong>从页面到data绑定</strong>:当输入发生改变时，会自动的将输入的最新值自动保存到<code>data</code>的<code>msg</code>上</li></ul></li><li><p>原理</p><ul><li><strong>从vm配置对象当中的<code>data</code>到页面的绑定</strong>:内部给<code>input</code>指定了动态<code>value</code>为<code>msg</code>的值，因为有单向数据绑定的存在，一旦更新msg, 输入框就会自动更新显示</li><li>**从页面到data绑定:**内部给input绑定了<code>input</code>事件监听(<code>input</code>事件监听是输入的内容和原来内容不同的时候才会执行,而<code>change</code>是改变就触发)，在回调函数中读取<code>input</code>最新的<code>value</code>值保存到<code>data</code>的<code>msg</code>属性上</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>javscript</tag>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>git添加代理,让github克隆的速度增加变快</title>
    <link href="/2022/05/19/%E5%B7%A5%E5%85%B7/git%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%90%86/"/>
    <url>/2022/05/19/%E5%B7%A5%E5%85%B7/git%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%90%86/</url>
    
    <content type="html"><![CDATA[<h4 id="clash的配置"><a href="#clash的配置" class="headerlink" title="clash的配置"></a>clash的配置</h4><p><strong>注意Allow LAN要打上勾</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205172143514.png" alt="注意Allow LAN"></p><h4 id="方法1"><a href="#方法1" class="headerlink" title="方法1"></a>方法1</h4><p>添加创建<code>.gitconfig</code>文件,内容如下</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml">[<span class="hljs-string">http</span>]<br><span class="hljs-string">proxy</span> <span class="hljs-string">=</span> <span class="hljs-string">http://127.0.0.1:7890</span><br>[<span class="hljs-string">https</span>]<br><span class="hljs-string">proxy</span> <span class="hljs-string">=</span> <span class="hljs-string">https://127.0.0.1:7890</span><br></code></pre></td></tr></table></figure><p>创建这个文件的目录到git里面看下</p><p>可以看到,我这里C:\Users\Administrator,说明我需要在这个文件下创建<code>.gitconfig</code></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205172146336.png"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205172147214.png" alt="创建的文件"></p><p>添加后的文件内容为</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205172148586.png"></p><p>测试连接</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">curl -<span class="hljs-selector-tag">I</span> www<span class="hljs-selector-class">.google</span><span class="hljs-selector-class">.com</span><br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205172153230.png" alt="成功"></p><h4 id="方法2"><a href="#方法2" class="headerlink" title="方法2"></a>方法2</h4><p>找到git的安装路径,找到<code>\Git\etc\bash.bashrc</code>文件</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205172149755.png" alt="每个人路径不同!"></p><p>添加如下内容</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"># clash <br><span class="hljs-keyword">export</span> http_proxy=<span class="hljs-attr">http</span>:<span class="hljs-comment">//127.0.0.1:7890;export https_proxy=http://127.0.0.1:7890</span><br><br><span class="hljs-comment">//下面这里可以不用添加,这里做个记录~</span><br># V2rayN<br># <span class="hljs-keyword">export</span> http_proxy=<span class="hljs-string">&quot;socks5://127.0.0.1:7891&quot;</span> <span class="hljs-keyword">export</span>  https_proxy=<span class="hljs-attr">socks5</span>:<span class="hljs-comment">//127.0.0.1:7890</span><br></code></pre></td></tr></table></figure><p>添加完成</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205172151141.png" alt="添加后"></p><p>测试连接</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">curl -<span class="hljs-selector-tag">I</span> www<span class="hljs-selector-class">.google</span><span class="hljs-selector-class">.com</span><br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205172152855.png" alt="成功"></p>]]></content>
    
    
    <categories>
      
      <category>工具</category>
      
    </categories>
    
    
    <tags>
      
      <tag>工具</tag>
      
      <tag>git</tag>
      
      <tag>github</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vue当中addRoutes动态添加路由白屏解决和next(),next(&quot;/&quot;)的一些区别</title>
    <link href="/2022/05/16/%E5%89%8D%E7%AB%AF/vue%E5%BD%93%E4%B8%ADaddRoutes%E5%8A%A8%E6%80%81%E6%B7%BB%E5%8A%A0%E8%B7%AF%E7%94%B1%E7%99%BD%E5%B1%8F%E8%A7%A3%E5%86%B3%E5%92%8Cnext(),next()%E7%9A%84%E4%B8%80%E4%BA%9B%E5%8C%BA%E5%88%AB/"/>
    <url>/2022/05/16/%E5%89%8D%E7%AB%AF/vue%E5%BD%93%E4%B8%ADaddRoutes%E5%8A%A8%E6%80%81%E6%B7%BB%E5%8A%A0%E8%B7%AF%E7%94%B1%E7%99%BD%E5%B1%8F%E8%A7%A3%E5%86%B3%E5%92%8Cnext(),next()%E7%9A%84%E4%B8%80%E4%BA%9B%E5%8C%BA%E5%88%AB/</url>
    
    <content type="html"><![CDATA[<h3 id="问题产生前言"><a href="#问题产生前言" class="headerlink" title="问题产生前言"></a>问题产生前言</h3><ul><li><p>使用动态添加路由<code>router.addRoutes()</code>后进入一个页面,<strong>对着这一个页面刷新一下,然后页面就白屏了并且不管刷新多少次都没有用,依旧是白屏</strong>,只有重新进入页面才有效果</p><ul><li>比如对于网站<code>http://localhost:9528/#/product/attr/list</code>,现在显示是正常的,对着这一个页面刷新一下,页面就白屏了,刷新多少次都没有用,必须要重新访问一次路由才可以<del>必须要重新访问一次网站才可以(只要不再次刷新就可以</del>)</li></ul></li><li><p><a href="https://blog.csdn.net/qq_41912398/article/details/109231418">本文参考学习了该博主的文章</a></p></li></ul><h3 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h3><ul><li><p>动态添加路由无非就是几个过程</p><ol><li>router.addRoutes();</li><li>页面访问动态生成的路由</li></ol></li><li><p><strong>步骤1没有问题,问题就出现在页面访问动态生成的路由上面</strong></p></li></ul><h4 id="我们再来分析下过程"><a href="#我们再来分析下过程" class="headerlink" title="我们再来分析下过程"></a>我们再来分析下过程</h4><ol><li>页面被刷新,路由信息被重新计算生成并通过<code>addRoutes</code>方法动态添加到了<code>router</code>当中</li><li><code>addRoutes</code>方法还没有完成,用户就已经在访问界面了(可以理解为<code>addRoutes</code>和访问路由同时进行)</li><li>用户一边访问界面,后面一边动态添加路由,<code>addRoutes</code>相当于还没有完成就被访问了路由(可以理解访问了一个此刻不存在的路由导致的白屏)</li><li>所以必须要必须要重新访问一次路由才可以解决白屏问题</li></ol><h4 id="要怎么解决这个问题"><a href="#要怎么解决这个问题" class="headerlink" title="要怎么解决这个问题?"></a>要怎么解决这个问题?</h4><h5 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h5><ul><li><p>不应该使用<code>next()</code></p></li><li><p>全局前置守卫使用<code>next(&#123; ...to, replace: true &#125;)</code></p><ul><li><p><code>next(&#123; ...to&#125;);</code> 也是可以的</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">next</span>(&#123; ...to, <span class="hljs-attr">replace</span>: <span class="hljs-literal">true</span> &#125;)中的<span class="hljs-attr">replace</span>: <span class="hljs-literal">true</span><br><br>只是一个设置信息，告诉<span class="hljs-variable constant_">VUE</span>本次操作后，不能通过浏览器后退按钮，返回前一个路由<br><span class="hljs-comment">//换句话说,你使用了replace:true后重新访问了网站</span><br><span class="hljs-comment">//就不可以通过浏览器来返回页面之前和之后的网站了</span><br><br>举例子: <br><br><span class="hljs-comment">//比如我刷新之前依次!依次!依次!访问了下面二个网站</span><br>网站<span class="hljs-number">1</span>: <span class="hljs-attr">http</span>:<span class="hljs-comment">//localhost:9528/#/product/attr/list</span><br>网站<span class="hljs-number">2</span>: <span class="hljs-attr">http</span>:<span class="hljs-comment">//localhost:9528/#/product/spu/list</span><br>那么按照平时的来说,我刷新页面依旧可以使用浏览器的前进后退按钮进行跳转了<br>后退按下,跳转到了网站<span class="hljs-number">1</span>,然后此时前进按下,跳转到网站<span class="hljs-number">2</span><br><br><span class="hljs-comment">//但是如果使用了replace:true</span><br>那么刷新网页后就不可以通过前进后退按钮来后退了,之前记录都无效了<br><br></code></pre></td></tr></table></figure></li></ul></li></ul><h5 id="动态添加路由-全局前置守卫应该修改成为如下代码-只是示例参考"><a href="#动态添加路由-全局前置守卫应该修改成为如下代码-只是示例参考" class="headerlink" title="动态添加路由,全局前置守卫应该修改成为如下代码(只是示例参考)"></a>动态添加路由,全局前置守卫应该修改成为如下代码(只是示例参考)</h5><ul><li>下面代码是来自vue-element-admin模板当中src\permission.js文件夹的~这里进行了修改举例</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//如果token存在</span><br><span class="hljs-keyword">if</span> (hasToken) &#123;<br>    <span class="hljs-comment">//token存在了还访问登录界面,就跳转到首页去</span><br>    <span class="hljs-keyword">if</span> (to.<span class="hljs-property">path</span> === <span class="hljs-string">&#x27;/login&#x27;</span>) &#123;<br>        <span class="hljs-title function_">next</span>(&#123;<span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/&#x27;</span>&#125;);<br>        <span class="hljs-title class_">NProgress</span>.<span class="hljs-title function_">done</span>();<br>    &#125;<br>    <span class="hljs-comment">//token存在并且访问的不是登录地址</span><br>    <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-comment">//获取用户名</span><br>        <span class="hljs-keyword">const</span> hasGetUserInfo = store.<span class="hljs-property">getters</span>.<span class="hljs-property">name</span>;<br>        <span class="hljs-comment">//用户名存在</span><br>        <span class="hljs-keyword">if</span> (hasGetUserInfo) &#123;<br>            <span class="hljs-comment">//放行</span><br>            <span class="hljs-title function_">next</span>()<br>        &#125;<br>        <span class="hljs-comment">//用户名不存在,说明token过期了或者被删除了</span><br>        <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-comment">//发送请求获取并存储用户信息</span><br>                <span class="hljs-keyword">await</span> store.<span class="hljs-title function_">dispatch</span>(<span class="hljs-string">&#x27;user/getInfo&#x27;</span>)<br>                <span class="hljs-comment">//用于是动态添加的路由,所以这里应该修改</span><br>                <span class="hljs-comment">// next();</span><br>                <span class="hljs-comment">//改为这个</span><br>                <span class="hljs-title function_">next</span>(&#123;...to&#125;);<br>                <span class="hljs-comment">//或者</span><br>                <span class="hljs-comment">// next(&#123;...to,replace:true&#125;);</span><br>            &#125;<br>            <span class="hljs-comment">//发生错误</span><br>            <span class="hljs-keyword">catch</span> (error) &#123;<br>                <span class="hljs-comment">//移除token信息(不移除这个全局前置守卫就是死循环!)</span><br>                <span class="hljs-keyword">await</span> store.<span class="hljs-title function_">dispatch</span>(<span class="hljs-string">&#x27;user/resetToken&#x27;</span>)<br>                <span class="hljs-comment">//弹出信息框</span><br>                <span class="hljs-title class_">Message</span>.<span class="hljs-title function_">error</span>(error || <span class="hljs-string">&#x27;Has Error&#x27;</span>)<br>                <span class="hljs-comment">//跳转到登录页面</span><br>                <span class="hljs-title function_">next</span>(<span class="hljs-string">`/login?redirect=<span class="hljs-subst">$&#123;to.path&#125;</span>`</span>)<br>                <span class="hljs-title class_">NProgress</span>.<span class="hljs-title function_">done</span>()<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-comment">//token不存在</span><br><span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-comment">//如果用户访问的是登录界面,放行</span><br>    <span class="hljs-keyword">if</span> (<span class="hljs-string">&#x27;/login&#x27;</span> == to.<span class="hljs-property">path</span>) &#123;<br>        <span class="hljs-title function_">next</span>()<br>    &#125;<br>    <span class="hljs-comment">//用户访问的不是登录界面,跳转到登录界面并携带跳转之前的网址</span><br>    <span class="hljs-comment">//这样子当用户登录成功后就可以跳转到用户之前想去的网址</span><br>    <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-title function_">next</span>(<span class="hljs-string">`/login?redirect=<span class="hljs-subst">$&#123;to.path&#125;</span>`</span>)<br>        <span class="hljs-title class_">NProgress</span>.<span class="hljs-title function_">done</span>()<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="为什么next-换为next-…to-或者next-…to-replace-true-就可以了-next和这二个区别在哪里"><a href="#为什么next-换为next-…to-或者next-…to-replace-true-就可以了-next和这二个区别在哪里" class="headerlink" title="为什么next()换为next({…to})(或者next({…to,replace:true}))就可以了,next和这二个区别在哪里"></a>为什么next()换为next({…to})(或者next({…to,replace:true}))就可以了,next和这二个区别在哪里</h3><h4 id="首先我们需要知道路由守卫-全局前置守卫为例子"><a href="#首先我们需要知道路由守卫-全局前置守卫为例子" class="headerlink" title="首先我们需要知道路由守卫(全局前置守卫为例子)"></a>首先我们需要知道路由守卫(全局前置守卫为例子)</h4><ul><li><p><strong>先上代码</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> &#123;<br>to <span class="hljs-comment">// 要去的路由</span><br><span class="hljs-keyword">from</span> <span class="hljs-comment">// 当前路由</span><br><span class="hljs-title function_">next</span>() <span class="hljs-comment">// 放行的意思</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>代码很简单,但是除了<code>next()</code> 我们应该还见过<code>next(&quot;/&quot;)</code> <code>next(&quot;/login&quot;)</code> <code>next(&#123;...to&#125;)</code> <code>next(&#123;...to,replace:true&#125;)</code>等</p></li><li><p>在路由守卫当中,只有<code>next()</code>是放行(放你通过,不会在审核),而<code>next(&quot;/&quot;)</code> <code>next(&quot;/login&quot;)</code> <code>next(&#123;...to&#125;)</code> <code>next(&#123;...to,replace:true&#125;</code> 等,都是<strong>中断当中的全局前置守卫,执行新的全局前置守卫</strong></p><ul><li><p><strong>中断当中的全局前置守卫,执行新的全局前置守卫</strong>意思就是会<strong>再次调用beforeEach</strong></p></li><li><p>如下面代码例子</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//比如这个,你一定以为是跳转到&quot;/login&quot;就完事了</span><br><span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> &#123;<br>  <span class="hljs-title function_">next</span>(<span class="hljs-string">&#x27;/login&#x27;</span>)<br>&#125;<br><span class="hljs-comment">//实际上执行的过程代码</span><br><span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> &#123;<br>  <span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params"><span class="hljs-string">&#x27;/logon&#x27;</span>, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> &#123;<br>   <span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params"><span class="hljs-string">&#x27;/logon&#x27;</span>, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> &#123;<br>    <span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params"><span class="hljs-string">&#x27;/logon&#x27;</span>, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> &#123;<br>    beforeEach...  <span class="hljs-comment">// 一直循环下去...... , 因为我们没有使用 next() 放行</span><br> &#125;<br>  &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>一直循环下去导致溢出</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205162316978.png" alt="Maximum call stack size exceeded"></p></li><li><p>再来看看这里例子 <strong>地址栏输入&#x2F;home</strong>(从哪里来的不重要,我们只需要关注到哪里去)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> &#123;<br>   <span class="hljs-comment">//如果目的地址等于 &#x27;/home&#x27;</span><br>   <span class="hljs-comment">//就跳转到 登录地址 &#x27;/login&#x27;</span><br>    <span class="hljs-keyword">if</span>(to.<span class="hljs-property">path</span> === <span class="hljs-string">&#x27;/home&#x27;</span>) &#123;<br>        <span class="hljs-title function_">next</span>(<span class="hljs-string">&#x27;/login&#x27;</span>)<br>    &#125; <br>    <span class="hljs-comment">// 如果要去的地方不是 /home ,就放行</span><br>    <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-title function_">next</span>();<span class="hljs-comment">//放行</span><br>    &#125;<br>&#125;<br><span class="hljs-comment">//访问过程如下代码</span><br><span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> &#123;<br>   <span class="hljs-comment">//进行了中断跳转,会再次调用beforeEach去判断,此时的目的地址是&#x27;login&#x27;了</span><br>   <span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params"><span class="hljs-string">&#x27;/login&#x27;</span>, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// 现在要去的地方不是 /home ， 因此放行</span><br>     <span class="hljs-title function_">next</span>();<br>   &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>看看这代码执行的流程图</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205192128061.jpg" alt="执行的流程图"></p></li></ul></li></ul><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><ul><li><code>next()</code>是放行,不会引发beforeEach再次调用</li><li><code>next(&quot;/&quot;)</code> <code>next(&quot;/login&quot;)</code> <code>next(&#123;...to&#125;)</code> <code>next(&#123;...to,replace:true&#125;)</code>这些是中断(也就是会<strong>再次调用beforeEach</strong>),直到执行到了next()才会停止中断</li></ul><h4 id="大家可以看看这些全局前置守卫死循环的例子"><a href="#大家可以看看这些全局前置守卫死循环的例子" class="headerlink" title="大家可以看看这些全局前置守卫死循环的例子"></a>大家可以看看这些全局前置守卫死循环的例子</h4><p>这些都是死循环,使用就出现<code>Maximum call stack size exceeded</code></p><h5 id="死循环1"><a href="#死循环1" class="headerlink" title="死循环1"></a>死循环1</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">router.<span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;beforeEach&#x27;</span>);<br>    <span class="hljs-keyword">if</span> (<span class="hljs-literal">true</span>) &#123;<br>        <span class="hljs-title function_">next</span>(<span class="hljs-string">&#x27;/&#x27;</span>);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-title function_">next</span>();<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure><h5 id="死循环2"><a href="#死循环2" class="headerlink" title="死循环2"></a>死循环2</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">router.<span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">var</span> user = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(sessionStorage.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&#x27;user&#x27;</span>));<br>    <span class="hljs-keyword">if</span>(user == <span class="hljs-literal">null</span>)&#123;<br>       <span class="hljs-title function_">next</span>(&#123; <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/login&#x27;</span> &#125;); <span class="hljs-comment">// 没有用户，就跳去登录</span><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>       <span class="hljs-title function_">next</span>();<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure><h5 id="死循环3"><a href="#死循环3" class="headerlink" title="死循环3"></a>死循环3</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript">router.<span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params">to,<span class="hljs-keyword">from</span>,next</span>) =&gt;</span>&#123;<br>  <span class="hljs-keyword">if</span> (sessionStorage.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&quot;token&quot;</span>)) &#123;<br>     <span class="hljs-keyword">if</span>(to.<span class="hljs-property">path</span> === <span class="hljs-string">&quot;/login&quot;</span>)&#123;<br>       <span class="hljs-title function_">next</span>(&#123;<span class="hljs-attr">path</span>:<span class="hljs-string">&quot;/dashboard&quot;</span>&#125;)<br>     &#125;<br>     <span class="hljs-keyword">else</span>&#123;<br>       <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;1&quot;</span>)<br>       <span class="hljs-title function_">next</span>()<br>     &#125;     <br>  &#125;<span class="hljs-keyword">else</span>&#123;<br>    <span class="hljs-title function_">next</span>(&#123;<span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/login&quot;</span>&#125;)   <span class="hljs-comment">// 会再次执行前置导航守卫，由于路径变化</span><br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>javscript</tag>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>尚品汇Vue项目 前台+后台完成品源码(含在线演示)</title>
    <link href="/2022/05/16/%E5%89%8D%E7%AB%AF/%E5%B0%9A%E5%93%81%E6%B1%87Vue%E9%A1%B9%E7%9B%AE%20%E5%89%8D%E5%8F%B0+%E5%90%8E%E5%8F%B0%E5%AE%8C%E6%88%90%E5%93%81%E6%BA%90%E7%A0%81(%E5%90%AB%E5%9C%A8%E7%BA%BF%E6%BC%94%E7%A4%BA)/"/>
    <url>/2022/05/16/%E5%89%8D%E7%AB%AF/%E5%B0%9A%E5%93%81%E6%B1%87Vue%E9%A1%B9%E7%9B%AE%20%E5%89%8D%E5%8F%B0+%E5%90%8E%E5%8F%B0%E5%AE%8C%E6%88%90%E5%93%81%E6%BA%90%E7%A0%81(%E5%90%AB%E5%9C%A8%E7%BA%BF%E6%BC%94%E7%A4%BA)/</url>
    
    <content type="html"><![CDATA[<h2 id="尚品汇前台练习"><a href="#尚品汇前台练习" class="headerlink" title="尚品汇前台练习"></a>尚品汇前台练习</h2><ul><li>在线地址演示1(前台项目): <a href="http://82.156.205.62:8081/">http://82.156.205.62:8081/</a></li><li>在线地址演示2(前台项目): <a href="http://82.156.205.62:8083/">http://82.156.205.62:8083/</a></li></ul><h3 id="自己添加了下收货地址和删除收货地址-样式没有过多去处理"><a href="#自己添加了下收货地址和删除收货地址-样式没有过多去处理" class="headerlink" title="自己添加了下收货地址和删除收货地址(样式没有过多去处理~)"></a>自己添加了下收货地址和删除收货地址(样式没有过多去处理~)</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220503142230.png"></p><h3 id="有时候主页的一些数据老是获取不到-用了假数据-但是数据内容和接口地址是一样的"><a href="#有时候主页的一些数据老是获取不到-用了假数据-但是数据内容和接口地址是一样的" class="headerlink" title="有时候主页的一些数据老是获取不到,用了假数据(但是数据内容和接口地址是一样的)"></a>有时候主页的一些数据老是获取不到,用了假数据(但是数据内容和接口地址是一样的)</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220503142423.png"></p><h3 id="添加地址"><a href="#添加地址" class="headerlink" title="添加地址"></a>添加地址</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220503142718.png"></p><h3 id="信息弹窗全部改为element-ui的message提示"><a href="#信息弹窗全部改为element-ui的message提示" class="headerlink" title="信息弹窗全部改为element-ui的message提示"></a>信息弹窗全部改为element-ui的message提示</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220503142801.png"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220503142829.png"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220503142855.png"></p><h3 id="项目依赖安装"><a href="#项目依赖安装" class="headerlink" title="项目依赖安装"></a>项目依赖安装</h3><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">npm <span class="hljs-keyword">install</span><br></code></pre></td></tr></table></figure><h3 id="项目运行"><a href="#项目运行" class="headerlink" title="项目运行"></a>项目运行</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">npm <span class="hljs-built_in">run</span> serve<br></code></pre></td></tr></table></figure><h3 id="项目打包编译"><a href="#项目打包编译" class="headerlink" title="项目打包编译"></a>项目打包编译</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">npm <span class="hljs-built_in">run</span> build<br></code></pre></td></tr></table></figure><h3 id="地址"><a href="#地址" class="headerlink" title="地址"></a>地址</h3><h4 id="国外"><a href="#国外" class="headerlink" title="国外"></a>国外</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/superBiuBiuMan/g</span>shop_project<br></code></pre></td></tr></table></figure><h4 id="国内"><a href="#国内" class="headerlink" title="国内"></a>国内</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">https:<span class="hljs-regexp">//gi</span>tee.com<span class="hljs-regexp">/superBiuBiu/g</span>shop_project<br></code></pre></td></tr></table></figure><h2 id="尚品汇后台练习"><a href="#尚品汇后台练习" class="headerlink" title="尚品汇后台练习"></a>尚品汇后台练习</h2><ul><li>在线演示地址1(后台项目): <a href="http://82.156.205.62:9261/">http://82.156.205.62:9261</a></li><li>在线演示地址2(后台项目): <a href="http://82.156.205.62:9260/">http://82.156.205.62:9260</a></li></ul><h3 id="首页登录"><a href="#首页登录" class="headerlink" title="首页登录"></a>首页登录</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205161600234.png" alt="登录界面"></p><h3 id="首页图表"><a href="#首页图表" class="headerlink" title="首页图表"></a>首页图表</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205161601799.png" alt="首页图表"></p><h3 id="品牌管理"><a href="#品牌管理" class="headerlink" title="品牌管理"></a>品牌管理</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205161601468.png" alt="品牌管理"></p><h3 id="权限管理"><a href="#权限管理" class="headerlink" title="权限管理"></a>权限管理</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205161602080.png" alt="权限管理-用户管理"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205161600121.png"></p><h3 id="商品管理"><a href="#商品管理" class="headerlink" title="商品管理"></a>商品管理</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205161601594.png" alt="商品管理"></p><h3 id="项目依赖安装-1"><a href="#项目依赖安装-1" class="headerlink" title="项目依赖安装"></a>项目依赖安装</h3><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">npm <span class="hljs-keyword">install</span><br></code></pre></td></tr></table></figure><h3 id="项目运行-1"><a href="#项目运行-1" class="headerlink" title="项目运行"></a>项目运行</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">npm <span class="hljs-built_in">run</span> dev<br></code></pre></td></tr></table></figure><h3 id="项目打包编译-1"><a href="#项目打包编译-1" class="headerlink" title="项目打包编译"></a>项目打包编译</h3><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-comment">//构建生产环境</span><br>npm run build:prod<br><span class="hljs-comment">//构成测试环境</span><br>npm run build:stage<br></code></pre></td></tr></table></figure><h4 id="如果想在nginx上线-注意配置转发和删除-env-production的里面的内容-以生产环境打包为例"><a href="#如果想在nginx上线-注意配置转发和删除-env-production的里面的内容-以生产环境打包为例" class="headerlink" title="如果想在nginx上线,注意配置转发和删除.env.production的里面的内容(以生产环境打包为例)"></a>如果想在nginx上线,注意配置转发和删除.env.production的里面的内容(以生产环境打包为例)</h4><ul><li>需要删除Vue_APP_BASE_API里面的内容~</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205161644946.png" alt=".env.production文件"></p><ul><li><p>nginx转发设置</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205161646156.png" alt="nginx转发设置"></p></li></ul><h3 id="地址-1"><a href="#地址-1" class="headerlink" title="地址"></a>地址</h3><h4 id="国外-1"><a href="#国外-1" class="headerlink" title="国外"></a>国外</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/superBiuBiuMan/g</span>shop_project_after<br></code></pre></td></tr></table></figure><h4 id="国内-1"><a href="#国内-1" class="headerlink" title="国内"></a>国内</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">https:<span class="hljs-regexp">//gi</span>tee.com<span class="hljs-regexp">/superBiuBiu/g</span>shop_project_after<br></code></pre></td></tr></table></figure><h4 id="如果角色权限不能正常赋予请看这里"><a href="#如果角色权限不能正常赋予请看这里" class="headerlink" title="如果角色权限不能正常赋予请看这里"></a>如果角色权限不能正常赋予请看这里</h4><ul><li>elementUI tree在收集数据的时候,并不会在上几级的数据放入,所以会导致用户权限不能正常赋予,这里给出了解决办法</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript">vue elementUI tree树形控件获取父节点<span class="hljs-variable constant_">ID</span>的实例<br><br>修改源码:<br>情况<span class="hljs-number">1</span>: element-ui没有实现按需引入打包<br>  node_modules\element-ui\lib\element-ui.<span class="hljs-property">common</span>.<span class="hljs-property">js</span>    <span class="hljs-number">25382</span>行修改源码  去掉 <span class="hljs-string">&#x27;includeHalfChecked &amp;&amp;&#x27;</span><br>  <span class="hljs-comment">// if ((child.checked || includeHalfChecked &amp;&amp; child.indeterminate) &amp;&amp; (!leafOnly || leafOnly &amp;&amp; child.isLeaf)) &#123;</span><br>  <span class="hljs-keyword">if</span> ((child.<span class="hljs-property">checked</span> || child.<span class="hljs-property">indeterminate</span>) &amp;&amp; (!leafOnly || leafOnly &amp;&amp; child.<span class="hljs-property">isLeaf</span>)) &#123;<br><br>      <br>情况<span class="hljs-number">2</span>: element-ui实现了按需引入打包<br>  node_modules\element-ui\lib\tree.<span class="hljs-property">js</span>    <span class="hljs-number">1051</span>行修改源码  去掉 <span class="hljs-string">&#x27;includeHalfChecked &amp;&amp;&#x27;</span><br>  <span class="hljs-comment">// if ((child.checked || includeHalfChecked &amp;&amp; child.indeterminate) &amp;&amp; (!leafOnly || leafOnly &amp;&amp; child.isLeaf)) &#123;</span><br>  <span class="hljs-keyword">if</span> ((child.<span class="hljs-property">checked</span> || child.<span class="hljs-property">indeterminate</span>) &amp;&amp; (!leafOnly || leafOnly &amp;&amp; child.<span class="hljs-property">isLeaf</span>)) &#123;<br><br></code></pre></td></tr></table></figure><h2 id="注意"><a href="#注意" class="headerlink" title="注意!!!!!!!!!"></a>注意!!!!!!!!!</h2><ul><li><strong>vue-admin管理模板npm安装依赖后npm run de提示依赖core-js,@babel等报错的解决办法</strong></li></ul><h3 id="安装别人做好的后台管理项目-npm-run-dev后报错"><a href="#安装别人做好的后台管理项目-npm-run-dev后报错" class="headerlink" title="安装别人做好的后台管理项目,npm run dev后报错"></a>安装别人做好的后台管理项目,npm run dev后报错</h3><ul><li>都是这种<code>core-js/modules/es.array.concat.js </code>什么的错误</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205151908067.png" alt="报错项"></p><h3 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h3><ol><li><p>找到项目下的babel.config.js <strong>原来的presets改为下面</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">presets</span>: [ [ <span class="hljs-string">&quot;@vue/app&quot;</span>, &#123; <span class="hljs-attr">useBuiltIns</span>: <span class="hljs-string">&quot;entry&quot;</span> &#125; ] ],<br></code></pre></td></tr></table></figure></li><li><p>改好之后</p></li></ol><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205151909614.png" alt="原来的presets改为下面"></p><ol start="3"><li><p>重新运行<code>npm run dev</code> 成功!</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205151910231.png" alt="成功"></p></li></ol>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vue</tag>
      
      <tag>vue-admin</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Echarts图表的基本使用</title>
    <link href="/2022/05/16/%E5%89%8D%E7%AB%AF/Echarts%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2022/05/16/%E5%89%8D%E7%AB%AF/Echarts%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h3 id="Echarts的初始化使用"><a href="#Echarts的初始化使用" class="headerlink" title="Echarts的初始化使用"></a>Echarts的初始化使用</h3><ul><li><p>引入什么的就不多说了,普通的js脚本怎么引入echarts就怎么引入</p></li><li><p>大概初始化的步骤</p><ul><li><ol><li>获取DOM(用于绘制表格)</li><li>依据获取的DOM对象初始化echarts(使得这个DOM对象用于展示图表数据)</li><li>书写echarts配置对象</li><li>第二步返回的echarts对象调用setOption方法并传入第三步书写的配置对象</li></ol></li></ul></li><li><p><strong>别忘记设置Dom容器的宽高了(css设置即可)</strong></p></li><li><p>好像如果是同一个echarts实例化对象,再次调用setOption方法,不会造成图表全部重新绘制,只会造成部分修改</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//重新设置图表的标题,在这之前已经调用过setOption了</span><br><span class="hljs-comment">//所以只会重新绘制图表标题</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">table1</span>.<span class="hljs-title function_">setOption</span>(&#123;<br>    <span class="hljs-attr">title</span>:&#123;<br>    <span class="hljs-attr">text</span>:<span class="hljs-variable language_">this</span>.<span class="hljs-property">showTitle</span>+<span class="hljs-string">&quot;趋势&quot;</span><br>    &#125;,<br>&#125;)<br></code></pre></td></tr></table></figure></li></ul><h4 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        * &#123;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-id">#table1</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;table1&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;table2&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./js/echarts.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//1.获取DOM容器</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> dom1 = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#table1&quot;</span>)</span><br><span class="language-javascript">        <span class="hljs-comment">//2.根据DOM容器初始化echarts实例</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> table1 = echarts.<span class="hljs-title function_">init</span>(dom1);</span><br><span class="language-javascript">        <span class="hljs-comment">//3.设置echarts展示的数据和设置图表</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> options1 = &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">//设置图表标题</span></span><br><span class="language-javascript">            <span class="hljs-attr">title</span>: &#123;</span><br><span class="language-javascript">                <span class="hljs-comment">//主标题文本</span></span><br><span class="language-javascript">                <span class="hljs-attr">text</span>: <span class="hljs-string">&quot;数据可视化&quot;</span>,</span><br><span class="language-javascript">                <span class="hljs-comment">//副标题文本</span></span><br><span class="language-javascript">                <span class="hljs-attr">subtext</span>: <span class="hljs-string">&quot;echarts的基本使用&quot;</span>,</span><br><span class="language-javascript">                <span class="hljs-comment">//设置主标题样式</span></span><br><span class="language-javascript">                <span class="hljs-attr">textStyle</span>: &#123;</span><br><span class="language-javascript">                    <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;hotpink&#x27;</span>,</span><br><span class="language-javascript">                    <span class="hljs-attr">fontStyle</span>: <span class="hljs-string">&#x27;italic&#x27;</span></span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">                <span class="hljs-comment">//设置副标题样式</span></span><br><span class="language-javascript">                <span class="hljs-attr">subtextStyle</span>:&#123;</span><br><span class="language-javascript">                    <span class="hljs-attr">color</span>:<span class="hljs-string">&#x27;yellow&#x27;</span></span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">                <span class="hljs-comment">//设置居中</span></span><br><span class="language-javascript">                <span class="hljs-attr">left</span>: <span class="hljs-string">&#x27;center&#x27;</span></span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-comment">//设置x坐标</span></span><br><span class="language-javascript">            <span class="hljs-attr">xAxis</span>: &#123;</span><br><span class="language-javascript">                <span class="hljs-attr">data</span>: [<span class="hljs-string">&quot;衣服&quot;</span>, <span class="hljs-string">&quot;直播&quot;</span>, <span class="hljs-string">&quot;游戏&quot;</span>, <span class="hljs-string">&quot;电影&quot;</span>],</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-comment">//设置y坐标</span></span><br><span class="language-javascript">            <span class="hljs-attr">yAxis</span>: &#123;</span><br><span class="language-javascript">                </span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-comment">//系列的设置,绘制怎么样类型的图表,数据的展示在这里</span></span><br><span class="language-javascript">            <span class="hljs-attr">series</span>:[</span><br><span class="language-javascript">                &#123;</span><br><span class="language-javascript">                    <span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;bar&#x27;</span>,</span><br><span class="language-javascript">                    <span class="hljs-attr">data</span>:[<span class="hljs-number">20</span>,<span class="hljs-number">30</span>,<span class="hljs-number">26</span>,<span class="hljs-number">24</span>],</span><br><span class="language-javascript">                    <span class="hljs-comment">//设置颜色</span></span><br><span class="language-javascript">                    <span class="hljs-attr">color</span>:<span class="hljs-string">&#x27;red&#x27;</span></span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">            ]</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-comment">//4.传入写好的配置项</span></span><br><span class="language-javascript">        table1.<span class="hljs-title function_">setOption</span>(options1);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205131139048.png"></p><h4 id="Echarts的setOption配置对象"><a href="#Echarts的setOption配置对象" class="headerlink" title="Echarts的setOption配置对象"></a>Echarts的setOption配置对象</h4><ul><li><code>grid</code>设置echarts的对于容器的位置 <a href="https://echarts.apache.org/zh/option.html#grid">官网API</a><ul><li>left,right,top,bottom设置为0可以使得表格占满容器</li></ul></li></ul><h4 id="Echarts的series的配置对象"><a href="#Echarts的series的配置对象" class="headerlink" title="Echarts的series的配置对象"></a>Echarts的series的配置对象</h4><ul><li><p>设置渐变填充折线图</p><ul><li><p>关键配置参数<code>areaStyle</code> <a href="https://echarts.apache.org/zh/option.html#series-line.areaStyle">官方API</a></p></li><li><p><a href="https://echarts.apache.org/zh/option.html#color">官方渐变参考代码</a></p></li><li><p>代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">series</span>:[<br>&#123;<br>  <span class="hljs-attr">type</span>:<span class="hljs-string">&quot;line&quot;</span>,<br>  <span class="hljs-attr">data</span>:[<span class="hljs-number">45</span>,<span class="hljs-number">35</span>,<span class="hljs-number">25</span>,<span class="hljs-number">87</span>,<span class="hljs-number">45</span>,<span class="hljs-number">89</span>],<br>  <span class="hljs-attr">itemStyle</span>:&#123;<br><span class="hljs-comment">//   图形透明度。支持从 0 到 1 的数字，为 0 时不绘制该图形。</span><br><span class="hljs-attr">opacity</span>:<span class="hljs-number">0</span>,<br><span class="hljs-comment">//颜色设置为紫色</span><br><span class="hljs-attr">color</span>:<span class="hljs-string">&#x27;purple&#x27;</span><br>  &#125;,<br>  <span class="hljs-comment">//areaStyle区域填充样式。设置后显示成区域面积图。</span><br><span class="hljs-comment">//https://echarts.apache.org/zh/option.html#series-line.areaStyle</span><br>  <span class="hljs-attr">areaStyle</span>:&#123;<br>  <span class="hljs-comment">//支持渐变 https://echarts.apache.org/zh/option.html#color</span><br>  <span class="hljs-attr">color</span>:&#123;<br>  <span class="hljs-comment">//线性渐变</span><br><span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;line&#x27;</span>,<br><span class="hljs-attr">x</span>: <span class="hljs-number">0</span>,<br><span class="hljs-attr">y</span>: <span class="hljs-number">0</span>,<br><span class="hljs-attr">r</span>: <span class="hljs-number">0</span>,<br><span class="hljs-attr">colorStops</span>: [&#123;<br><span class="hljs-attr">offset</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;#ce9dce&#x27;</span> <span class="hljs-comment">// 0% 处的颜色</span><br>&#125;, <br><br>&#123;<br><span class="hljs-attr">offset</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;#dcb9dc&#x27;</span> <span class="hljs-comment">// 100% 处的颜色</span><br>&#125; <br>],<br><span class="hljs-attr">global</span>: <span class="hljs-literal">false</span> <span class="hljs-comment">// 缺省为 false</span><br>  &#125;<br>  &#125;<br>&#125;<br>],<br></code></pre></td></tr></table></figure></li></ul></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205132032206.png"></p><h3 id="反向柱形图-也就是X轴和Y轴反过来显示"><a href="#反向柱形图-也就是X轴和Y轴反过来显示" class="headerlink" title="反向柱形图(也就是X轴和Y轴反过来显示)"></a>反向柱形图(也就是X轴和Y轴反过来显示)</h3><ul><li><p>原来的x轴变为了y轴,原来的y轴变为了x轴</p></li><li><p>只需要设置yAxis对象当中的<code>type:&quot;category&quot;</code>和x轴的数据放置在yAxis当中,然后把x部分删除<br><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205132058653.png"></p></li><li><p>代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        * &#123;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-id">#table1</span>,<span class="hljs-selector-id">#table2</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;table1&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.bootcdn.net/ajax/libs/echarts/5.3.2/echarts.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-comment">//1.获取DOM容器</span></span><br><span class="language-javascript"><span class="hljs-keyword">var</span> dom1 = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#table1&quot;</span>)</span><br><span class="language-javascript"><span class="hljs-comment">//2.根据DOM容器初始化echarts实例</span></span><br><span class="language-javascript"><span class="hljs-keyword">var</span> table1 = echarts.<span class="hljs-title function_">init</span>(dom1);</span><br><span class="language-javascript"><span class="hljs-comment">//3.设置echarts展示的数据和设置图表</span></span><br><span class="language-javascript"><span class="hljs-keyword">var</span> options1 = &#123;</span><br><span class="language-javascript"><span class="hljs-comment">//设置图表标题</span></span><br><span class="language-javascript"><span class="hljs-attr">title</span>: &#123;</span><br><span class="language-javascript"><span class="hljs-comment">//主标题文本</span></span><br><span class="language-javascript"><span class="hljs-attr">text</span>: <span class="hljs-string">&quot;数据可视化&quot;</span>,</span><br><span class="language-javascript"><span class="hljs-comment">//副标题文本</span></span><br><span class="language-javascript"><span class="hljs-attr">subtext</span>: <span class="hljs-string">&quot;echarts的基本使用&quot;</span>,</span><br><span class="language-javascript"><span class="hljs-comment">//设置主标题样式</span></span><br><span class="language-javascript"><span class="hljs-attr">textStyle</span>: &#123;</span><br><span class="language-javascript"><span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;hotpink&#x27;</span>,</span><br><span class="language-javascript"><span class="hljs-attr">fontStyle</span>: <span class="hljs-string">&#x27;italic&#x27;</span></span><br><span class="language-javascript">&#125;,</span><br><span class="language-javascript"><span class="hljs-comment">//设置副标题样式</span></span><br><span class="language-javascript"><span class="hljs-attr">subtextStyle</span>:&#123;</span><br><span class="language-javascript"><span class="hljs-attr">color</span>:<span class="hljs-string">&#x27;yellow&#x27;</span></span><br><span class="language-javascript">&#125;,</span><br><span class="language-javascript"><span class="hljs-comment">//设置居中</span></span><br><span class="language-javascript"><span class="hljs-attr">left</span>: <span class="hljs-string">&#x27;center&#x27;</span></span><br><span class="language-javascript">&#125;,</span><br><span class="language-javascript"><span class="hljs-comment">//设置x坐标</span></span><br><span class="language-javascript"><span class="hljs-attr">xAxis</span>: &#123;</span><br><span class="language-javascript"><span class="hljs-comment">// data: [&quot;衣服&quot;, &quot;直播&quot;, &quot;游戏&quot;, &quot;电影&quot;],</span></span><br><span class="language-javascript">&#125;,</span><br><span class="language-javascript"><span class="hljs-comment">//设置y坐标</span></span><br><span class="language-javascript"><span class="hljs-attr">yAxis</span>: &#123;</span><br><span class="language-javascript"><span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;category&#x27;</span>,</span><br><span class="language-javascript"><span class="hljs-attr">data</span>: [<span class="hljs-string">&quot;衣服&quot;</span>, <span class="hljs-string">&quot;直播&quot;</span>, <span class="hljs-string">&quot;游戏&quot;</span>, <span class="hljs-string">&quot;电影&quot;</span>],</span><br><span class="language-javascript">&#125;,</span><br><span class="language-javascript"><span class="hljs-comment">//系列的设置,绘制怎么样类型的图表,数据的展示在这里</span></span><br><span class="language-javascript"><span class="hljs-attr">series</span>:[</span><br><span class="language-javascript">&#123;</span><br><span class="language-javascript"><span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;bar&#x27;</span>,</span><br><span class="language-javascript"><span class="hljs-attr">data</span>:[<span class="hljs-number">20</span>,<span class="hljs-number">30</span>,<span class="hljs-number">26</span>,<span class="hljs-number">24</span>],</span><br><span class="language-javascript"><span class="hljs-comment">//设置颜色</span></span><br><span class="language-javascript"><span class="hljs-attr">color</span>:<span class="hljs-string">&#x27;red&#x27;</span></span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">],</span><br><span class="language-javascript"></span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"><span class="hljs-comment">//4.传入写好的配置项</span></span><br><span class="language-javascript">table1.<span class="hljs-title function_">setOption</span>(options1);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>效果图<br><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205132059769.png"></p></li></ul><h3 id="反向柱形图实现防进度条的静态图"><a href="#反向柱形图实现防进度条的静态图" class="headerlink" title="反向柱形图实现防进度条的静态图"></a>反向柱形图实现防进度条的静态图</h3><h4 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205132106738.png"></p><h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> table1 = echarts.<span class="hljs-title function_">init</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">dom</span>);<br>table1.<span class="hljs-title function_">setOption</span>(&#123;<br>  <span class="hljs-comment">//设置x轴,现在x轴在水平线上了</span><br>  <span class="hljs-comment">//min最小值 范围</span><br>  <span class="hljs-comment">//max:最大值 范围</span><br>  <span class="hljs-attr">xAxis</span>:&#123;<span class="hljs-attr">show</span>:<span class="hljs-literal">false</span>,<span class="hljs-attr">min</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">max</span>:<span class="hljs-number">100</span>&#125;,<br>  <span class="hljs-comment">//设置y轴,现在y轴在垂直线上了</span><br>  <span class="hljs-attr">yAxis</span>:&#123;<span class="hljs-attr">show</span>:<span class="hljs-literal">false</span>,<span class="hljs-attr">type</span>:<span class="hljs-string">&quot;category&quot;</span>&#125;,<br>  <span class="hljs-comment">//设置位置</span><br>  <span class="hljs-attr">grid</span>:&#123;<br>  <span class="hljs-attr">left</span>:<span class="hljs-number">0</span>,<br>  <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>,<br>  <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>,<br>  <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span><br>  &#125;,<br>  <span class="hljs-attr">series</span>:[<br>  &#123;<br>  <span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;bar&#x27;</span>,<br>  <span class="hljs-attr">barWidth</span>:<span class="hljs-number">10</span>,<br>  <span class="hljs-comment">//设置颜色</span><br>  <span class="hljs-attr">color</span>:<span class="hljs-string">&quot;#92b532&quot;</span>,<br>  <span class="hljs-attr">data</span>:[<span class="hljs-number">78</span>],<br>       <span class="hljs-comment">//图形上的文本标签，可用于说明图形的一些数据信息，比如值，名称等。  </span><br>          <span class="hljs-comment">//label:&#123;</span><br>          <span class="hljs-comment">//    show:true,</span><br>          <span class="hljs-comment">//    //内容</span><br>          <span class="hljs-comment">//    formatter:&quot;|&quot;,</span><br>          <span class="hljs-comment">//    //标签的位置。</span><br>          <span class="hljs-comment">//    position:&#x27;right&#x27;</span><br>          <span class="hljs-comment">//&#125;</span><br>  &#125;<br>  ]<br>&#125;)<br></code></pre></td></tr></table></figure><h3 id="一个容器显示多个图表"><a href="#一个容器显示多个图表" class="headerlink" title="一个容器显示多个图表"></a>一个容器显示多个图表</h3><ul><li><p>使用配置对象当中的<code>series</code>属性</p></li><li><p>这就是为什么<code>series</code>是一个数组而不是一个对象了~  <a href="#series">series图</a></p><ul><li><p>series当中的格式 </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> options = &#123;<br>...<br><span class="hljs-attr">series</span>:[<br><span class="hljs-comment">//图表1</span><br>&#123;....&#125;,<br><span class="hljs-comment">//图表2</span><br>&#123;....&#125;<br>]<br>...<br>&#125;<br></code></pre></td></tr></table></figure></li></ul></li></ul><h4 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        *&#123;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-id">#dom1</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dom1&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./js/echarts.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> table1 = echarts.<span class="hljs-title function_">init</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#dom1&quot;</span>))</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> options = &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">//设置标题</span></span><br><span class="language-javascript">            <span class="hljs-attr">title</span>: &#123;</span><br><span class="language-javascript">                <span class="hljs-comment">//标题文字</span></span><br><span class="language-javascript">                <span class="hljs-attr">text</span>: <span class="hljs-string">&quot;月销售数据&quot;</span>,</span><br><span class="language-javascript">                <span class="hljs-comment">//副标题文字</span></span><br><span class="language-javascript">                <span class="hljs-attr">subtext</span>: <span class="hljs-string">&quot;销售人员必看!&quot;</span>,</span><br><span class="language-javascript">                <span class="hljs-attr">left</span>:<span class="hljs-string">&#x27;center&#x27;</span>,</span><br><span class="language-javascript">                <span class="hljs-comment">//主标题样式</span></span><br><span class="language-javascript">                <span class="hljs-attr">textStyle</span>: &#123;</span><br><span class="language-javascript">                    <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;red&#x27;</span></span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">                <span class="hljs-comment">//副标题样式</span></span><br><span class="language-javascript">                <span class="hljs-attr">subtextStyle</span>: &#123;</span><br><span class="language-javascript">                    <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;yellow&#x27;</span></span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-comment">//x轴</span></span><br><span class="language-javascript">            <span class="hljs-attr">xAxis</span>:&#123;</span><br><span class="language-javascript">                <span class="hljs-attr">data</span>:[<span class="hljs-string">&#x27;Mon&#x27;</span>,<span class="hljs-string">&#x27;Tue&#x27;</span>,<span class="hljs-string">&#x27;Wed&#x27;</span>,<span class="hljs-string">&#x27;Thu&#x27;</span>,<span class="hljs-string">&#x27;Fri&#x27;</span>,<span class="hljs-string">&#x27;Sat&#x27;</span>,<span class="hljs-string">&#x27;Sun&#x27;</span>]</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-comment">// y轴</span></span><br><span class="language-javascript">            <span class="hljs-attr">yAxis</span>:&#123;&#125;,</span><br><span class="language-javascript">            <span class="hljs-comment">//一系列数据展示</span></span><br><span class="language-javascript">            <span class="hljs-attr">series</span>:[</span><br><span class="language-javascript">                <span class="hljs-comment">//图表1-显示柱形图</span></span><br><span class="language-javascript">                &#123;</span><br><span class="language-javascript">                    <span class="hljs-attr">type</span>:<span class="hljs-string">&quot;bar&quot;</span>,</span><br><span class="language-javascript">                    <span class="hljs-attr">data</span>:[<span class="hljs-number">125</span>,<span class="hljs-number">200</span>,<span class="hljs-number">150</span>,<span class="hljs-number">68</span>,<span class="hljs-number">52</span>,<span class="hljs-number">103</span>,<span class="hljs-number">146</span>],</span><br><span class="language-javascript">                    <span class="hljs-attr">color</span>:<span class="hljs-string">&quot;#5470c6&quot;</span>,</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">                <span class="hljs-comment">//图表2-显示折线图</span></span><br><span class="language-javascript">                &#123;</span><br><span class="language-javascript">                    <span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;line&#x27;</span>,</span><br><span class="language-javascript">                    <span class="hljs-attr">data</span>:[<span class="hljs-number">125</span>,<span class="hljs-number">200</span>,<span class="hljs-number">150</span>,<span class="hljs-number">68</span>,<span class="hljs-number">52</span>,<span class="hljs-number">103</span>,<span class="hljs-number">146</span>],</span><br><span class="language-javascript">                    <span class="hljs-attr">color</span>:<span class="hljs-string">&#x27;red&#x27;</span>,</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">                <span class="hljs-comment">//图表3-饼图</span></span><br><span class="language-javascript">                &#123;</span><br><span class="language-javascript">                    <span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;pie&#x27;</span>,</span><br><span class="language-javascript">                    <span class="hljs-comment">//设置饼图半径(像素值)</span></span><br><span class="language-javascript">                    <span class="hljs-attr">radius</span>:<span class="hljs-number">20</span>,</span><br><span class="language-javascript">                    <span class="hljs-attr">data</span>:[</span><br><span class="language-javascript">                        &#123;<span class="hljs-attr">value</span>:<span class="hljs-number">125</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;Mon&#x27;</span>&#125;,</span><br><span class="language-javascript">                        &#123;<span class="hljs-attr">value</span>:<span class="hljs-number">200</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;Tue&#x27;</span>&#125;,</span><br><span class="language-javascript">                        &#123;<span class="hljs-attr">value</span>:<span class="hljs-number">150</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;Wed&#x27;</span>&#125;,</span><br><span class="language-javascript">                        &#123;<span class="hljs-attr">value</span>:<span class="hljs-number">68</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;Thu&quot;</span>&#125;,</span><br><span class="language-javascript">                        &#123;<span class="hljs-attr">value</span>:<span class="hljs-number">52</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;Fri&#x27;</span>&#125;,</span><br><span class="language-javascript">                        &#123;<span class="hljs-attr">value</span>:<span class="hljs-number">103</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;Sat&#x27;</span>&#125;,</span><br><span class="language-javascript">                        &#123;<span class="hljs-attr">vaue</span>:<span class="hljs-number">146</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;Sun&#x27;</span>&#125;</span><br><span class="language-javascript">                    ],</span><br><span class="language-javascript">                    <span class="hljs-comment">//设置宽度</span></span><br><span class="language-javascript">                    <span class="hljs-attr">width</span>:<span class="hljs-number">200</span>,</span><br><span class="language-javascript">                    <span class="hljs-attr">height</span>:<span class="hljs-number">200</span>,</span><br><span class="language-javascript">                    <span class="hljs-comment">//设置位置</span></span><br><span class="language-javascript">                    <span class="hljs-attr">left</span>:<span class="hljs-number">200</span>,</span><br><span class="language-javascript">                    <span class="hljs-attr">top</span>:<span class="hljs-number">50</span></span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">            ]</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        table1.<span class="hljs-title function_">setOption</span>(options)</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="效果图-1"><a href="#效果图-1" class="headerlink" title="效果图"></a>效果图</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205170001504.png"></p><h3 id="dataset数据集的使用"><a href="#dataset数据集的使用" class="headerlink" title="dataset数据集的使用"></a>dataset数据集的使用</h3><ul><li><p>我理解的数据集就是<code>series</code>当中的每一个对象所对应的数据,方便我们统一处理数据</p></li><li><p>主要注意的是:</p><ul><li>如果我们设置了dataset数据集,而没有在series当中的对象当中使用encode去指明映射那一列</li><li>ECharts 就按最常见的理解进行默认映射：<strong>X 坐标轴声明为类目轴</strong>，默认情况下会自动对应到 dataset.source 中的第一列；</li><li>三个柱图系列，一一对应到 dataset.source 中后面每一列。(也就是按照series当中对象的顺序依次对应)</li></ul></li><li><p>dataset数据集基本使用简略代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript">option = &#123;<br>    <span class="hljs-attr">dataset</span>: &#123;<br>        <span class="hljs-attr">source</span>: [<br>            <span class="hljs-comment">// 每一列称为一个『维度』。</span><br>            <span class="hljs-comment">// 这里分别是维度 0、1、2、3、4。</span><br>            [<span class="hljs-number">12</span>, <span class="hljs-number">44</span>, <span class="hljs-number">55</span>, <span class="hljs-number">66</span>, <span class="hljs-number">2</span>],<br>            [<span class="hljs-number">23</span>, <span class="hljs-number">6</span>, <span class="hljs-number">16</span>, <span class="hljs-number">23</span>, <span class="hljs-number">1</span>],<br>        ]<br>    &#125;,<br>    <span class="hljs-attr">series</span>: &#123;<br>        <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;xxx&#x27;</span>,<br>        <span class="hljs-attr">encode</span>: &#123;<br>            <span class="hljs-comment">//使用0维度数据</span><br>            <span class="hljs-attr">x</span>: <span class="hljs-number">0</span><br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><a href="https://echarts.apache.org/handbook/zh/concepts/dataset/#%E5%9C%A8%E7%B3%BB%E5%88%97%E4%B8%AD%E8%AE%BE%E7%BD%AE%E6%95%B0%E6%8D%AE">具体可参考Echarts官网数据集概念</a></p></li></ul><h4 id="代码-2"><a href="#代码-2" class="headerlink" title="代码"></a>代码</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">            *&#123;</span><br><span class="language-css">                <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">                <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            &#125;</span><br><span class="language-css">            <span class="hljs-selector-id">#dom1</span>&#123;</span><br><span class="language-css">                <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;</span><br><span class="language-css">                <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;</span><br><span class="language-css">            &#125;</span><br><span class="language-css">        </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dom1&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./js/echarts.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> table1 = echarts.<span class="hljs-title function_">init</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#dom1&quot;</span>))</span><br><span class="language-javascript">            <span class="hljs-comment">//设置数据集</span></span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> data = [</span><br><span class="language-javascript">                <span class="hljs-comment">//分别对应柱状图,折线图,饼图</span></span><br><span class="language-javascript">                <span class="hljs-comment">// 如果后面没有设置encode映射</span></span><br><span class="language-javascript">                <span class="hljs-comment">//ECharts 就按最常见的理解进行默认映射：</span></span><br><span class="language-javascript">                <span class="hljs-comment">//X 坐标轴声明为类目轴，默认情况下会自动对应到 dataset.source 中的第一列；</span></span><br><span class="language-javascript">                <span class="hljs-comment">//三个柱图系列，一一对应到 dataset.source 中后面每一列。(也就是按照series当中对象的顺序依次对应)</span></span><br><span class="language-javascript">                [<span class="hljs-string">&#x27;Mon&#x27;</span>,<span class="hljs-string">&#x27;Mon&#x27;</span>,<span class="hljs-number">125</span>,<span class="hljs-number">45</span>,<span class="hljs-number">35</span>],</span><br><span class="language-javascript">                [<span class="hljs-string">&#x27;Tue&#x27;</span>,<span class="hljs-string">&#x27;Tue&#x27;</span>,<span class="hljs-number">54</span>,<span class="hljs-number">53</span>,<span class="hljs-number">15</span>],</span><br><span class="language-javascript">                [<span class="hljs-string">&#x27;Wed&#x27;</span>,<span class="hljs-string">&#x27;Wed&#x27;</span>,<span class="hljs-number">85</span>,<span class="hljs-number">86</span>,<span class="hljs-number">38</span>],</span><br><span class="language-javascript">                [<span class="hljs-string">&#x27;Thu&#x27;</span>,<span class="hljs-string">&#x27;Thu&#x27;</span>,<span class="hljs-number">79</span>,<span class="hljs-number">86</span>,<span class="hljs-number">88</span>],</span><br><span class="language-javascript">                [<span class="hljs-string">&#x27;Fri&#x27;</span>,<span class="hljs-string">&#x27;Fri&#x27;</span>,<span class="hljs-number">103</span>,<span class="hljs-number">138</span>,<span class="hljs-number">49</span>],</span><br><span class="language-javascript">                [<span class="hljs-string">&#x27;Sat&#x27;</span>,<span class="hljs-string">&#x27;Sat&#x27;</span>,<span class="hljs-number">187</span>,<span class="hljs-number">251</span>,<span class="hljs-number">86</span>],</span><br><span class="language-javascript">                [<span class="hljs-string">&#x27;Sun&#x27;</span>,<span class="hljs-string">&#x27;Sun&#x27;</span>,<span class="hljs-number">56</span>,<span class="hljs-number">154</span>,<span class="hljs-number">78</span>],</span><br><span class="language-javascript">            ]</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> options = &#123;</span><br><span class="language-javascript">                <span class="hljs-comment">//设置数据集</span></span><br><span class="language-javascript">                <span class="hljs-attr">dataset</span>:&#123;</span><br><span class="language-javascript">                    <span class="hljs-attr">source</span>:data</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">                <span class="hljs-comment">//设置标题</span></span><br><span class="language-javascript">                <span class="hljs-attr">title</span>: &#123;</span><br><span class="language-javascript">                    <span class="hljs-comment">//标题文字</span></span><br><span class="language-javascript">                    <span class="hljs-attr">text</span>: <span class="hljs-string">&quot;月销售数据&quot;</span>,</span><br><span class="language-javascript">                    <span class="hljs-comment">//副标题文字</span></span><br><span class="language-javascript">                    <span class="hljs-attr">subtext</span>: <span class="hljs-string">&quot;销售人员必看!&quot;</span>,</span><br><span class="language-javascript">                    <span class="hljs-attr">left</span>:<span class="hljs-string">&#x27;center&#x27;</span>,</span><br><span class="language-javascript">                    <span class="hljs-comment">//主标题样式</span></span><br><span class="language-javascript">                    <span class="hljs-attr">textStyle</span>: &#123;</span><br><span class="language-javascript">                        <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;red&#x27;</span></span><br><span class="language-javascript">                    &#125;,</span><br><span class="language-javascript">                    <span class="hljs-comment">//副标题样式</span></span><br><span class="language-javascript">                    <span class="hljs-attr">subtextStyle</span>: &#123;</span><br><span class="language-javascript">                        <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;yellow&#x27;</span></span><br><span class="language-javascript">                    &#125;,</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">                <span class="hljs-comment">//x轴</span></span><br><span class="language-javascript">                <span class="hljs-attr">xAxis</span>:&#123;</span><br><span class="language-javascript">                    <span class="hljs-attr">data</span>:[<span class="hljs-string">&#x27;Mon&#x27;</span>,<span class="hljs-string">&#x27;Tue&#x27;</span>,<span class="hljs-string">&#x27;Wed&#x27;</span>,<span class="hljs-string">&#x27;Thu&#x27;</span>,<span class="hljs-string">&#x27;Fri&#x27;</span>,<span class="hljs-string">&#x27;Sat&#x27;</span>,<span class="hljs-string">&#x27;Sun&#x27;</span>]</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">                <span class="hljs-comment">// y轴</span></span><br><span class="language-javascript">                <span class="hljs-attr">yAxis</span>:&#123;&#125;,</span><br><span class="language-javascript">                <span class="hljs-comment">//一系列数据展示</span></span><br><span class="language-javascript">                <span class="hljs-attr">series</span>:[</span><br><span class="language-javascript">                    <span class="hljs-comment">//图表1-显示柱形图</span></span><br><span class="language-javascript">                    &#123;</span><br><span class="language-javascript">                        <span class="hljs-attr">type</span>:<span class="hljs-string">&quot;bar&quot;</span>,</span><br><span class="language-javascript">                        <span class="hljs-attr">color</span>:<span class="hljs-string">&quot;#5470c6&quot;</span>,</span><br><span class="language-javascript">                        <span class="hljs-attr">encode</span>:&#123;</span><br><span class="language-javascript">                            <span class="hljs-comment">// 把 数据集所有数组当中,下标为2的数组的值为映射为折线图当中的y值</span></span><br><span class="language-javascript">                            <span class="hljs-attr">y</span>:<span class="hljs-number">2</span></span><br><span class="language-javascript">                        &#125;</span><br><span class="language-javascript">                    &#125;,</span><br><span class="language-javascript">                    <span class="hljs-comment">//图表2-显示折线图</span></span><br><span class="language-javascript">                    &#123;</span><br><span class="language-javascript">                        <span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;line&#x27;</span>,</span><br><span class="language-javascript">                        <span class="hljs-attr">color</span>:<span class="hljs-string">&#x27;red&#x27;</span>,</span><br><span class="language-javascript">                        <span class="hljs-attr">encode</span>:&#123;</span><br><span class="language-javascript">                            <span class="hljs-comment">// 把 数据集所有数组当中,下标为3的数组的值为映射为折线图当中的y值</span></span><br><span class="language-javascript">                            <span class="hljs-attr">y</span>:<span class="hljs-number">3</span></span><br><span class="language-javascript">                        &#125;</span><br><span class="language-javascript">                    &#125;,</span><br><span class="language-javascript">                    <span class="hljs-comment">//图表3-饼图</span></span><br><span class="language-javascript">                    &#123;</span><br><span class="language-javascript">                        <span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;pie&#x27;</span>,</span><br><span class="language-javascript">                        <span class="hljs-comment">//设置饼图半径(像素值)</span></span><br><span class="language-javascript">                        <span class="hljs-attr">radius</span>:<span class="hljs-number">20</span>,</span><br><span class="language-javascript">                        <span class="hljs-comment">// data:[],</span></span><br><span class="language-javascript">                        <span class="hljs-attr">encode</span>:&#123;</span><br><span class="language-javascript">                            <span class="hljs-comment">// 指定数据项的名称</span></span><br><span class="language-javascript">                            <span class="hljs-attr">itemName</span>:<span class="hljs-number">1</span>,</span><br><span class="language-javascript">                            <span class="hljs-comment">// 把 数据集所有数组当中,下标为5的数组的值为映射为饼图的值</span></span><br><span class="language-javascript">                            <span class="hljs-attr">value</span>:<span class="hljs-number">4</span></span><br><span class="language-javascript">                        &#125;,</span><br><span class="language-javascript">                        <span class="hljs-comment">//设置宽度</span></span><br><span class="language-javascript">                        <span class="hljs-attr">width</span>:<span class="hljs-number">200</span>,</span><br><span class="language-javascript">                        <span class="hljs-attr">height</span>:<span class="hljs-number">200</span>,</span><br><span class="language-javascript">                        <span class="hljs-comment">//设置位置</span></span><br><span class="language-javascript">                        <span class="hljs-attr">left</span>:<span class="hljs-number">100</span>,</span><br><span class="language-javascript">                        <span class="hljs-attr">top</span>:<span class="hljs-number">50</span></span><br><span class="language-javascript">                    &#125;</span><br><span class="language-javascript">                ]</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">            table1.<span class="hljs-title function_">setOption</span>(options)</span><br><span class="language-javascript">        </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="效果图-2"><a href="#效果图-2" class="headerlink" title="效果图"></a>效果图</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205131526702.png"></p><h3 id="Echarts内置组件的使用"><a href="#Echarts内置组件的使用" class="headerlink" title="Echarts内置组件的使用"></a>Echarts内置组件的使用</h3><ul><li>组件,可以理解为一块块的功能~ <a href="#%E7%BB%84%E4%BB%B6">组件图</a></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205131726449.jpg" alt="echarts组件"></p><ul><li><p>使用也很简单,只需要在配置对象当中添加即可,比如<code>toolbox component</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> options = &#123;<br>...<br><span class="hljs-attr">toolbox</span>:&#123;&#125;,<br>...<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h4 id="toolbox"><a href="#toolbox" class="headerlink" title="toolbox"></a>toolbox</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//toolBox工具箱</span><br><span class="hljs-attr">toolbox</span>:&#123;<br><span class="hljs-attr">show</span>:<span class="hljs-literal">true</span>,<br><span class="hljs-attr">feature</span>:&#123;<br><span class="hljs-comment">//保存为图片</span><br><span class="hljs-attr">saveAsImage</span>:&#123;<span class="hljs-attr">title</span>:<span class="hljs-string">&quot;保存为图片&quot;</span>&#125;,<br><span class="hljs-comment">//配置项还原(图表的一些配置项目会恢复默认)</span><br><span class="hljs-attr">restore</span>:&#123;<span class="hljs-attr">title</span>:<span class="hljs-string">&quot;配置项还原&quot;</span>&#125;,<br><span class="hljs-comment">//数据视图工具，可以展现当前图表所用的数据，编辑后可以动态更新。</span><br><span class="hljs-attr">dataView</span>:&#123;<span class="hljs-attr">title</span>:<span class="hljs-string">&quot;数据视图&quot;</span>&#125;,<br><span class="hljs-comment">// 数据区域缩放。目前只支持直角坐标系的缩放。</span><br><span class="hljs-attr">dataZoom</span>:&#123;<span class="hljs-attr">title</span>:&#123;<span class="hljs-attr">zoom</span>:<span class="hljs-string">&quot;数据区域缩放&quot;</span>,<span class="hljs-attr">back</span>:<span class="hljs-string">&quot;还原数据区域&quot;</span>&#125;&#125;,<br><span class="hljs-comment">//动态类型切换</span><br><span class="hljs-attr">magicType</span>:&#123;<br><span class="hljs-attr">title</span>:&#123;<span class="hljs-attr">line</span>:<span class="hljs-string">&quot;切换为折线图&quot;</span>,<span class="hljs-attr">bar</span>:<span class="hljs-string">&quot;切换为柱形图&quot;</span>&#125;,<br><span class="hljs-attr">type</span>:[<span class="hljs-string">&quot;line&quot;</span>,<span class="hljs-string">&#x27;bar&#x27;</span>]<br>&#125;   <br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>效果图<br><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205131618020.png"></li></ul><h4 id="dataZoom"><a href="#dataZoom" class="headerlink" title="dataZoom"></a>dataZoom</h4><ul><li><p>配置对象当中添加 <code>dataZoom:&#123; &#125;</code> 即可</p></li><li><p>效果图<br><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205131620373.png"></p></li></ul><h4 id="legend"><a href="#legend" class="headerlink" title="legend"></a>legend</h4><ul><li><p>图例的数据数组。数组项通常为一个字符串，每一项代表一个系列的 name（如果是饼图，也可以是饼图单个数据的 name）</p></li><li><p>示例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> options = &#123;<br>...<br><span class="hljs-attr">series</span>:[<br>&#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;柱形图&quot;</span>,...&#125;,<br>&#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;折线图&quot;</span>,...&#125;,<br>&#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;饼图&quot;</span>,...&#125;,<br>],<br>    <span class="hljs-attr">legend</span>:&#123;<br>    <span class="hljs-comment">//每一项代码一个系列对象当中的name</span><br>    <span class="hljs-attr">data</span>:[<span class="hljs-string">&quot;柱形图&quot;</span>,<span class="hljs-string">&quot;折线图&quot;</span>,<span class="hljs-string">&quot;饼图&quot;</span>]<br>    &#125;,<br>...<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>效果图<br><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205131624102.png"></p></li></ul><h3 id="其他一些常用的配置项目"><a href="#其他一些常用的配置项目" class="headerlink" title="其他一些常用的配置项目"></a>其他一些常用的配置项目</h3><h4 id="设置提示-tooltip"><a href="#设置提示-tooltip" class="headerlink" title="设置提示 tooltip"></a>设置提示 tooltip</h4><ul><li><p>tooltip:{ }</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> options = &#123;<br>...<br><span class="hljs-attr">tooltip</span>:&#123;&#125;,<br>...<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>效果<br><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205131604726.png"></p></li></ul><h4 id="双坐标轴-Y轴"><a href="#双坐标轴-Y轴" class="headerlink" title="双坐标轴-Y轴"></a>双坐标轴-Y轴</h4><ul><li>如果需要设置多个Y轴,则配置对象当中<code>yAxis</code>从{  }  改为 [ {…},{…} ]  </li><li>系列当中的对象设置为哪一个y轴需要设置<code>yAxisIndex</code>属性</li></ul><h5 id="代码-3"><a href="#代码-3" class="headerlink" title="代码"></a>代码</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        * &#123;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-id">#dom1</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">800px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">400px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dom1&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./js/echarts.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">var</span> table1 = echarts.<span class="hljs-title function_">init</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#dom1&quot;</span>))</span><br><span class="language-javascript">table1.<span class="hljs-title function_">setOption</span>(&#123;</span><br><span class="language-javascript"><span class="hljs-comment">//设置标题</span></span><br><span class="language-javascript"><span class="hljs-attr">title</span>: &#123;</span><br><span class="language-javascript"><span class="hljs-attr">text</span>: <span class="hljs-string">&quot;双坐标&quot;</span></span><br><span class="language-javascript">&#125;,</span><br><span class="language-javascript"><span class="hljs-attr">xAxis</span>: &#123;</span><br><span class="language-javascript"><span class="hljs-comment">//适用于离散的类目数据 -- 散点图</span></span><br><span class="language-javascript"><span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;category&#x27;</span>,</span><br><span class="language-javascript"><span class="hljs-attr">data</span>: [<span class="hljs-string">&#x27;游戏&#x27;</span>, <span class="hljs-string">&#x27;直播&#x27;</span>, <span class="hljs-string">&#x27;农业&#x27;</span>, <span class="hljs-string">&#x27;服饰&#x27;</span>],</span><br><span class="language-javascript">&#125;,</span><br><span class="language-javascript"><span class="hljs-attr">yAxis</span>: [</span><br><span class="language-javascript"><span class="hljs-comment">//y坐标轴1 设置</span></span><br><span class="language-javascript">&#123;</span><br><span class="language-javascript"><span class="hljs-comment">//显示Y轴的线</span></span><br><span class="language-javascript"><span class="hljs-attr">axisLine</span>: &#123;</span><br><span class="language-javascript"><span class="hljs-attr">show</span>: <span class="hljs-literal">true</span></span><br><span class="language-javascript">&#125;,</span><br><span class="language-javascript"><span class="hljs-comment">//显示Y轴的刻度</span></span><br><span class="language-javascript"><span class="hljs-attr">axisTick</span>: &#123;</span><br><span class="language-javascript"><span class="hljs-attr">show</span>: <span class="hljs-literal">true</span></span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">&#125;,</span><br><span class="language-javascript"><span class="hljs-comment">//y坐标轴2 设置</span></span><br><span class="language-javascript">&#123;</span><br><span class="language-javascript"><span class="hljs-comment">//显示Y轴的线</span></span><br><span class="language-javascript"><span class="hljs-attr">axisLine</span>: &#123;</span><br><span class="language-javascript"><span class="hljs-attr">show</span>: <span class="hljs-literal">true</span></span><br><span class="language-javascript">&#125;,</span><br><span class="language-javascript"><span class="hljs-comment">//显示Y轴的刻度</span></span><br><span class="language-javascript"><span class="hljs-attr">axisTick</span>: &#123;</span><br><span class="language-javascript"><span class="hljs-attr">show</span>: <span class="hljs-literal">true</span></span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">],</span><br><span class="language-javascript"><span class="hljs-attr">series</span>: [</span><br><span class="language-javascript"><span class="hljs-comment">//柱形图</span></span><br><span class="language-javascript">&#123;</span><br><span class="language-javascript"><span class="hljs-comment">//指明使用那一条y轴索引</span></span><br><span class="language-javascript"><span class="hljs-attr">yAxisIndex</span>:<span class="hljs-number">0</span>,</span><br><span class="language-javascript"><span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;bar&#x27;</span>,</span><br><span class="language-javascript"><span class="hljs-attr">data</span>: [<span class="hljs-number">20</span>, <span class="hljs-number">35</span>, <span class="hljs-number">48</span>, <span class="hljs-number">80</span>],</span><br><span class="language-javascript">&#125;,</span><br><span class="language-javascript"><span class="hljs-comment">//散点图</span></span><br><span class="language-javascript">&#123;</span><br><span class="language-javascript"><span class="hljs-comment">//指明使用那一条y轴索引</span></span><br><span class="language-javascript"><span class="hljs-attr">yAxisIndex</span>:<span class="hljs-number">1</span>,</span><br><span class="language-javascript"><span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;scatter&#x27;</span>,</span><br><span class="language-javascript"><span class="hljs-attr">data</span>: [<span class="hljs-number">88</span>, <span class="hljs-number">99</span>, <span class="hljs-number">124</span>, <span class="hljs-number">200</span>],</span><br><span class="language-javascript"><span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;red&#x27;</span></span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">]</span><br><span class="language-javascript">&#125;)</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>效果图<br><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205131729534.png"></li></ul><h4 id="圆滑折线图"><a href="#圆滑折线图" class="headerlink" title="圆滑折线图"></a>圆滑折线图</h4><ul><li><p>series当中的对象添加<code>smooth:true</code>即可</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">table.<span class="hljs-title function_">setOption</span>(&#123;<br>...<br><span class="hljs-attr">series</span>:[<br>    &#123;<br><span class="hljs-attr">type</span>:<span class="hljs-string">&quot;line&quot;</span>,<br><span class="hljs-comment">//设置圆滑</span><br><span class="hljs-attr">smooth</span>:<span class="hljs-literal">true</span>,<br>&#125;<br>]<br>...<br>&#125;)<br></code></pre></td></tr></table></figure></li><li><p>效果图</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205151040708.png" alt="smooth=true的效果"></p></li></ul><h4 id="添加事件监控"><a href="#添加事件监控" class="headerlink" title="添加事件监控"></a>添加事件监控</h4><ul><li><p><a href="https://echarts.apache.org/zh/api.html#events">官方API中Event网站</a></p></li><li><p>echarts经过<code>init</code>后返回实例化对象,实例化对象调用on即可(方法和原生js的addEventListener一样)</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> echarts <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;echarts&quot;</span>;<br><span class="hljs-keyword">var</span> table1 = echarts.<span class="hljs-title function_">init</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">dom1</span>);<br><span class="hljs-comment">//不适用节流阀</span><br>table1.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;mousemove&#x27;</span>,<span class="hljs-function">()=&gt;</span>&#123;<br>     <span class="hljs-keyword">let</span> &#123;name,value&#125; = params;<br>     <span class="hljs-comment">//重新绘制标题</span><br>     table1.<span class="hljs-title function_">setOption</span>(&#123;<br>          <span class="hljs-attr">title</span>:&#123;<br>              <span class="hljs-attr">text</span>:name,<br>              <span class="hljs-attr">subtext</span>:value<br>          &#125;<br>      &#125;)<br>&#125;);<br><span class="hljs-comment">//使用节流阀</span><br><span class="hljs-comment">//按需引入</span><br><span class="hljs-keyword">import</span> &#123;throttle&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;lodash/throttle&quot;</span>;<br>table1.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;mousemove&#x27;</span>,<span class="hljs-title function_">throttle</span>(<span class="hljs-function">(<span class="hljs-params">params</span>)=&gt;</span>&#123;<br>     <span class="hljs-keyword">let</span> &#123;name,value&#125; = params;<br>     <span class="hljs-comment">//重新绘制标题</span><br>     table1.<span class="hljs-title function_">setOption</span>(&#123;<br>          <span class="hljs-attr">title</span>:&#123;<br>              <span class="hljs-attr">text</span>:name,<br>              <span class="hljs-attr">subtext</span>:value<br>          &#125;<br>      &#125;)<br>&#125;,<span class="hljs-number">20</span>));<br></code></pre></td></tr></table></figure><ul><li><p>返回的参数<code>params</code>的值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&#123;<br>    <span class="hljs-comment">// 当前点击的图形元素所属的组件名称，</span><br>    <span class="hljs-comment">// 其值如 &#x27;series&#x27;、&#x27;markLine&#x27;、&#x27;markPoint&#x27;、&#x27;timeLine&#x27; 等。</span><br>    <span class="hljs-attr">componentType</span>: string,<br>    <span class="hljs-comment">// 系列类型。值可能为：&#x27;line&#x27;、&#x27;bar&#x27;、&#x27;pie&#x27; 等。当 componentType 为 &#x27;series&#x27; 时有意义。</span><br>    <span class="hljs-attr">seriesType</span>: string,<br>    <span class="hljs-comment">// 系列在传入的 option.series 中的 index。当 componentType 为 &#x27;series&#x27; 时有意义。</span><br>    <span class="hljs-attr">seriesIndex</span>: number,<br>    <span class="hljs-comment">// 系列名称。当 componentType 为 &#x27;series&#x27; 时有意义。</span><br>    <span class="hljs-attr">seriesName</span>: string,<br>    <span class="hljs-comment">// 数据名，类目名</span><br>    <span class="hljs-attr">name</span>: string,<br>    <span class="hljs-comment">// 数据在传入的 data 数组中的 index</span><br>    <span class="hljs-attr">dataIndex</span>: number,<br>    <span class="hljs-comment">// 传入的原始数据项</span><br>    <span class="hljs-attr">data</span>: <span class="hljs-title class_">Object</span>,<br>    <span class="hljs-comment">// sankey、graph 等图表同时含有 nodeData 和 edgeData 两种 data，</span><br>    <span class="hljs-comment">// dataType 的值会是 &#x27;node&#x27; 或者 &#x27;edge&#x27;，表示当前点击在 node 还是 edge 上。</span><br>    <span class="hljs-comment">// 其他大部分图表中只有一种 data，dataType 无意义。</span><br>    <span class="hljs-attr">dataType</span>: string,<br>    <span class="hljs-comment">// 传入的数据值</span><br>    <span class="hljs-attr">value</span>: number|<span class="hljs-title class_">Array</span>,<br>    <span class="hljs-comment">// 数据图形的颜色。当 componentType 为 &#x27;series&#x27; 时有意义。</span><br>    <span class="hljs-attr">color</span>: string,<br>    <span class="hljs-comment">// 用户自定义的数据。只在 graphic component 和自定义系列（custom series）</span><br>    <span class="hljs-comment">// 中生效，如果节点定义上设置了如：&#123;type: &#x27;circle&#x27;, info: &#123;some: 123&#125;&#125;。</span><br>    <span class="hljs-attr">info</span>: *<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h3 id="其他图"><a href="#其他图" class="headerlink" title="其他图"></a>其他图</h3><h4 id="实例-Instance"><a href="#实例-Instance" class="headerlink" title="实例(Instance)"></a>实例(Instance)</h4><ul><li>实例是指在同一个容器所绘制所有的图表的统称。每一个图表实例中可以多含多种图类型，每一个图表实例必须单独占用一个DOM节点。</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205131732554.png"></p><h4 id="系列-series"><a href="#系列-series" class="headerlink" title="系列(series)"></a>系列(series)</h4><ul><li>系列是指图表的类型（如柱形图、饼图、折线图等），在一个图表实例中可以存在多个图表系列。<a name="series"> </a></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205131731095.png"></p><h4 id="组件-component"><a href="#组件-component" class="headerlink" title="组件(component)"></a>组件(component)</h4><ul><li>组件是指图表的各个组件部分，如标题、X轴、Y轴，工具栏提示等。 <a name="组件"> </a></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205131731890.png"></p>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
      <category>echarts</category>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>javscript</tag>
      
      <tag>echarts</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vue-admin-template里面的异步路由,常量路由,任意路由的添加,记录笔记</title>
    <link href="/2022/05/16/%E5%89%8D%E7%AB%AF/%E5%BC%82%E6%AD%A5%E8%B7%AF%E7%94%B1,%E5%B8%B8%E9%87%8F%E8%B7%AF%E7%94%B1,%E4%BB%BB%E6%84%8F%E8%B7%AF%E7%94%B1/"/>
    <url>/2022/05/16/%E5%89%8D%E7%AB%AF/%E5%BC%82%E6%AD%A5%E8%B7%AF%E7%94%B1,%E5%B8%B8%E9%87%8F%E8%B7%AF%E7%94%B1,%E4%BB%BB%E6%84%8F%E8%B7%AF%E7%94%B1/</url>
    
    <content type="html"><![CDATA[<h3 id="路由模式"><a href="#路由模式" class="headerlink" title="路由模式"></a>路由模式</h3><ul><li>常量路由(比如首页)</li><li>异步路由(不同用户不同路由,根据权限来定的)</li><li>任意路由(比如404)</li></ul><h3 id="vueAdmin当中使用路由权限"><a href="#vueAdmin当中使用路由权限" class="headerlink" title="vueAdmin当中使用路由权限"></a>vueAdmin当中使用路由权限</h3><h4 id="1-在路由注册的时候-分段注册-默认只注册常量路由"><a href="#1-在路由注册的时候-分段注册-默认只注册常量路由" class="headerlink" title="1.在路由注册的时候,分段注册 (默认只注册常量路由)"></a>1.在路由注册的时候,分段注册 (默认只注册常量路由)</h4><ul><li>src\router\index.js</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205151651446.png" alt="默认只注册常量路由"></p><h4 id="2-处理路由信息-并添加到route当中"><a href="#2-处理路由信息-并添加到route当中" class="headerlink" title="2.处理路由信息,并添加到route当中"></a>2.处理路由信息,并添加到route当中</h4><ul><li><p>调用router当中的<code>addRouter</code>方法,传入的参数为数组(数组里面也就是路由信息)</p></li><li><p>src\store\modules\user.js当中,根据token获取到用户信息后(比如用户权限,可以用的路由有哪些),来对数据进行处理</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205151932027.png" alt="设置路由信息"></p></li><li><p>处理路由信息的函数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * </span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">array</span>&#125; all 所有的异步路由信息</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">array</span>&#125; selfRoutes 服务器获取到的当前账户所具有的异步路由信息</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">getOwnAsyncRoutes</span>(<span class="hljs-params">allAsyncRoutes,selfRoutes</span>)&#123;<br>  <span class="hljs-keyword">return</span> allAsyncRoutes.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> &#123;<br>    <span class="hljs-comment">//当前账户异步路由信息包含了正在遍历的路由的name,则存入</span><br>    <span class="hljs-keyword">if</span>(selfRoutes.<span class="hljs-title function_">includes</span>(item.<span class="hljs-property">name</span>))&#123;<br>      <span class="hljs-comment">//含有二级路由</span><br>      <span class="hljs-keyword">if</span>(item.<span class="hljs-property">children</span> &amp;&amp; item.<span class="hljs-property">children</span>.<span class="hljs-property">length</span>)&#123;<br>        <span class="hljs-title function_">getOwnAsyncRoutes</span>(item.<span class="hljs-property">children</span>,selfRoutes);<br>      &#125;<br>      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>  &#125;);<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h4 id="3-使用路由生成导航条的时候-用处理后的路由信息-借此生成导航窗格"><a href="#3-使用路由生成导航条的时候-用处理后的路由信息-借此生成导航窗格" class="headerlink" title="3.使用路由生成导航条的时候, 用处理后的路由信息(借此生成导航窗格)"></a>3.使用路由生成导航条的时候, 用处理后的路由信息(借此生成导航窗格)</h4><ul><li>\src\layout\components\Sidebar\index.vue当中修改(注意这里用mapGetters)</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205151927258.png" alt="处理后的路由信息注册路由"></p><ul><li><p>这里用的是mapGetters,所以这里也需要修改<code>\src\store\getters.js</code></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205151935556.png"></p></li></ul><h4 id="处理addRoutes动态添加路由后白屏的情况"><a href="#处理addRoutes动态添加路由后白屏的情况" class="headerlink" title="处理addRoutes动态添加路由后白屏的情况"></a>处理addRoutes动态添加路由后白屏的情况</h4><ul><li><p>文件路径: src\permission.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">next</span>();<span class="hljs-comment">//改为下面一行即可</span><br> <br><span class="hljs-title function_">next</span>(&#123;...to,<span class="hljs-attr">replace</span>:<span class="hljs-literal">true</span>&#125;);<br><br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205161849791.png" alt="处理白屏"></p></li></ul>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>javscript</tag>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vue-admin管理模板npm安装依赖后npm run de提示依赖core-js,@babel等报错的解决办法</title>
    <link href="/2022/05/16/%E5%89%8D%E7%AB%AF/vue-admin%E7%AE%A1%E7%90%86%E6%A8%A1%E6%9D%BFnpm%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E5%90%8Enpm%20run%20de%E6%8F%90%E7%A4%BA%E4%BE%9D%E8%B5%96core-js,@babel%E7%AD%89%E6%8A%A5%E9%94%99%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/"/>
    <url>/2022/05/16/%E5%89%8D%E7%AB%AF/vue-admin%E7%AE%A1%E7%90%86%E6%A8%A1%E6%9D%BFnpm%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E5%90%8Enpm%20run%20de%E6%8F%90%E7%A4%BA%E4%BE%9D%E8%B5%96core-js,@babel%E7%AD%89%E6%8A%A5%E9%94%99%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h4 id="安装别人做好的后台管理项目-npm-run-dev后报错"><a href="#安装别人做好的后台管理项目-npm-run-dev后报错" class="headerlink" title="安装别人做好的后台管理项目,npm run dev后报错"></a>安装别人做好的后台管理项目,npm run dev后报错</h4><ul><li>都是这种<code>core-js/modules/es.array.concat.js </code>什么的错误</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205151908067.png" alt="报错项"></p><h4 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h4><ol><li><p>找到项目下的babel.config.js <strong>原来的presets改为下面</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">presets</span>: [ [ <span class="hljs-string">&quot;@vue/app&quot;</span>, &#123; <span class="hljs-attr">useBuiltIns</span>: <span class="hljs-string">&quot;entry&quot;</span> &#125; ] ],<br></code></pre></td></tr></table></figure></li><li><p>改好之后</p></li></ol><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205151909614.png" alt="原来的presets改为下面"></p><ol start="3"><li><p>重新运行<code>npm run dev</code> 成功!</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205151910231.png" alt="成功"></p></li></ol>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vue</tag>
      
      <tag>vue-admin</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeanCloud白嫖valine评论和避免休眠指南</title>
    <link href="/2022/05/15/%E5%89%8D%E7%AB%AF/LeanCloud%E7%99%BD%E5%AB%96valine%E8%AF%84%E8%AE%BA%E5%92%8C%E9%81%BF%E5%85%8D%E4%BC%91%E7%9C%A0%E6%8C%87%E5%8D%97/"/>
    <url>/2022/05/15/%E5%89%8D%E7%AB%AF/LeanCloud%E7%99%BD%E5%AB%96valine%E8%AF%84%E8%AE%BA%E5%92%8C%E9%81%BF%E5%85%8D%E4%BC%91%E7%9C%A0%E6%8C%87%E5%8D%97/</url>
    
    <content type="html"><![CDATA[<h3 id="由于白嫖原因-LenCloud会自动休眠导致valine评论通知邮箱发送不了-所以这里记录了下我解决的过程"><a href="#由于白嫖原因-LenCloud会自动休眠导致valine评论通知邮箱发送不了-所以这里记录了下我解决的过程" class="headerlink" title="由于白嫖原因,LenCloud会自动休眠导致valine评论通知邮箱发送不了,所以这里记录了下我解决的过程"></a>由于白嫖原因,LenCloud会自动休眠导致valine评论通知邮箱发送不了,所以这里记录了下我解决的过程</h3><ul><li>这里用服务器的cron解决,<a href="https://www.aimtao.net/slef-wake-leancloud/">其他方法可以看这个博主的</a></li><li>另外一种直接在valine添加定时器的方式失败(如下图),所以就用另外一种</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205151504716.png" alt="另外一种直接在valine添加定时器的方式失败,所以就用另外一种"></p><h3 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h3><h4 id="1-添加云引擎、ClientEngine-域名"><a href="#1-添加云引擎、ClientEngine-域名" class="headerlink" title="1. 添加云引擎、ClientEngine 域名"></a>1. 添加云引擎、ClientEngine 域名</h4><p>假设你的域名为<strong>example.com</strong>，为Valine后端分配的二级域名是<strong>xxx.example.com</strong>，那么就在域名栏内填入<strong>xxx.example.com</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205141554117.png"></p><h4 id="2-去域名管理添加CNAME解析"><a href="#2-去域名管理添加CNAME解析" class="headerlink" title="2.去域名管理添加CNAME解析"></a>2.去域名管理添加CNAME解析</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205141556663.png"></p><h4 id="3-等待一会-会自动部署"><a href="#3-等待一会-会自动部署" class="headerlink" title="3.等待一会,会自动部署"></a>3.等待一会,会自动部署</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205141558803.png"></p><h4 id="4-部署完成-添加管理员账号密码"><a href="#4-部署完成-添加管理员账号密码" class="headerlink" title="4.部署完成,添加管理员账号密码"></a>4.部署完成,添加管理员账号密码</h4><ul><li>添加你的账号密码</li><li>添加一行后记得添加下你的email</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205141621208.png"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205141622910.png" alt="添加Email"></p><h3 id="避免休眠-免费的原因"><a href="#避免休眠-免费的原因" class="headerlink" title="避免休眠(免费的原因~)"></a>避免休眠(免费的原因~)</h3><p><strong>注意: !!!一定要等绑定域名显示完成后才有效果</strong></p><p><strong>注意: !!!一定要等绑定域名显示完成后才有效果</strong></p><p><strong>注意: !!!一定要等绑定域名显示完成后才有效果</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205151133868.png" alt="一定要等绑定域名显示完成后才有效果"></p><ul><li><p>因为是免费的,所以每天必须休眠 6 小时~~~</p></li><li><p>并且单纯定时器的方式会提示<strong>因流控原因，通过定时任务唤醒体验版实例失败，建议升级至标准版云引擎实例避免休眠</strong></p></li><li><p>所以需要解决</p></li><li><p>这里使用的是<strong>crontab命令代码</strong></p></li><li><p><a href="https://www.aimtao.net/slef-wake-leancloud/">其他避免休眠方法可以看这个博主的</a></p></li></ul><h5 id="服务器命令提示行输入crontab-e-由于没有选择默认编辑器-所以我就会出现这个提示"><a href="#服务器命令提示行输入crontab-e-由于没有选择默认编辑器-所以我就会出现这个提示" class="headerlink" title="服务器命令提示行输入crontab -e(由于没有选择默认编辑器,所以我就会出现这个提示)"></a>服务器命令提示行输入crontab -e(由于没有选择默认编辑器,所以我就会出现这个提示)</h5><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205141626766.png"></p><h5 id="添加下方代码"><a href="#添加下方代码" class="headerlink" title="添加下方代码"></a>添加下方代码</h5><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs arcade">*<span class="hljs-regexp">/29 7-23 * * * curl https:/</span><span class="hljs-regexp">/your_site &amp;&gt; /</span>dev/<span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-built_in">date</span> <span class="hljs-string">&quot;+\%D \%H:\%M:\%S&quot;</span> &gt;&gt; ~/wakeup.<span class="hljs-built_in">log</span><br>https:<span class="hljs-comment">//your_site为后台评论的地址</span><br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205141629065.png" alt="接下来只需保存退出，按Ctrl键和O键保存，然后回车确定。"></p><h4 id="测试可用"><a href="#测试可用" class="headerlink" title="测试可用"></a>测试可用</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205151453461.png"></p>]]></content>
    
    
    <categories>
      
      <category>valine</category>
      
      <category>LeanCloud</category>
      
      <category>白嫖指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>valine</tag>
      
      <tag>LeanCloud</tag>
      
      <tag>白嫖指南</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>canvas基本使用</title>
    <link href="/2022/05/13/%E5%89%8D%E7%AB%AF/canvas%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/"/>
    <url>/2022/05/13/%E5%89%8D%E7%AB%AF/canvas%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h3 id="canvas的基本了解"><a href="#canvas的基本了解" class="headerlink" title="canvas的基本了解"></a>canvas的基本了解</h3><ul><li><p>canvas仅仅只是一个画布,定义一个canvas标签,需要通过<strong>属性,属性,属性</strong>来设置宽度高度(不可以通过样式!),如果不设置默认<code>300*150</code></p><ul><li>不通过属性设置画布的宽度和高度,会造成坐标不准确的问题!</li></ul></li><li><p>canvas必须要通过js来操作</p></li><li><p>canvas的坐标是从左到右是x轴,从上到下是y轴</p></li><li><p>vscode书写canvas的时候没有提示,加上<code>/** @type &#123;HTMLCanvasElement&#125; */</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br><span class="hljs-comment">/** <span class="hljs-doctag">@type</span> &#123;<span class="hljs-type">HTMLCanvasElement</span>&#125; */</span><br> canvas代码书写<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure></li></ul><h3 id="canvas的基本步骤"><a href="#canvas的基本步骤" class="headerlink" title="canvas的基本步骤"></a>canvas的基本步骤</h3><ol><li>获取canvas的节点</li><li>画布创建画笔并选择画笔的绘制类型</li><li>开始绘制</li><li>store()方法绘制  ——  stroke() 方法会实际地绘制出通过 moveTo() 和 lineTo() 方法定义的路径。默认颜色是黑色。</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;canvas id=<span class="hljs-string">&quot;cav&quot;</span> height=<span class="hljs-string">&quot;400&quot;</span> width=<span class="hljs-string">&quot;400&quot;</span>&gt;&lt;/canvas&gt;<br> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> &#123;<span class="hljs-type">HTMLCanvasElement</span>&#125; */</span></span></span><br><span class="language-javascript"><span class="language-xml">     <span class="hljs-comment">//1.获取canvas节点(获取画布)</span></span></span><br><span class="language-javascript"><span class="language-xml">     <span class="hljs-keyword">var</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;cav&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">     <span class="hljs-comment">//2.画布创建画笔并选择画笔的绘制类型</span></span></span><br><span class="language-javascript"><span class="language-xml">     <span class="hljs-keyword">var</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&quot;2d&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">     <span class="hljs-comment">//3.开始绘制</span></span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-comment">//绘制的起点</span></span></span><br><span class="language-javascript"><span class="language-xml">     ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">100</span>,<span class="hljs-number">100</span>);</span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-comment">//有了绘制的起点我们就拖动着笔移动到100,200的坐标点</span></span></span><br><span class="language-javascript"><span class="language-xml">     ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">100</span>,<span class="hljs-number">200</span>);</span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-comment">//我们再次移动画笔的坐标</span></span></span><br><span class="language-javascript"><span class="language-xml">     ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">200</span>,<span class="hljs-number">300</span>);</span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-comment">//第一个坐标(100,100)和最后一个坐标(200,300)点闭合</span></span></span><br><span class="language-javascript"><span class="language-xml">     ctx.<span class="hljs-title function_">closePath</span>();</span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-comment">//设置填充颜色 - 红色</span></span></span><br><span class="language-javascript"><span class="language-xml">     <span class="hljs-comment">//ctx.fillStyle = &quot;red&quot;;</span></span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-comment">//开始填充颜色</span></span></span><br><span class="language-javascript"><span class="language-xml">     <span class="hljs-comment">//ctx.fill();</span></span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-comment">//设置绘制线条的颜色</span></span></span><br><span class="language-javascript"><span class="language-xml">     <span class="hljs-comment">//ctx.strokeStyle = &quot;yellow&quot;;</span></span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-comment">//设置绘制线条的粗细</span></span></span><br><span class="language-javascript"><span class="language-xml">     <span class="hljs-comment">//ctx.lineWidth = &quot;20&quot;;</span></span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-comment">//绘制线条</span></span></span><br><span class="language-javascript"><span class="language-xml">     ctx.<span class="hljs-title function_">stroke</span>();</span></span><br><span class="language-javascript"><span class="language-xml"> </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><ol start="5"><li><p>绘制效果<img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205121114879.png" alt="绘制效果" style="zoom:50%;" /></p></li><li><p>如果想要填充的颜色,画笔可以设置fillStyle指明颜色并且调用fill()方法进行填充</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//设置填充颜色 - 红色</span><br>ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">&quot;red&quot;</span>;<br><span class="hljs-comment">//开始填充</span><br>ctx.<span class="hljs-title function_">fill</span>();<br></code></pre></td></tr></table></figure><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205121116797.png" alt="绘制效果" style="zoom:50%;" /></li><li><p>设置线条的颜色</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//设置绘制线条的颜色</span><br>ctx.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">&quot;yellow&quot;</span>;<br><span class="hljs-comment">//设置绘制线条的粗细</span><br>ctx.<span class="hljs-property">lineWidth</span> = <span class="hljs-string">&quot;20&quot;</span>;<br></code></pre></td></tr></table></figure><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205121120755.png" alt="绘制效果" style="zoom:50%;" /></li></ol><h3 id="canvas绘制矩形和圆"><a href="#canvas绘制矩形和圆" class="headerlink" title="canvas绘制矩形和圆"></a>canvas绘制矩形和圆</h3><h4 id="绘制矩形"><a href="#绘制矩形" class="headerlink" title="绘制矩形"></a>绘制矩形</h4><ul><li>画笔使用<code>storeRect()</code>方法</li><li>画笔使用<code>fillRect()</code>方法</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> cav = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;cav&quot;</span>);<br><span class="hljs-keyword">var</span> ctx = cav.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&quot;2d&quot;</span>);<br>ctx.<span class="hljs-title function_">beginPath</span>();<br><span class="hljs-comment">//绘制线框矩形四个参数分别为 x,y,width,height</span><br>ctx.<span class="hljs-title function_">strokeRect</span>(<span class="hljs-number">100</span>,<span class="hljs-number">100</span>,<span class="hljs-number">150</span>,<span class="hljs-number">200</span>);<br><span class="hljs-comment">//绘制填充矩形</span><br><span class="hljs-comment">//设置填充颜色</span><br>ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">&#x27;red&#x27;</span>;<br>ctx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">300</span>,<span class="hljs-number">100</span>,<span class="hljs-number">150</span>,<span class="hljs-number">200</span>);<br></code></pre></td></tr></table></figure><h4 id="绘制圆"><a href="#绘制圆" class="headerlink" title="绘制圆"></a>绘制圆</h4><ul><li><p>画笔使用<code>arc()</code>方法</p><ul><li><p>ctx.arc(x, y, radius, startAngle, endAngle, anticlockwise);</p></li><li><p><code>X,Y,radius</code>分别是横坐标,纵坐标,半径</p></li><li><p><code>startAngle:</code> 圆弧的起点,x轴方向开始计算,单位以弧度表示</p><ul><li>(<strong>1弧度等于57度左右</strong>) 因为2<em>PI</em>弧度&#x3D;360所以1弧度&#x3D;57度</li><li>所以绘制一个圆直接起始弧度为<code>0</code>,终点弧度为<code>2*Math.PI</code>即可</li></ul></li><li><p><code>endAngle: </code>圆弧的终点,单位以弧度表示</p></li><li><p><code>anticlockwise: </code>可选的<code>Boolean</code>值 ，如果为 <code>true</code>，逆时针绘制圆弧，反之，顺时针绘制。 </p><ul><li><p>注意,是绘制,绘制,绘制!,比如其他参数相同,唯独最后一个参数不同,那么图形是完全不同的</p></li><li><p>如图 ctx.arc(50,50,25,0,1,false);顺时针和逆时针绘制效果</p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205121505891.png" alt="绘制效果" /></li></ul></li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> cav2 = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;cav2&#x27;</span>);<br><span class="hljs-keyword">var</span> ctx = cav2.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&quot;2d&quot;</span>);<br>ctx.<span class="hljs-title function_">beginPath</span>();<br><span class="hljs-comment">//绘制圆 ctx.arc(x, y, radius, startAngle, endAngle, anticlockwise);</span><br>ctx.<span class="hljs-title function_">arc</span>(<span class="hljs-number">50</span>,<span class="hljs-number">50</span>,<span class="hljs-number">25</span>,<span class="hljs-number">0</span>,<span class="hljs-number">2</span>*<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>,<span class="hljs-literal">false</span>);<br>ctx.<span class="hljs-title function_">stroke</span>();<br></code></pre></td></tr></table></figure><h4 id="绘制字体"><a href="#绘制字体" class="headerlink" title="绘制字体"></a>绘制字体</h4><ul><li>画笔设置<code>font</code>属性可以设置字体的格式<ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/font">API</a></li></ul></li><li>画笔调用<code>fillText</code>可以绘制字体<ul><li>ctx.fillText(text, x, y, [maxWidth]);</li><li><code>text</code>:  绘制的文本</li><li><code>x,y</code>: 坐标</li><li><code>maxWidth</code>: 绘制的最大宽度。如果指定了值，并且经过计算字符串的值比最大宽度还要宽，字体为了适应会水平缩放（如果通过水平缩放当前字体，可以进行有效的或者合理可读的处理）或者使用小号的字体。</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;canvas id=<span class="hljs-string">&quot;cav&quot;</span> height=<span class="hljs-string">&quot;400&quot;</span> width=<span class="hljs-string">&quot;400&quot;</span>&gt;&lt;/canvas&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">     <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> &#123;<span class="hljs-type">HTMLCanvasElement</span>&#125; */</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//1.获取canvas节点(获取画布)</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">var</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;cav&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//2.画布创建画笔并选择画笔的绘制类型</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">var</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&quot;2d&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//绘制文字</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">//设置绘制文字字体</span></span></span><br><span class="language-javascript"><span class="language-xml">    ctx.<span class="hljs-property">font</span> = <span class="hljs-string">&quot;20px 黑体&quot;</span></span></span><br><span class="language-javascript"><span class="language-xml">    ctx.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">&quot;叫我将军大人&quot;</span>,<span class="hljs-number">10</span>,<span class="hljs-number">20</span>);</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205121546644.png" alt="绘制效果" /><h3 id="清空画步和清除指定区域"><a href="#清空画步和清除指定区域" class="headerlink" title="清空画步和清除指定区域"></a>清空画步和清除指定区域</h3><ul><li>均使用画笔当中的clearRect方法,只是传入的值有所区别</li><li>ctx.clearRect(x, y, width, height);<ul><li><code>X,Y</code>: 开始清空的坐标</li><li><code>width</code>:  清空的宽度</li><li><code>height</code>: 清空的高度</li></ul></li></ul><h4 id="清空画布"><a href="#清空画布" class="headerlink" title="清空画布"></a>清空画布</h4><ul><li>ctx.clearRect(0,0,画布的宽度,画布的高度);</li></ul><h4 id="清除指定区域"><a href="#清除指定区域" class="headerlink" title="清除指定区域"></a>清除指定区域</h4><ul><li><p>ctx.clearRect(0,0,40,50)</p></li><li><p>效果</p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205121552458.png" alt="绘制效果" /></li></ul><h3 id="canvas绘制一个柱形图"><a href="#canvas绘制一个柱形图" class="headerlink" title="canvas绘制一个柱形图"></a>canvas绘制一个柱形图</h3><h4 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205121702131.png" alt="柱形图效果"></p><h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;cav&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;600&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;800&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-id">#cav</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid red;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">         <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> &#123;<span class="hljs-type">HTMLCanvasElement</span>&#125; */</span></span><br><span class="language-javascript">        <span class="hljs-comment">//1.获取canvas节点(获取画布)</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;cav&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-comment">//2.画布创建画笔并选择画笔的绘制类型</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&quot;2d&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-comment">//设置线条粗细</span></span><br><span class="language-javascript">        ctx.<span class="hljs-property">lineWidth</span> = <span class="hljs-string">&quot;2&quot;</span>;</span><br><span class="language-javascript">        <span class="hljs-comment">//设置字体</span></span><br><span class="language-javascript">        ctx.<span class="hljs-property">font</span> = <span class="hljs-string">&quot;20px 黑体&quot;</span></span><br><span class="language-javascript">        <span class="hljs-comment">//绘制坐标轴先</span></span><br><span class="language-javascript">            <span class="hljs-comment">//y坐标</span></span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">&quot;数据可视化&quot;</span>,<span class="hljs-number">0</span>,<span class="hljs-number">40</span>);</span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">40</span>,<span class="hljs-number">40</span>);</span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">40</span>,<span class="hljs-number">480</span>)</span><br><span class="language-javascript">            <span class="hljs-comment">//150字体</span></span><br><span class="language-javascript">            ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">40</span>,<span class="hljs-number">80</span>);</span><br><span class="language-javascript">            ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">20</span>,<span class="hljs-number">80</span>);</span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">&quot;150&quot;</span>,<span class="hljs-number">10</span>,<span class="hljs-number">80</span>);</span><br><span class="language-javascript">             <span class="hljs-comment">//120字体</span></span><br><span class="language-javascript">            ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">40</span>,<span class="hljs-number">160</span>);</span><br><span class="language-javascript">            ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">20</span>,<span class="hljs-number">160</span>);</span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">&quot;120&quot;</span>,<span class="hljs-number">10</span>,<span class="hljs-number">160</span>);</span><br><span class="language-javascript">            <span class="hljs-comment">//90字体</span></span><br><span class="language-javascript">            ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">40</span>,<span class="hljs-number">240</span>);</span><br><span class="language-javascript">            ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">20</span>,<span class="hljs-number">240</span>);</span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">&quot;90&quot;</span>,<span class="hljs-number">20</span>,<span class="hljs-number">240</span>);</span><br><span class="language-javascript">             <span class="hljs-comment">//60字体</span></span><br><span class="language-javascript">            ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">40</span>,<span class="hljs-number">320</span>);</span><br><span class="language-javascript">            ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">20</span>,<span class="hljs-number">320</span>);</span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">&quot;60&quot;</span>,<span class="hljs-number">20</span>,<span class="hljs-number">320</span>);</span><br><span class="language-javascript">              <span class="hljs-comment">//30字体</span></span><br><span class="language-javascript">            ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">40</span>,<span class="hljs-number">400</span>);</span><br><span class="language-javascript">            ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">20</span>,<span class="hljs-number">400</span>);</span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">&quot;30&quot;</span>,<span class="hljs-number">20</span>,<span class="hljs-number">400</span>);</span><br><span class="language-javascript">             <span class="hljs-comment">//0字体</span></span><br><span class="language-javascript">             ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">40</span>,<span class="hljs-number">480</span>);</span><br><span class="language-javascript">            ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">20</span>,<span class="hljs-number">480</span>);</span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">&quot;0&quot;</span>,<span class="hljs-number">20</span>,<span class="hljs-number">480</span>);</span><br><span class="language-javascript"></span><br><span class="language-javascript">            <span class="hljs-comment">//x坐标</span></span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">40</span>,<span class="hljs-number">480</span>);</span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">680</span>,<span class="hljs-number">480</span>);</span><br><span class="language-javascript">            <span class="hljs-comment">//竖线1</span></span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">200</span>,<span class="hljs-number">480</span>)</span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">200</span>,<span class="hljs-number">500</span>);</span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">&quot;食品&quot;</span>,<span class="hljs-number">100</span>,<span class="hljs-number">500</span>);</span><br><span class="language-javascript">            <span class="hljs-comment">//竖线2</span></span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">360</span>,<span class="hljs-number">480</span>)</span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">360</span>,<span class="hljs-number">500</span>);</span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">&quot;数码&quot;</span>,<span class="hljs-number">260</span>,<span class="hljs-number">500</span>);</span><br><span class="language-javascript">             <span class="hljs-comment">//竖线3</span></span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">520</span>,<span class="hljs-number">480</span>)</span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">520</span>,<span class="hljs-number">500</span>);</span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">&quot;服饰&quot;</span>,<span class="hljs-number">420</span>,<span class="hljs-number">500</span>);</span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">&quot;箱包&quot;</span>,<span class="hljs-number">580</span>,<span class="hljs-number">500</span>);</span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">stroke</span>();</span><br><span class="language-javascript">        </span><br><span class="language-javascript">        <span class="hljs-comment">//绘制矩形</span></span><br><span class="language-javascript">        <span class="hljs-comment">//设置填充矩形颜色</span></span><br><span class="language-javascript">        ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">&#x27;hotpink&#x27;</span>;</span><br><span class="language-javascript">            <span class="hljs-comment">//食品矩形</span></span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">80</span>,<span class="hljs-number">320</span>,<span class="hljs-number">80</span>,<span class="hljs-number">160</span>);</span><br><span class="language-javascript">            <span class="hljs-comment">//数码矩形</span></span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">240</span>,<span class="hljs-number">280</span>,<span class="hljs-number">80</span>,<span class="hljs-number">200</span>);</span><br><span class="language-javascript">            <span class="hljs-comment">//服饰矩形</span></span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">400</span>,<span class="hljs-number">240</span>,<span class="hljs-number">80</span>,<span class="hljs-number">240</span>);</span><br><span class="language-javascript">            <span class="hljs-comment">//箱包矩形</span></span><br><span class="language-javascript">        ctx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">560</span>,<span class="hljs-number">0</span>,<span class="hljs-number">80</span>,<span class="hljs-number">480</span>);</span><br><span class="language-javascript"></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>   <br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="过程图"><a href="#过程图" class="headerlink" title="过程图"></a>过程图</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205121704140.png" alt="过程图"></p>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>javscript</tag>
      
      <tag>canvas</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>今日刷题-Object.defineProperty和Object.getOwnPropertyDescriptor</title>
    <link href="/2022/05/11/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B45%E6%9C%8811%E6%97%A5%E5%88%B7%E9%A2%98/"/>
    <url>/2022/05/11/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B45%E6%9C%8811%E6%97%A5%E5%88%B7%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript">下列<span class="hljs-variable language_">window</span>方法中，可以显示对话框的一项是（）<br><br><span class="hljs-attr">A</span>: <span class="hljs-title function_">confirm</span>()<br><br><span class="hljs-attr">B</span>: <span class="hljs-title function_">alert</span>()<br><br><span class="hljs-attr">C</span>: <span class="hljs-title function_">prompt</span>()<br><br><span class="hljs-attr">D</span>: <span class="hljs-title function_">open</span>()<br><br></code></pre></td></tr></table></figure><ul><li>答案<ul><li>C</li></ul></li><li>解析<ul><li>A: 弹出一个判断对话框(有确认,取消按钮和提示文本),返回值为用户所按下的,为<code>真</code>返回true,为<code>假</code>返回false</li><li>B: 弹出一个对话框</li><li>C: 弹出一个用户输入对话框,返回值为用户输入的值,没有输入则返回值为<code>null</code></li><li>D: 打开一个指定的窗口并指定打开方式</li></ul></li></ul><h3 id="题目2"><a href="#题目2" class="headerlink" title="题目2"></a>题目2</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> s = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;key&#x27;</span>); ...①<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(s + <span class="hljs-string">&#x27;123&#x27;</span>); ...②<br><span class="hljs-keyword">var</span> obj = &#123;<br>    [s]:<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>);&#125; ...③<br>&#125;<br><span class="hljs-keyword">var</span> b = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">ownKeys</span>(obj); ...④<br><span class="hljs-attr">A</span>: ①<br><br><span class="hljs-attr">B</span>: ②<br><br><span class="hljs-attr">C</span>: ③<br><br><span class="hljs-attr">D</span>: ④<br><br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>B</li></ul></li><li><p>解析</p><ul><li><p>Symbol是ES6新增的基本数据类型之一(全部基本数据类型为<strong>undefined string symbol number null boolean</strong>) ‘记忆:usnb,你如此牛逼’</p></li><li><p>Symbol不可以发生类型转换(发生就报错)</p></li><li><p>Symbol的值不能与其他类型进行运算</p></li><li><p>在对象内部使用Symbol 值作为属性名的时候，必须要将值放在方括号中</p></li><li><p>Symbol 值如果想要作为属性名，那就不能再用点运算符，因为点运算符后面跟的总是字符串</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"> <span class="hljs-keyword">let</span> id = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&quot;id&quot;</span>);<br> <span class="hljs-keyword">let</span> obj = &#123;<br>  [id]:<span class="hljs-string">&#x27;symbol&#x27;</span><br> &#125;;<br><span class="hljs-keyword">let</span> array = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertySymbols</span>(obj);<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(array); <span class="hljs-comment">//[Symbol(id)]</span><br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj[array[<span class="hljs-number">0</span>]]);  <span class="hljs-comment">//&#x27;symbol&#x27;</span><br><br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205110915371.png" alt="image-20220511091545286"></p></li></ul></li></ul><h3 id="题目3"><a href="#题目3" class="headerlink" title="题目3"></a>题目3</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> obj = &#123;<span class="hljs-attr">brand</span>:<span class="hljs-string">&#x27;华为&#x27;</span>,<span class="hljs-attr">price</span>:<span class="hljs-number">1999</span>&#125;;<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(obj,<span class="hljs-string">&#x27;id&#x27;</span>,&#123;<span class="hljs-attr">value</span>:<span class="hljs-number">1</span>&#125;)<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(obj,<span class="hljs-string">&#x27;price&#x27;</span>,&#123;<span class="hljs-attr">configurable</span>:<span class="hljs-literal">false</span>&#125;)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(obj).<span class="hljs-property">length</span>); ...①<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k <span class="hljs-keyword">in</span> obj)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj[k]); ...②<br>&#125;<br>obj.<span class="hljs-property">price</span> = <span class="hljs-number">999</span>;<br><span class="hljs-keyword">delete</span> obj[<span class="hljs-string">&#x27;price&#x27;</span>]<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj); ...③<br><span class="hljs-attr">A</span>: ①式输出结果为<span class="hljs-number">3</span><br><br><span class="hljs-attr">B</span>: ②式输出结果为华为 <span class="hljs-number">1999</span> <span class="hljs-number">1</span><br><br><span class="hljs-attr">C</span>: ③式输出结果为&#123;<span class="hljs-attr">brand</span>: <span class="hljs-string">&#x27;华为&#x27;</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">999</span>, <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>&#125;<br><br><span class="hljs-attr">D</span>: ③式输出结果为&#123;<span class="hljs-attr">brand</span>: <span class="hljs-string">&#x27;华为&#x27;</span>, <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>&#125;<br><br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>C</li></ul></li><li><p>解析</p><ul><li><p>Object.defineProperty注意点</p><ul><li>通过其添加的属性值,如果没有设置该属性的描述符(比如writeable,configurable,和enumberable)那么默认为false</li><li>可以使用**Object.getOwnPropertyDescriptor(obj,key)**来查看</li></ul></li><li><p>查看</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">brand</span>: <span class="hljs-string">&#x27;华为&#x27;</span>,<br>    <span class="hljs-attr">price</span>: <span class="hljs-number">1999</span><br>&#125;;<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(obj, <span class="hljs-string">&#x27;id&#x27;</span>, &#123;<br>    <span class="hljs-attr">value</span>: <span class="hljs-number">1</span><br>&#125;)<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(obj, <span class="hljs-string">&#x27;price&#x27;</span>, &#123;<br>    <span class="hljs-attr">configurable</span>: <span class="hljs-literal">false</span><br>&#125;)<br><br><span class="hljs-comment">// 下面一行代码输出结果</span><br><span class="hljs-comment">// 新添加的属性,未设置其他属性,则默认为false</span><br><span class="hljs-comment">// configurable: false</span><br><span class="hljs-comment">// enumerable: false          </span><br><span class="hljs-comment">// value: 1</span><br><span class="hljs-comment">// writable: false</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyDescriptor</span>(obj,<span class="hljs-string">&#x27;id&#x27;</span>));<br><br><span class="hljs-comment">//下面一行代码输出结果</span><br><span class="hljs-comment">// 本来就有的属性,上方只是对值做了修改,并不是新增加的</span><br><span class="hljs-comment">// configurable: false</span><br><span class="hljs-comment">// enumerable: true</span><br><span class="hljs-comment">// value: 1999</span><br><span class="hljs-comment">// writable: true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyDescriptor</span>(obj,<span class="hljs-string">&#x27;price&#x27;</span>));<br></code></pre></td></tr></table></figure></li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>今日刷题-微任务和宏任务</title>
    <link href="/2022/05/10/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B45%E6%9C%8810%E6%97%A5%E5%88%B7%E9%A2%98/"/>
    <url>/2022/05/10/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B45%E6%9C%8810%E6%97%A5%E5%88%B7%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript">执行以下程序，输出结果为（）<br><br><span class="hljs-keyword">var</span> a = <span class="hljs-number">100</span>;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">a</span>(<span class="hljs-params"></span>)&#123;<br><br><span class="hljs-keyword">var</span> a = <span class="hljs-number">200</span>;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br><br>&#125;<br><br><span class="hljs-title function_">a</span>();<br><br><span class="hljs-attr">A</span>: <span class="hljs-number">100</span><br><br><span class="hljs-attr">B</span>: <span class="hljs-number">200</span><br><br><span class="hljs-attr">C</span>: 抛出异常<br><br><span class="hljs-attr">D</span>: f <span class="hljs-title function_">a</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">var</span> a = <span class="hljs-number">200</span>;<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);&#125;<br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>C</li></ul></li><li><p>解析</p><ul><li><p>首先注意,函数提升优先级高于变量提升(也就是先函数提升才轮到变量) <del>之前我一直以为是被覆盖….</del></p></li><li><p>所以上面的代码相当于</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">a</span>(<span class="hljs-params"></span>)&#123;<br><br><span class="hljs-keyword">var</span> a = <span class="hljs-number">200</span>;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br><br>&#125;<br><span class="hljs-keyword">var</span> a <br>a = <span class="hljs-number">200</span>;<br>a = <span class="hljs-number">100</span>;<br><span class="hljs-title function_">a</span>();<br><span class="hljs-comment">//所以报错~</span><br></code></pre></td></tr></table></figure></li></ul></li></ul><h3 id="题目2"><a href="#题目2" class="headerlink" title="题目2"></a>题目2</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> num = <span class="hljs-title function_">prompt</span>(<span class="hljs-string">&#x27;请输入分母:&#x27;</span>)<br><span class="hljs-keyword">try</span>&#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;a&#x27;</span>);<br>  value = <span class="hljs-number">0</span> / num;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;b&#x27;</span>);<br>&#125;<br><span class="hljs-keyword">catch</span>(e)&#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;c&#x27;</span>);<br>&#125;<br><span class="hljs-keyword">finally</span>&#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;d&#x27;</span>);<br>&#125;<br><span class="hljs-attr">A</span>: a , c , d<br><br><span class="hljs-attr">B</span>: a , b , d<br><br><span class="hljs-attr">C</span>: a , b , c , d<br><br><span class="hljs-attr">D</span>: a , b , c<br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>B</li></ul></li><li><p>解析</p><ul><li>虽然说0不能做分母,如果做了会报错,在其他语言是这样子的,但是JavaScript不会,因为JavaScript有NaN类型~</li><li>所以 0 &#x2F; 0 &#x3D;&gt; NaN 不会报错,所以不会捕捉到异常</li><li>而 <strong>finally</strong>不管try…catch是成功还是失败都会执行</li></ul></li></ul><h3 id="题目3"><a href="#题目3" class="headerlink" title="题目3"></a>题目3</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>);<br><br><span class="hljs-keyword">let</span> a = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>)&#125;, <span class="hljs-number">0</span>);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>);<br><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-number">4</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">b</span> =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b);<br>    <br>    <span class="hljs-built_in">clearTimeout</span>(a);<br>&#125;);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">5</span>);<br><br><span class="hljs-attr">A</span>: <span class="hljs-number">1</span> , <span class="hljs-number">2</span> , <span class="hljs-number">3</span> , <span class="hljs-number">4</span> , <span class="hljs-number">5</span><br><span class="hljs-attr">B</span>: <span class="hljs-number">1</span> , <span class="hljs-number">3</span> , <span class="hljs-number">4</span> , <span class="hljs-number">5</span><br><span class="hljs-attr">C</span>: <span class="hljs-number">1</span> , <span class="hljs-number">3</span> , <span class="hljs-number">5</span> , <span class="hljs-number">4</span><br><span class="hljs-attr">D</span>: <span class="hljs-number">1</span> , <span class="hljs-number">3</span> , <span class="hljs-number">5</span> , <span class="hljs-number">4</span> , <span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>C</li></ul></li><li><p>解析</p><ul><li><p>js代码分为同步任务和异步任务,js先执行同步任务后执行任务(比如定时器,promise)</p></li><li><p>并且异步任务分为(微任务和宏任务,优先级为微任务 <strong>&gt;</strong> 宏任务)</p></li><li><p>所以代码先输出1,3,5,然后执行promise,由于promise当中清除了定时器a,所以不会执行定时器了</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205100901161.png"></p></li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>前端真题刷题-注意基础知识不要忘了基本原理</title>
    <link href="/2022/05/10/%E5%88%B7%E9%A2%98/HTML/%E5%89%8D%E7%AB%AF%E7%9C%9F%E9%A2%98%E5%88%B7-%E6%B3%A8%E6%84%8F%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E4%B8%8D%E8%A6%81%E5%BF%98%E4%BA%86%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/"/>
    <url>/2022/05/10/%E5%88%B7%E9%A2%98/HTML/%E5%89%8D%E7%AB%AF%E7%9C%9F%E9%A2%98%E5%88%B7-%E6%B3%A8%E6%84%8F%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E4%B8%8D%E8%A6%81%E5%BF%98%E4%BA%86%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/</url>
    
    <content type="html"><![CDATA[<h3 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs html">SVG 有多少种图形对象类型？<br>A: 2<br> <br>B: 3<br><br>C: 5<br><br>D: 7<br><br></code></pre></td></tr></table></figure><ul><li>答案</li><li>解析</li></ul><h3 id="题目2"><a href="#题目2" class="headerlink" title="题目2"></a>题目2</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs html">以下哪个是 html5 中的 input 类型属性？<br>(1) search<br>(2) datetime<br>(3) week<br>(4) color<br>(5) track<br>(6) placeholder<br><br>A: 1 , 2 , 3 , 4 , 6 <br> <br>B: 1 , 2 , 3 , 4 , 5 <br><br>C: 2 , 3 , 4 , 5 , 6 <br><br>D: 1 , 3 , 4 , 5 , 6 <br><br></code></pre></td></tr></table></figure><ul><li>答案</li><li>解析</li></ul><h3 id="题目3"><a href="#题目3" class="headerlink" title="题目3"></a>题目3</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html">以下哪个不是 HTML5 中使用的媒体元素？<br>A: <span class="hljs-tag">&lt;<span class="hljs-name">source</span>&gt;</span><br>B: <span class="hljs-tag">&lt;<span class="hljs-name">audio</span>&gt;</span><br>C: <span class="hljs-tag">&lt;<span class="hljs-name">track</span>&gt;</span><br>D: <span class="hljs-tag">&lt;<span class="hljs-name">time</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>答案</li><li>解析</li></ul><h3 id="题目4"><a href="#题目4" class="headerlink" title="题目4"></a>题目4</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html">SVG 是什么意思？<br>A: 二级矢量图形<br>B: 可伸缩的垂直图形<br>C: 可伸缩矢量图形<br>D: 三级矢量图形<br></code></pre></td></tr></table></figure><ul><li>答案</li><li>解析</li></ul><h3 id="题目5"><a href="#题目5" class="headerlink" title="题目5"></a>题目5</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html">input 元素的哪个属性将元素的值设置为表示一定范围内的数字？<br>A: range<br>B: email<br>C: file<br>D: data<br></code></pre></td></tr></table></figure><ul><li>答案</li><li>解析</li></ul>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>今日刷题-类型转换必须解决</title>
    <link href="/2022/05/08/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B45%E6%9C%8808%E6%97%A5%E5%88%B7%E9%A2%98/"/>
    <url>/2022/05/08/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B45%E6%9C%8808%E6%97%A5%E5%88%B7%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">下面结果为真的表达式是：（）<br><span class="hljs-attr">A</span>: <span class="hljs-literal">null</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Object</span><br><br><span class="hljs-attr">B</span>: <span class="hljs-literal">null</span> === <span class="hljs-literal">undefined</span><br><br><span class="hljs-attr">C</span>: <span class="hljs-literal">null</span> == <span class="hljs-literal">undefined</span><br><br><span class="hljs-attr">D</span>: <span class="hljs-title class_">NaN</span> == <span class="hljs-title class_">NaN</span><br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>C</li></ul></li><li><p>解析</p><ul><li><p>A:</p><ul><li><strong>null</strong> instanceof Object ;&#x2F;&#x2F; false</li><li>typeof null &#x3D;&#x3D;&#x3D; ‘object’;&#x2F;&#x2F; true</li><li><strong>同理</strong></li><li>undefined instanceof Object ; &#x2F;&#x2F;false</li><li><strong>typeof undefined &#x3D;&#x3D;&#x3D; ‘undefined’</strong> &#x2F;&#x2F;true</li></ul></li><li><p>B,C</p><ul><li>null 遇到二个等号( &#x3D;&#x3D; ) 和 undefined 比较,<strong>无条件返回true</strong></li><li>null 遇到三个等号( &#x3D;&#x3D;&#x3D; ) 和undefined 比较,<strong>无条件返回false</strong></li></ul></li><li><p>D:</p><ul><li>NaN 不与 任何值相等 包括自身</li></ul></li></ul></li></ul><h3 id="题目2"><a href="#题目2" class="headerlink" title="题目2"></a>题目2</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">以下哪个语句打印出来的结果是<span class="hljs-literal">false</span>？<br><span class="hljs-attr">A</span>: <span class="hljs-title function_">alert</span>(<span class="hljs-number">3</span> == <span class="hljs-literal">true</span>)<br><br><span class="hljs-attr">B</span>: <span class="hljs-title function_">alert</span>(<span class="hljs-number">2</span> == <span class="hljs-string">&#x27;2&#x27;</span>)<br><br><span class="hljs-attr">C</span>: <span class="hljs-title function_">alert</span>(<span class="hljs-literal">null</span> == <span class="hljs-literal">undefined</span>)<br><br><span class="hljs-attr">D</span>: <span class="hljs-title function_">alert</span>(<span class="hljs-built_in">isNaN</span>(<span class="hljs-string">&#x27;true&#x27;</span>))<br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>A</li></ul></li><li><p>解析</p><ul><li><p>A:  &#x3D;&#x3D; 会隐式转换,二个都是基本数据类型比较,true转化为数字为1,然后3&#x3D;&#x3D;1返回false</p></li><li><p>B:  &#x3D;&#x3D; 会隐式转换,二个都是基本数据类型比较,都转化为数字,字符串’2’ 转化为数字为2,所以 2 &#x3D;&#x3D; 2返回为true</p></li><li><p>C: null 遇到2个等号(&#x3D;&#x3D;) 和undefined 无条件返回true**(规定)**</p></li><li><p>D: isNaN的转换好像都是将参数通过**Number()**来进行转换,凡是Number不能转换的都返回NaN</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">isNaN</span>(<span class="hljs-number">123</span>) <span class="hljs-comment">//false</span><br><span class="hljs-built_in">isNaN</span>(-<span class="hljs-number">1.23</span>) <span class="hljs-comment">//false</span><br><span class="hljs-built_in">isNaN</span>(<span class="hljs-number">5</span>-<span class="hljs-number">2</span>) <span class="hljs-comment">//false</span><br><span class="hljs-built_in">isNaN</span>(<span class="hljs-number">0</span>) <span class="hljs-comment">//false</span><br><span class="hljs-built_in">isNaN</span>(<span class="hljs-string">&#x27;123&#x27;</span>) <span class="hljs-comment">//false</span><br><span class="hljs-built_in">isNaN</span>(<span class="hljs-string">&#x27;Hello&#x27;</span>) <span class="hljs-comment">//true</span><br><span class="hljs-built_in">isNaN</span>(<span class="hljs-string">&#x27;2005/12/12&#x27;</span>) <span class="hljs-comment">//true</span><br><span class="hljs-built_in">isNaN</span>(<span class="hljs-string">&#x27;&#x27;</span>) <span class="hljs-comment">//false</span><br><span class="hljs-built_in">isNaN</span>(<span class="hljs-literal">true</span>) <span class="hljs-comment">//false</span><br><span class="hljs-built_in">isNaN</span>(<span class="hljs-literal">undefined</span>) <span class="hljs-comment">//true</span><br><span class="hljs-built_in">isNaN</span>(<span class="hljs-string">&#x27;NaN&#x27;</span>) <span class="hljs-comment">//true</span><br><span class="hljs-built_in">isNaN</span>(<span class="hljs-title class_">NaN</span>) <span class="hljs-comment">//true</span><br><span class="hljs-built_in">isNaN</span>(<span class="hljs-number">0</span> / <span class="hljs-number">0</span>) <span class="hljs-comment">//true</span><br></code></pre></td></tr></table></figure></li></ul></li></ul><p><strong>总结下</strong></p><ol><li><p>只要是<strong>基本数据类型</strong>的 <code>==</code> 比较,都会转化为数值来进行比较</p></li><li><p>只要是<strong>引用数据类型</strong>和<strong>基本数据类型</strong>的的比较,都会转化为<strong>字符串</strong>   然后 转化为 <strong>被比较的基本数据的类型</strong>  后 <strong>再进行比较</strong>((除了引用数据类型和布尔值进行比较的时候是将二者转化为布尔值比较))</p></li><li><p>(比如 对象和布尔值比较 )</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 输出结果为false</span><br><span class="hljs-comment">// 过程:  [ ]转换为字符串&#x27;&#x27;,然后转换为数字0,true转换为数字1，所以为false</span><br>[] == <span class="hljs-literal">true</span>; <br></code></pre></td></tr></table></figure></li><li><p>(比如 对象和数字比较)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 输出结果为true</span><br><span class="hljs-comment">// 过程: [1]转化为字符串&#x27;1&#x27; ,然后转化为数字1 然后数字1 和 1进行比较 ,返回true</span><br>[<span class="hljs-number">1</span>] == <span class="hljs-number">1</span>;  <br></code></pre></td></tr></table></figure></li><li><p>还有一些需要记住的，像</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-literal">null</span> == <span class="hljs-literal">undefined</span> <span class="hljs-comment">// true  null和undefined二个等于号比较则返回true,二者和其他比较就返回false</span><br><br><span class="hljs-comment">//举例子,下方的就是</span><br><span class="hljs-literal">null</span> == <span class="hljs-literal">false</span> <span class="hljs-comment">//false</span><br><br><span class="hljs-literal">null</span> === <span class="hljs-literal">null</span> <span class="hljs-comment">//为true</span><br><span class="hljs-literal">undefined</span> === <span class="hljs-literal">undefined</span>  <span class="hljs-comment">//为true</span><br></code></pre></td></tr></table></figure></li><li><p>具体可以看这个博主写的<a href="https://www.cnblogs.com/ljk001/p/8086084.html">js中的一些隐式转换和总结</a></p></li></ol><h4 id="题目2扩展"><a href="#题目2扩展" class="headerlink" title="题目2扩展"></a>题目2扩展</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//各自的返回结果是?</span><br><span class="hljs-number">1</span> == <span class="hljs-literal">true</span><br><span class="hljs-string">&quot;&quot;</span> == <span class="hljs-literal">false</span><br><span class="hljs-literal">false</span> == <span class="hljs-literal">null</span><br><span class="hljs-literal">null</span> == <span class="hljs-literal">undefined</span><br></code></pre></td></tr></table></figure><ul><li>答案<ul><li><code>1 == true</code> ;&#x2F;&#x2F; true (基本数据类型和布尔值比较,二者转化为数值 <code>1</code> 不变化 <code> true</code>变为了<code>1</code>,所以二者相等返回true)</li><li><code>&quot;&quot; == false</code>; &#x2F;&#x2F; true  (基本数据类型和布尔值比较 , 二者转化为数值,  <code>&quot;&quot; </code>转化为数值为<code>0 </code>, <code>false</code>变为0,所以二者相等返回true)</li><li><code>false == null </code>; &#x2F;&#x2F; false (null除了和undefined二个等号比较返回为true,null和其他比较均返回为false(undefined也是))</li><li><code>null == undefined </code>;&#x2F;&#x2F; true (<code>null</code> 和 <code>undefined</code> 比较,返回为true,<strong>可以看上面第五条</strong>)</li></ul></li></ul><h3 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h3><ul><li>对象转换为数字的时候的时候,会依次调用<code>valueOf</code>方法和<code>toString</code>方法,我们可以进行重写这二个方法来完成一些看似不可能的操作<ul><li>valueOf 取出对象内部的值，不进行类型转换 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/valueOf">mdnDoc文档地址</a></li><li>toString 一定将所有内容转为字符串! <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/toString">mdnDoc文档地址</a></li></ul></li><li>当调用valueOf方法没有获取到基本数据类型的时候,就会再次调用toString方法</li></ul><p><strong>证明1:当调用valueOf方法没有获取到基本数据类型的时候,就会再次调用toString方法</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = [];<br><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">valueOf</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;你调用了我1&quot;</span>);<br><span class="hljs-keyword">return</span> [];<br>&#125;;<br><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;你调用了我2&quot;</span>);<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>([] == <span class="hljs-literal">false</span>);<br><br><span class="hljs-comment">//依次输出</span><br><span class="hljs-comment">// 你调用了我1</span><br><span class="hljs-comment">// 你调用了我2</span><br><span class="hljs-comment">// false </span><br></code></pre></td></tr></table></figure><p><strong>证明2:当调用valueOf方法没有获取到基本数据类型的时候,就会再次调用toString方法</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> test = &#123;<br><span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白&quot;</span>,<br><span class="hljs-title function_">valueOf</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;你调用了我1&quot;</span>);<br><span class="hljs-keyword">return</span> &#123;&#125;;<br>&#125;,<br><span class="hljs-title function_">toString</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;你调用了我2&quot;</span>);<br>&#125;<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(test == <span class="hljs-literal">false</span>);<br><span class="hljs-comment">//依次输出 </span><br><span class="hljs-comment">// 你调用了我1</span><br><span class="hljs-comment">// 你调用了我2</span><br><span class="hljs-comment">// false </span><br></code></pre></td></tr></table></figure><p><strong>证明3:当调用valueOf方法没有获取到基本数据类型的时候,就会再次调用toString方法</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> test = &#123;<br><span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白&quot;</span>,<br><span class="hljs-title function_">valueOf</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;你调用了我1&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;777&quot;</span>;<br>&#125;,<br><span class="hljs-title function_">toString</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;你调用了我2&quot;</span>);<br>&#125;<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(test == <span class="hljs-literal">false</span>);<br><span class="hljs-comment">//依次输出</span><br><span class="hljs-comment">// 你调用了我1</span><br><span class="hljs-comment">// false</span><br></code></pre></td></tr></table></figure><p>也许有人会说,为什么我重写了valueOf方法和toString方法还是只会调用valueOf啊</p><ul><li>那是因为你没有加return,你没加return在valueOf方法里面,那么相同会自动添加<code>return undefined</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> test = &#123;<br><span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白&quot;</span>,<br><span class="hljs-title function_">valueOf</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;你调用了我1&quot;</span>);<br>&#125;,<br><span class="hljs-title function_">toString</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;你调用了我2&quot;</span>);<br>&#125;<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(test == <span class="hljs-literal">false</span>);<br><span class="hljs-comment">//可能你们是这样子写的</span><br><span class="hljs-comment">//然后发现只有 你调用了我1 和false输出</span><br><span class="hljs-comment">// 你return下任意的引用数据类型就可以了</span><br></code></pre></td></tr></table></figure><h4 id="有没有什么办法可以使得-a-x3D-x3D-1-amp-amp-a-x3D-x3D-2-amp-amp-a-x3D-x3D-3为真"><a href="#有没有什么办法可以使得-a-x3D-x3D-1-amp-amp-a-x3D-x3D-2-amp-amp-a-x3D-x3D-3为真" class="headerlink" title="有没有什么办法可以使得 a&#x3D;&#x3D;1 &amp;&amp; a&#x3D;&#x3D;2 &amp;&amp; a&#x3D;&#x3D;3为真?"></a>有没有什么办法可以使得 a&#x3D;&#x3D;1 &amp;&amp; a&#x3D;&#x3D;2 &amp;&amp; a&#x3D;&#x3D;3为真?</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = &#123;<br><span class="hljs-attr">num</span>:<span class="hljs-number">1</span>,<br><span class="hljs-title function_">valueOf</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-comment">//每次都是先返回在自增1</span><br><span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span>++;<br>&#125;<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a==<span class="hljs-number">1</span> &amp;&amp; a==<span class="hljs-number">2</span> &amp;&amp; a==<span class="hljs-number">3</span>);<span class="hljs-comment">//true</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>今日刷题-原型链</title>
    <link href="/2022/05/07/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B45%E6%9C%8807%E6%97%A5%E5%88%B7%E9%A2%98/"/>
    <url>/2022/05/07/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B45%E6%9C%8807%E6%97%A5%E5%88%B7%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript">请问以下两次检测对象constructor是否拥有属性名<span class="hljs-number">1</span>的结果分别是什么？<br><span class="hljs-number">1</span> <span class="hljs-keyword">in</span> <span class="hljs-title class_">Object</span>(<span class="hljs-number">1.0</span>).<span class="hljs-property">constructor</span>;<br><span class="hljs-title class_">Number</span>[<span class="hljs-number">1</span>] = <span class="hljs-number">123</span>;<br><span class="hljs-number">1</span> <span class="hljs-keyword">in</span> <span class="hljs-title class_">Object</span>(<span class="hljs-number">1.0</span>).<span class="hljs-property">constructor</span>;<br><br><span class="hljs-attr">A</span>: <span class="hljs-literal">false</span>,<span class="hljs-literal">false</span><br><br><span class="hljs-attr">B</span>: <span class="hljs-literal">false</span>,<span class="hljs-literal">true</span><br><br><span class="hljs-attr">C</span>: <span class="hljs-literal">true</span>,<span class="hljs-literal">true</span><br><br><span class="hljs-attr">D</span>: <span class="hljs-literal">true</span>,<span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>B</li></ul></li><li><p>解析</p><ul><li><p><code>in</code>用于检测一个属性是否在指定对象上或者是其原型链上</p></li><li><p><strong><code>Object</code> 构造函数将给定的值包装为一个新对象。</strong></p><ul><li>比如Object({name:’李白’}) 返回 { name : ‘李白’ }</li><li>Object([1,2,3,4]) 返回[1,2,3,4]</li><li>Object(1.0) 返回Number(1) 也就是Number对象</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 代码等同于</span><br><span class="hljs-keyword">var</span> temp = <span class="hljs-title class_">Object</span>(<span class="hljs-number">1.0</span>);<br><br><span class="hljs-number">1</span> <span class="hljs-keyword">in</span> temp.<span class="hljs-property">constructor</span>;<br><br><span class="hljs-comment">//Object[key] = value; 形式给 constructor 对象添加 key = 1 属性,对应的 value = 123 </span><br><span class="hljs-comment">// 因为key不能为数字开头,所以就通过Ojbect[key]方式赋值</span><br><span class="hljs-comment">// 类似于 Object.name = &quot;李白&quot;这种</span><br><span class="hljs-title class_">Number</span>[<span class="hljs-number">1</span>] = <span class="hljs-number">123</span>;<br><br><span class="hljs-number">1</span> <span class="hljs-keyword">in</span> temp.<span class="hljs-property">constructor</span>;<br></code></pre></td></tr></table></figure></li></ul></li></ul><h3 id="题目2"><a href="#题目2" class="headerlink" title="题目2"></a>题目2</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> F=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;&#125;;<br><span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">a</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;&#125;;<br><span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> .<span class="hljs-property">b</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;&#125;;<br><span class="hljs-keyword">var</span> f=<span class="hljs-keyword">new</span> <span class="hljs-title function_">F</span>();<br><span class="hljs-attr">A</span>: f能取到a，但取不到b<br><br><span class="hljs-attr">B</span>: f能取到a,b<br><br><span class="hljs-attr">C</span>: F能取到b，不能取到a<br><br><span class="hljs-attr">D</span>: F能取到a，不能取到b<br><br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>A</li></ul></li><li><p>解析</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 看代码~</span><br><span class="hljs-keyword">var</span> F = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;&#125;;<br><span class="hljs-keyword">var</span> f = <span class="hljs-keyword">new</span> <span class="hljs-title function_">F</span>();<br>F.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>; <span class="hljs-comment">//true</span><br>f.<span class="hljs-property">__proto__</span> === F.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>; <span class="hljs-comment">//true</span><br>F.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>; <span class="hljs-comment">//true</span><br><br>F.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> == <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>; <span class="hljs-comment">//false</span><br></code></pre></td></tr></table></figure><p>图形演示</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205070910644.png" alt="原型链"></p></li></ul><h3 id="题目3"><a href="#题目3" class="headerlink" title="题目3"></a>题目3</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">下面哪些语句可以 在<span class="hljs-variable constant_">JS</span>里判断一个对象是否为<span class="hljs-title class_">String</span>类型？<br><span class="hljs-attr">A</span>: oStringObject <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">String</span><br><br><span class="hljs-attr">B</span>: <span class="hljs-keyword">typeof</span> oStringObject == <span class="hljs-string">&#x27;string&#x27;</span><br><br><span class="hljs-attr">C</span>: oStringObject is <span class="hljs-title class_">String</span> (没见过这个语法~)<br><br><span class="hljs-attr">D</span>: 以上答案都不正确<br><br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>A</li></ul></li><li><p>解析</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//所以只有a</span><br><span class="hljs-keyword">typeof</span> <span class="hljs-string">&#x27;hello&#x27;</span>;  <span class="hljs-comment">// &#x27;string&#x27;</span><br><span class="hljs-keyword">typeof</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&#x27;hello&#x27;</span>);  <span class="hljs-comment">// &#x27;object&#x27;</span><br></code></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>深入自定义事件和原生DOM事件($attr等)</title>
    <link href="/2022/05/06/%E5%89%8D%E7%AB%AF/Vue%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1%E5%86%8D%E6%AC%A1(%E6%B7%B1%E5%85%A5%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6%E5%92%8C%E5%8E%9F%E7%94%9FDOM%E4%BA%8B%E4%BB%B6)/"/>
    <url>/2022/05/06/%E5%89%8D%E7%AB%AF/Vue%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1%E5%86%8D%E6%AC%A1(%E6%B7%B1%E5%85%A5%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6%E5%92%8C%E5%8E%9F%E7%94%9FDOM%E4%BA%8B%E4%BB%B6)/</url>
    
    <content type="html"><![CDATA[<h1 id="深入自定义事件和原生DOM事件"><a href="#深入自定义事件和原生DOM事件" class="headerlink" title="深入自定义事件和原生DOM事件"></a>深入自定义事件和原生DOM事件</h1><h2 id="自定义事件"><a href="#自定义事件" class="headerlink" title="自定义事件"></a>自定义事件</h2><ol><li><p>在组件上标签上添加的事件就是自定义事件,不管系统是否带这些事件,比如在上添加<code>&lt;自定义组件 @自定义事件 = &quot;回调函数&quot;&gt;&lt;/自定义组件&gt;</code> 那么<code>@自定义事件</code>在自定义组件上就是自定义事件,比如<code>&lt;自定义组件 @click = &quot;回调函数&quot;&gt;&lt;/自定义组件&gt;</code>,那么<code>@click</code>就是自定义事件</p></li><li><p>添加的事件如果没有传入参数,那么输出就是undefined</p><ul><li>如图,传入了参数,单击button,输出为10,如果没有传递参数10,则输出undefined</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205061946890.png"></p></li><li><p>自定义组件上绑定原生DOM事件使用native和不使用</p><ul><li>如图</li></ul></li></ol><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205061947942.png"></p><h2 id="自定义事件示例"><a href="#自定义事件示例" class="headerlink" title="自定义事件示例"></a>自定义事件示例</h2><p><strong>App.vue</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 给自定义组件绑定自定义事件为click事件,并将事件的回调函数绑定在事件check上 --&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">MyComponent</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;check&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">MyComponent</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">MyComponent</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/components/MyComponent&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;App&#x27;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">components</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title class_">MyComponent</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">methods</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//给自定义组件绑定的自定义事件</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">check</span>(<span class="hljs-params">event</span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;event&quot;</span>,event);</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>自定义组件<strong>MyComponent</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;my&quot;</span>&gt;</span></span><br><span class="language-xml">    这是我的组件</span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 用于触发给其绑定的自定义事件 --&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;chufa&quot;</span>&gt;</span>触发自定义事件<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;MyComponent&#x27;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">methods</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//触发自定义事件click,并传入一个参数100</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">chufa</span>(<span class="hljs-params"></span>)&#123;    </span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">&quot;click&quot;</span>,<span class="hljs-number">1000</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>  <span class="hljs-attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="language-css"><span class="language-xml">    <span class="hljs-selector-class">.my</span>&#123;</span></span><br><span class="language-css"><span class="language-xml">        <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid red;</span></span><br><span class="language-css"><span class="language-xml">    &#125;</span></span><br><span class="language-css"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p><strong>效果</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207171039146.png"></p><h2 id="原生DOM事件"><a href="#原生DOM事件" class="headerlink" title="原生DOM事件"></a>原生DOM事件</h2><ol><li><p>在HTML标签上添加就是原生DOM事件,比如说<code>@click</code> <code>@mousemove</code>这些系统自带的原生事件</p></li><li><p>添加的事件如果没有传入参数,那么系统会默认传入event参数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;button @click=<span class="hljs-string">&quot;test1&quot;</span>&gt;我是按钮<span class="hljs-number">1</span>&lt;/button&gt;<br><span class="hljs-comment">//等同于</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;test1($event)&quot;</span>&gt;</span>我是按钮2<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br></code></pre></td></tr></table></figure></li></ol><h3 id="vue自定义的事件在html标签和组件标签上的区别"><a href="#vue自定义的事件在html标签和组件标签上的区别" class="headerlink" title="vue自定义的事件在html标签和组件标签上的区别"></a>vue自定义的事件在html标签和组件标签上的区别</h3><ol><li><p>在html标签上添加自定义事件无意义,所以自定义事件是给组件标签添加的</p></li><li><p>事件名可以任意,也可以和原生DOM事件名相同,但是是自定义的</p></li><li><p>如果自定义事件上想绑定原生的事件,那么就需要在事件对象名称后面添加 .native 并且绑定的事件添加在添加到组件根元素上,通过委派的形式使得子元素可以被触发</p></li></ol><ul><li><p>如图</p><p>  <img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205061947944.png"></p></li></ul><h1 id="深入理解v-model"><a href="#深入理解v-model" class="headerlink" title="深入理解v-model"></a>深入理解v-model</h1><ol><li><p>首先我们需要知道v-model在HTML标签上的原理</p></li><li><p><strong>v-model原来写法</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html">// 标准v-model写法 普通写法<br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;msg&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>v-model拆解写法(等同于上方直接写v-model)</p><ul><li>先使用v-bind绑定一个值给输入框,再添加事件@input,当触发就将当前触发对象的值传递给v-bind绑定的那个值,就这样子完成了数据更新</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html">// v-model拆解写法<br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">:value</span>=<span class="hljs-string">&quot;msg&quot;</span> @<span class="hljs-attr">input</span>=<span class="hljs-string">&quot;msg = $event.target.value&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li></ol><h3 id="那么v-model当中在自定义组件要怎么实现呢"><a href="#那么v-model当中在自定义组件要怎么实现呢" class="headerlink" title="那么v-model当中在自定义组件要怎么实现呢?"></a>那么v-model当中在自定义组件要怎么实现呢?</h3><ul><li><p>根据v-model在原生DOM上拆解的写法,我们应该这样子写( 以自定义组件CustomInput为例 )</p></li><li><p><strong>需要知道的是: 在自定义组件当中,<code>$event</code>就是<code>$emit</code>当中第二个参数传递过来的数据</strong></p></li><li><p><strong>父</strong>组件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!--父亲给<span class="hljs-title class_">CustomInput</span>传递 <span class="hljs-string">&quot;msg2&quot;</span> 数据,儿子要使用props接收( <span class="hljs-attr">props</span>:[<span class="hljs-string">&quot;value&quot;</span>] ),并且传递了自定义事件input --&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">CustomInput</span> <span class="hljs-attr">:value</span>=<span class="hljs-string">&quot;msg&quot;</span> @<span class="hljs-attr">input</span>=<span class="hljs-string">&quot;msg = $event&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">CustomInput</span>&gt;</span></span><br>&lt;!--上面这一行代码可以简写为下面这一行                但是子组件不能简写,必须要写下面这些内容!!!!!!!!!!!!!! --&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">CustomInput</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;msg&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">CustomInput</span>&gt;</span></span><br></code></pre></td></tr></table></figure></li><li><p><strong>子</strong>组件 CustomInput.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> </span></span><br><span class="hljs-tag"><span class="language-xml">               // 绑定从父亲传递过来的参数</span></span><br><span class="hljs-tag"><span class="language-xml">               <span class="hljs-attr">:value</span> = <span class="hljs-string">&quot;value&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">               // 绑定原生<span class="hljs-attr">DOM</span>事件@<span class="hljs-attr">input</span>,输入框内容发生改变,就调用父亲给子组件的自定义事件<span class="hljs-attr">input</span></span></span><br><span class="hljs-tag"><span class="language-xml">               @<span class="hljs-attr">input</span>=<span class="hljs-string">&quot;$emit(&#x27;input&#x27;,$event.target.value)&quot;</span>/&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;CustomInput&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 接收从父亲传递过来的:value=&quot;msg&quot;的值</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 如果是简写形式(&lt;CustomInput v-model=&quot;msg&quot;&gt;&lt;/CustomInput&gt;)也是从value接收</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">props</span>:[<span class="hljs-string">&quot;value&quot;</span>]</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure></li></ul><h1 id="sync修饰符实现父子数据同步和-sync和v-model的区别"><a href="#sync修饰符实现父子数据同步和-sync和v-model的区别" class="headerlink" title=".sync修饰符实现父子数据同步和.sync和v-model的区别"></a>.sync修饰符实现父子数据同步和.sync和v-model的区别</h1><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[需求]</span><br>父亲向儿子传递一个值叫money),儿子每次都花<span class="hljs-number">100</span>块钱,要求儿子花了多少钱,爸爸那边可以同步<br></code></pre></td></tr></table></figure><h4 id="第一次-无效果-直接传递数据给儿子-儿子每次单击都花100块钱"><a href="#第一次-无效果-直接传递数据给儿子-儿子每次单击都花100块钱" class="headerlink" title="第一次(无效果) (直接传递数据给儿子, 儿子每次单击都花100块钱)"></a>第一次(无效果) (直接传递数据给儿子, 儿子每次单击都花100块钱)</h4><ul><li><p><strong>父亲</strong> (直接传递数据给儿子)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"> &lt;!-- 会弹出警告说数据不同步 --&gt; <br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Child</span> <span class="hljs-attr">:money</span>=<span class="hljs-string">&quot;moneyFather&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Child</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>弹出警告</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205061947945.png"></p></li><li><p><strong>儿子</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>小明每次花100元<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><br>&lt;!-- 每次单击爸爸的钱就减少<span class="hljs-number">100</span> --&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;money = money - 100&quot;</span>&gt;</span>单击我花钱<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><br>&lt;!-- 显示爸爸剩余多少钱 --&gt;<br>爸爸还剩 &#123;&#123; money &#125;&#125; 元<br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;Child&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">//接收父亲传递过来的信息，告诉了我现在父亲有多少钱</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">props</span>:[<span class="hljs-string">&quot;money&quot;</span>]</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure></li></ul><ul><li><p><strong>结果</strong></p><ul><li><strong>儿子花钱按钮被单击,儿子当中的父亲的钱数量被改变,但是父亲兜兜里面的钱没有变化</strong></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205061947946.png"></p></li></ul><h4 id="第二次-有效果-数据传递给儿子-但是儿子每次单击花钱的时候就告诉父亲我花钱了"><a href="#第二次-有效果-数据传递给儿子-但是儿子每次单击花钱的时候就告诉父亲我花钱了" class="headerlink" title="第二次(有效果) 数据传递给儿子,但是儿子每次单击花钱的时候就告诉父亲我花钱了"></a>第二次(有效果) 数据传递给儿子,但是儿子每次单击花钱的时候就告诉父亲我花钱了</h4><ul><li><p><strong>父亲</strong>  (<code>$event</code>在自定义组件当中是<code>$emit</code>传递的参数 父亲收到儿子传递过来的金钱数,就更新自己的金钱数)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!-- $event在自定义组件当中是$emit传递的参数 --&gt;<br>&lt;!-- @<span class="hljs-attr">update</span>:xxx为固定格式,不可以更改,xxx为绑定的数据属性也就是v-<span class="hljs-attr">bind</span>:xxx=<span class="hljs-string">&quot;值&quot;</span>(当中的xxx) <br>对应简写属性 :xxx=<span class="hljs-string">&quot;值&quot;</span> 当中的xxx<br>--&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Child</span> <span class="hljs-attr">:money</span>=<span class="hljs-string">&quot;moneyFather&quot;</span> @<span class="hljs-attr">update:money</span>=<span class="hljs-string">&quot;moneyFather = $event&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Child</span>&gt;</span></span><br></code></pre></td></tr></table></figure></li><li><p><strong>儿子</strong>每次单击爸爸的钱就减少100 并且告诉爸爸 (通过<code>$emit</code>),并且传递 金钱-100的 值 给父亲</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;background: #ccc; height: 50px&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>小明每次花100元<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 每次单击爸爸的钱少100 并且告诉爸爸 $emit,并且传递  金钱-100的值  给父亲--&gt;</span></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- update:money 为自定义事件名称 --&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;$emit(&#x27;update:money&#x27;, money - 100)&quot;</span>&gt;</span>花钱<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 显示爸爸剩余多少钱 --&gt;</span></span><br><span class="language-xml">    爸爸还剩 &#123;&#123; money &#125;&#125; 元</span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/ecmascript-6&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Child&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  </span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">// 接收父亲传递过来的信息,告诉了我现在父亲有多少钱</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">props</span>: [<span class="hljs-string">&quot;money&quot;</span>],</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure></li></ul><h4 id="第三次-有效果-等同于第二次简写"><a href="#第三次-有效果-等同于第二次简写" class="headerlink" title="第三次(有效果)等同于第二次简写"></a>第三次(有效果)等同于第二次简写</h4><ul><li><p>父亲 (使用sync修饰符)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><br>&lt;<span class="hljs-title class_">Child</span> :money.<span class="hljs-property">sync</span>=<span class="hljs-string">&quot;moneyFather&quot;</span>&gt;&lt;/<span class="hljs-title class_">Child</span>&gt;<br><br></code></pre></td></tr></table></figure></li><li><p>儿子 (和第二次一样) 每次单击爸爸的钱就减少100 并且告诉爸爸 (通过<code>$emit</code>),并且传递 金钱-100的 值 给父亲</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;background: #ccc; height: 50px&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>小明每次花100元<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 每次单击爸爸的钱少100 并且告诉爸爸 $emit,并且传递  金钱-100的值  给父亲--&gt;</span></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- update:money 为自定义事件名称 --&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;$emit(&#x27;update:money&#x27;, money - 100)&quot;</span>&gt;</span>花钱<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 显示爸爸剩余多少钱 --&gt;</span></span><br><span class="language-xml">    爸爸还剩 &#123;&#123; money &#125;&#125; 元</span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/ecmascript-6&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Child&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  </span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">// 接收父亲传递过来的信息,告诉了我现在父亲有多少钱</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">props</span>: [<span class="hljs-string">&quot;money&quot;</span>],</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure></li></ul><h2 id="v-model的使用在数据同步的使用"><a href="#v-model的使用在数据同步的使用" class="headerlink" title="v-model的使用在数据同步的使用"></a>v-model的使用在数据同步的使用</h2><ul><li><p><strong>父亲</strong>依旧是通过<code>:value</code>向子传递 <code>$event</code>依旧是子通过<code>$emit</code>传递过来的数据</p><ul><li>自定义组件<code>$event</code>返回的都是<code>$emit</code>传递过来的数据)</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">Child</span> :value=<span class="hljs-string">&quot;moneyFather&quot;</span> @input=<span class="hljs-string">&quot;moneyFather = $event&quot;</span>&gt;&lt;/<span class="hljs-title class_">Child</span>&gt;<br></code></pre></td></tr></table></figure></li><li><p><strong>儿子</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;background: #ccc; height: 50px&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>小明每次花100元<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 每次单击爸爸的钱少100 并且告诉爸爸 $emit,并且传递  金钱-100的值  给父亲--&gt;</span></span><br><span class="language-xml">      </span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;$emit(&#x27;input&#x27;, value - 100)&quot;</span>&gt;</span>花钱<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- 显示爸爸剩余多少钱 --&gt;</span></span><br><span class="language-xml">    爸爸还剩 &#123;&#123; value &#125;&#125; 元</span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/ecmascript-6&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Child&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  </span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">// 接收父亲传递过来的信息,告诉了我现在父亲有多少钱</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">props</span>: [<span class="hljs-string">&quot;value&quot;</span>],</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure></li></ul><h2 id="sync和v-model在数据同步使用区别"><a href="#sync和v-model在数据同步使用区别" class="headerlink" title=".sync和v-model在数据同步使用区别"></a>.sync和v-model在数据同步使用区别</h2><ul><li>v-model和.sync<strong>都可以</strong>实现父子组件数据同步,<strong>下面是约定成俗的规定</strong><ul><li><code>v-model</code> 是当子组件当中有表单类元素的时候使用</li><li><code>.sync</code> 是当子组件当中不是表单类元素的时候使用</li></ul></li></ul><h1 id="自定义带hover提示的el-button和-attrs和-listeners的使用"><a href="#自定义带hover提示的el-button和-attrs和-listeners的使用" class="headerlink" title="自定义带hover提示的el-button和$attrs和$listeners的使用"></a>自定义带hover提示的el-button和$attrs和$listeners的使用</h1><ul><li>前置知识<ul><li>el-button<ul><li>如果想带图标,那么添加icon属性可以,注意: icon属性里面的值都是以el-icon-xxx形式出现的</li><li><a href="https://element.eleme.cn/#/zh-CN/component/icon">element-ui的icon库</a></li></ul></li></ul></li><li>原来的el-button组件并没有鼠标悬停上去就出现提示的功能,我们可以<strong>通过对el-button进行再次包装</strong></li></ul><h3 id="简易的包装-但是不能达到自己去传入配置设置的要求"><a href="#简易的包装-但是不能达到自己去传入配置设置的要求" class="headerlink" title="简易的包装(但是不能达到自己去传入配置设置的要求)"></a>简易的包装(但是不能达到自己去传入配置设置的要求)</h3><ul><li><p>如图 MyButton.vue对el-button进行包装</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;这个是提示框&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure></li><li><p>包装后的使用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>自定义带Hover提示的按钮<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-comment">&lt;!-- 使用二次封装后的 --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">MyButton</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">MyButton</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    <span class="hljs-comment">&lt;!-- 引入二次封装后的el-button组件 --&gt;</span></span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">import MyButton from &quot;./myButton.vue&quot;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">export default &#123;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        name:&quot;AttrsListenersTest&quot;,</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        <span class="hljs-comment">&lt;!-- 注册使用自定义组件 --&gt;</span></span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        componets:&#123;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">            MyButton</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        &#125;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    &#125;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml"></span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure></li><li><p>效果图</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205061947947.png"></p></li></ul><h3 id="使用-attrs和-listeners进行复杂包装-可自定义参数效果"><a href="#使用-attrs和-listeners进行复杂包装-可自定义参数效果" class="headerlink" title="使用$attrs和$listeners进行复杂包装(可自定义参数效果)"></a>使用$attrs和$listeners进行复杂包装(可自定义参数效果)</h3><ul><li><p>前面要知道的</p><ul><li>同等效果<ul><li>传递数据给组件,可以使用 <code>:key=&quot;value&quot; </code>或者 直接省略 <code>:</code> ,直接写 key&#x3D; “value” 也是可以的,不过有冒号的 <code>:key=&quot;value&quot;</code> value为js代码,没有冒号的 key&#x3D;”value” value值为字符串!!</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">MyButton</span> aa=<span class="hljs-string">&quot;10&quot;</span>&gt;&lt;/<span class="hljs-title class_">MyButton</span>&gt;<br>&lt;!-- 上一行和下一行是同等效果 --&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyButton</span> <span class="hljs-attr">aa</span>=<span class="hljs-string">&quot;10&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">MyButton</span>&gt;</span></span><br></code></pre></td></tr></table></figure><ul><li><p>不同等效果</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!-- 传递字符串 <span class="hljs-string">&quot;b&quot;</span> --&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyButton</span> <span class="hljs-attr">aa</span>=<span class="hljs-string">&quot;b&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">MyButton</span>&gt;</span></span>  <br><br>&lt;!-- 传递变量b的值,即为<span class="hljs-number">10</span> --&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyButton</span> <span class="hljs-attr">aa</span>=<span class="hljs-string">&quot;b&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">MyButton</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    <span class="hljs-comment">&lt;!-- 引入二次封装后的el-button组件 --&gt;</span></span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">import MyButton from &quot;./myButton.vue&quot;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">export default &#123;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        name:&quot;AttrsListenersTest&quot;,</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">data()&#123;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">          return &#123;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">              b:10</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">          &#125;  </span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        &#125;,     </span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        <span class="hljs-comment">&lt;!-- 注册使用自定义组件 --&gt;</span></span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        componets:&#123;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">            MyButton</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        &#125;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    &#125;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml"></span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure></li></ul></li><li><p>$attrs 获取传递给组件的所有属性,它会排除 props已经声明接收的属性 以及class,style这二个样式</p><p>• 如图</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205061947948.png"></p></li><li><p>排除props接收到了的</p><ul><li>如图</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205061947949.png"></p></li><li><p>$listeners 获取父组件传递给子组件的所有自定义事件监听组成的对象</p><ul><li>如图</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205061947950.png"></p></li><li><p>$attrs和$listeners一键绑定在组件上</p><ul><li>可以通过v-bind 一次性把父组件传递过来的属性添加给子组件(不可以简写)</li><li>可以通过v-on 一次性把父组件传递过来的事件监听添加给子组件(不可以简写)</li><li>如图</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205061947951.png"></p></li></ul><h1 id="children和-parent和-refs的使用"><a href="#children和-parent和-refs的使用" class="headerlink" title="$children和$parent和$refs的使用"></a>$children和$parent和$refs的使用</h1><ul><li><code>this.$refs</code>放在HTML和组件标签身上的区别<ul><li><code>this.$refs.名称</code> 放在<strong>html标签</strong>身上拿到的就是这个DOM元素</li><li><code>this.$refs</code>放在<strong>组件标签</strong>身上拿到的就是组件对象本身</li></ul></li></ul><h2 id="this-refs妙用"><a href="#this-refs妙用" class="headerlink" title="this.$refs妙用"></a>this.$refs妙用</h2><ul><li><p>可以直接通过this.$refs.名称来<strong>获取组件</strong>,并且在组件当中去操作这个获取到的组件里面的数据</p><p>如图所示(<strong>父亲</strong>) 父亲直接通过this.$refs.son.money就操控了儿子和女儿的钱</p></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205061947952.png"></p><h2 id="children-和-parent的妙用"><a href="#children-和-parent的妙用" class="headerlink" title="$children 和 $parent的妙用"></a>$children 和 $parent的妙用</h2><h3 id="parent"><a href="#parent" class="headerlink" title="$parent"></a>$parent</h3><ul><li><p>前提:</p><ul><li>必须<strong>只有一个父亲</strong>才可以使用!如果这个组件有多个父亲,那么就不可以用!(为什么有多个父亲,因为存在组件复用的情况!)</li></ul></li><li><p>如图,儿子通过 <code>this.$parent.money </code>来获取父亲的钱并且修改</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205061947953.png"></p></li></ul><h3 id="children"><a href="#children" class="headerlink" title="$children"></a>$children</h3><ul><li><p>获取当前组件的所有的子组件,返回子组件的数组,(无顺序,不能说[0]一定就是儿子,[1]就一定是女儿)</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205061947954.png"></p></li><li><p>如图</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205061947955.png"></p></li></ul><h2 id="本案例当中-均在配置对象当中书写了data数据"><a href="#本案例当中-均在配置对象当中书写了data数据" class="headerlink" title="本案例当中,均在配置对象当中书写了data数据"></a>本案例当中,均在配置对象当中书写了data数据</h2><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205061947956.png"></p><h1 id="mixin混入的基本使用"><a href="#mixin混入的基本使用" class="headerlink" title="mixin混入的基本使用"></a>mixin混入的基本使用</h1><h2 id="如图"><a href="#如图" class="headerlink" title="如图"></a>如图</h2><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205061947957.png"></p>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>javscript</tag>
      
      <tag>ES6</tag>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>浅拷贝深拷贝和个人一些新理解(非普遍的理解)</title>
    <link href="/2022/05/06/%E5%89%8D%E7%AB%AF/%E6%B5%85%E6%8B%B7%E8%B4%9D%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%92%8C%E5%BC%95%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/"/>
    <url>/2022/05/06/%E5%89%8D%E7%AB%AF/%E6%B5%85%E6%8B%B7%E8%B4%9D%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%92%8C%E5%BC%95%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="预备知识"><a href="#预备知识" class="headerlink" title="预备知识"></a>预备知识</h2><ul><li><p>引用数据类型</p><ul><li>Object（在JS中除了基本数据类型以外的都是对象，数据是对象，函数是对象等等)</li></ul></li><li><p>基本数据类型</p><ul><li><code>Number</code>、<code>String</code>、<code>Boolean</code>、<code>Null</code>、 <code>Undefined</code>、<code>Symbol</code></li></ul></li><li><p>文章参考了牛客网<a href="https://www.nowcoder.com/profile/599258">CodeSheep</a></p></li></ul><h2 id="赋值-vs-浅拷贝-vs-深拷贝"><a href="#赋值-vs-浅拷贝-vs-深拷贝" class="headerlink" title="赋值 vs 浅拷贝 vs 深拷贝"></a>赋值 vs 浅拷贝 vs 深拷贝</h2><h3 id="赋值-不能算是拷贝，因为拷贝的仅仅只是引用关系，并没有生成新的实际对象"><a href="#赋值-不能算是拷贝，因为拷贝的仅仅只是引用关系，并没有生成新的实际对象" class="headerlink" title="赋值(不能算是拷贝，因为拷贝的仅仅只是引用关系，并没有生成新的实际对象)"></a>赋值(不能算是拷贝，因为拷贝的仅仅只是引用关系，并没有生成新的实际对象)</h3><p>  很常见的一种</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">var</span> b = <span class="hljs-number">100</span>;<br><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白&quot;</span>,<br>    <span class="hljs-attr">sex</span>:<span class="hljs-string">&quot;男&quot;</span><br>&#125;<br><span class="hljs-comment">// 注意,这个严格来说是赋值,不是什么浅拷贝深拷贝!后面有原因</span><br><span class="hljs-keyword">var</span> obj2 = obj;<br><br><span class="hljs-comment">// 注意,这个严格来说是赋值,不是什么浅拷贝深拷贝</span><br><span class="hljs-title class_">Student</span> codeSheep = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>();<br><span class="hljs-title class_">Student</span> codePig = codeSheep;<br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220506101754.png"></p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205061954938.jpeg" style="zoom:50%;" /><h3 id="浅拷贝"><a href="#浅拷贝" class="headerlink" title="浅拷贝"></a>浅拷贝</h3><h4 id="一个误区"><a href="#一个误区" class="headerlink" title="一个误区"></a>一个误区</h4><p class="note-info">很多人说var objOrigin = {name:'李白'}; var objAfter = objOrigin; 是浅拷贝,严格来说是错误的!</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 严格来说是错误的!</span><br><span class="hljs-comment">// 如果说下面这一行是浅拷贝</span><br><span class="hljs-keyword">var</span> objOrigin = &#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;李白&#x27;</span>&#125;; <span class="hljs-keyword">var</span> objAfter = objOrigin;是浅拷贝<br><br><span class="hljs-comment">//那么这个是什么?</span><br><span class="hljs-keyword">var</span> obj1 = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;李白&#x27;</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">&#x27;男&#x27;</span> &#125;;<br><br><span class="hljs-keyword">var</span> clonedObj = &#123; ...obj1 &#125;;<br>clonedObj.<span class="hljs-property">name</span>=<span class="hljs-string">&quot;李黑&quot;</span>;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(clonedObj); <span class="hljs-comment">// &#123;name: &#x27;李黑&#x27;, sex: &#x27;男&#x27;&#125;</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj1);<span class="hljs-comment">// &#123;name: &#x27;李白&#x27;, sex: &#x27;男&#x27;&#125;</span><br><br><span class="hljs-comment">//可以看到,克隆后的对象将名字修改为了李黑,原来的没有变化</span><br></code></pre></td></tr></table></figure><ul><li>这里使用了展开运算符(扩展运算符),官方解释是<strong>浅拷贝</strong></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220506103101.png"></p><ul><li><p>如果按照之前有些人的说法,下面这个是浅拷贝</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> objOrigin = &#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;李白&#x27;</span>&#125;; <span class="hljs-keyword">var</span> objAfter = objOrigin;<br></code></pre></td></tr></table></figure><ul><li><p>那么<code>mdnWebDocs</code>当中的展开运算符(扩展运算符)<strong>可以实现浅拷贝</strong>,那么按道理来说这个所谓的浅拷贝,修改了浅拷贝后的对象不会导致原来的对象改变吧?那为什么修改后会发生改变?</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//var objOrigin = &#123;name:&#x27;李白&#x27;&#125;; var objAfter = obj;是浅拷贝</span><br><br><span class="hljs-keyword">var</span> objOrigin = &#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;李白&#x27;</span>&#125;; <br><span class="hljs-keyword">var</span> objAfter = objOrigin;<br><span class="hljs-comment">//修改拷贝后的对象当中的name(name为基本数据类型)</span><br>objAfter.<span class="hljs-property">name</span>=<span class="hljs-string">&quot;李黑&quot;</span>;<br><br><span class="hljs-comment">//输出为 &#123;name: &#x27;李黑&#x27;&#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(objAfter);<br><br><span class="hljs-comment">//输出为 &#123;name: &#x27;李黑&#x27;&#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(objOrigin);<br><br></code></pre></td></tr></table></figure></li><li><p>所以<strong>我</strong>觉得,<strong>赋值就是赋值,不是什么浅拷贝和深拷贝</strong>!不然你说<code>var objAfter = objOrigin</code>就是浅拷贝,那么为什么修改了<code>objAfter</code>后<code>objOrigin</code>也会变化?并且<strong>修改的还是对象当中的基本数据类型!(因为后面深拷贝还设计到对象当中的数据类型)</strong></p></li></ul></li></ul><h4 id="真正的浅拷贝"><a href="#真正的浅拷贝" class="headerlink" title="真正的浅拷贝"></a>真正的浅拷贝</h4><ul><li>比如我们试图通过studen1实例，拷贝得到student2，如果是浅拷贝这种方式，大致模型可以示意成如下所示的样子：</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220506104339.png"></p><ul><li>很明显，<strong>值类型</strong>的字段会复制一份，而<strong>引用类型</strong>的字段拷贝的仅仅是引用地址，而该引用地址指向的实际对象空间其实只有一份。</li><li>所以<strong>浅拷贝</strong>是什么,就是赋值引用数据类型当中存储的基本数据类型,而引用数据类型当中的引用数据类型(<strong>比如数组当中嵌套对象的情况</strong>),仅仅只是将地址赋值给了另外一个对象!</li></ul><h3 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h3><ul><li>深拷贝相较于上面所示的浅拷贝，除了值类型字段会复制一份，引用类型字段所指向的对象，会在内存中也<strong>创建一个副本</strong>，就像这个样子：</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220506104558.png"></p><ul><li>所以<strong>深拷贝</strong>是什么,就是不管对象当中嵌套了多少层引用数据类型还是基本数据类型,都建立一个新的给自己</li></ul><h2 id="一些常用的深浅拷贝方法"><a href="#一些常用的深浅拷贝方法" class="headerlink" title="一些常用的深浅拷贝方法"></a>一些常用的深浅拷贝方法</h2><h3 id="浅拷贝-1"><a href="#浅拷贝-1" class="headerlink" title="浅拷贝"></a>浅拷贝</h3><h4 id="展开运算符-扩展运算符"><a href="#展开运算符-扩展运算符" class="headerlink" title="展开运算符(扩展运算符)"></a>展开运算符(扩展运算符)</h4><ul><li>可以看到,除了基本数据类型拷贝了,里面的引用数据类型并未进行拷贝,修改一个拷贝后的引用数据类型会影响原来的</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> objOrigin = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;李白&#x27;</span>,<br>    <span class="hljs-attr">sex</span>: <span class="hljs-string">&#x27;男&#x27;</span>,<br>    <span class="hljs-attr">other</span>: &#123;<br>        <span class="hljs-attr">hobby</span>: <span class="hljs-string">&quot;喝酒&quot;</span>,<br>        <span class="hljs-attr">food</span>: <span class="hljs-string">&quot;吃肉&quot;</span><br>    &#125;<br>&#125;;<br><span class="hljs-comment">//扩展运算符浅拷贝</span><br><span class="hljs-keyword">var</span> objAfter = &#123;<br>    ...objOrigin<br>&#125;<br><span class="hljs-comment">//false</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(objAfter === objOrigin);<br><br><span class="hljs-comment">//true (浅拷贝的原因)</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(objAfter.<span class="hljs-property">other</span> === objOrigin.<span class="hljs-property">other</span>);<br><br><span class="hljs-comment">//修改</span><br>objAfter.<span class="hljs-property">name</span> = <span class="hljs-string">&quot;动感超人&quot;</span>;<br><br><span class="hljs-comment">//修改2</span><br>objAfter.<span class="hljs-property">other</span>.<span class="hljs-property">food</span> = <span class="hljs-string">&quot;蔬菜&quot;</span><br><br><span class="hljs-comment">//&#123; name: &#x27;动感超人&#x27;, sex: &#x27;男&#x27;, other: &#123; hobby: &#x27;喝酒&#x27;, food: &#x27;蔬菜&#x27; &#125; &#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(objAfter);<br><br><span class="hljs-comment">// &#123; name: &#x27;李白&#x27;, sex: &#x27;男&#x27;, other: &#123; hobby: &#x27;喝酒&#x27;, food: &#x27;蔬菜&#x27; &#125; &#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(objOrigin);<br></code></pre></td></tr></table></figure><h4 id="Object-assign"><a href="#Object-assign" class="headerlink" title="Object.assign"></a>Object.assign</h4><ul><li>可以看到,除了基本数据类型拷贝了,里面的引用数据类型并未进行拷贝,修改一个拷贝后的引用数据类型会影响原来的</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">var</span> <span class="hljs-variable">objOrigin</span> <span class="hljs-operator">=</span> &#123;<br>    name: <span class="hljs-string">&#x27;李白&#x27;</span>,<br>    sex: <span class="hljs-string">&#x27;男&#x27;</span>,<br>    other: &#123;<br>        hobby: <span class="hljs-string">&quot;喝酒&quot;</span>,<br>        food: <span class="hljs-string">&quot;吃肉&quot;</span><br>    &#125;<br>&#125;;<br><span class="hljs-comment">//Object.assign浅拷贝</span><br><span class="hljs-type">var</span> <span class="hljs-variable">objAfter</span> <span class="hljs-operator">=</span> &#123;&#125;;<br>Object.assign(objAfter,objOrigin)<br><span class="hljs-comment">//false</span><br>console.log(objAfter === objOrigin);<br><br><span class="hljs-comment">//true (浅拷贝的原因)</span><br>console.log(objAfter.other === objOrigin.other);<br><br><span class="hljs-comment">//修改</span><br>objAfter.name = <span class="hljs-string">&quot;动感超人&quot;</span>;<br><br><span class="hljs-comment">//修改2</span><br>objAfter.other.food = <span class="hljs-string">&quot;蔬菜&quot;</span><br><br><span class="hljs-comment">//&#123; name: &#x27;动感超人&#x27;, sex: &#x27;男&#x27;, other: &#123; hobby: &#x27;喝酒&#x27;, food: &#x27;蔬菜&#x27; &#125; &#125;</span><br>console.log(objAfter);<br><br><span class="hljs-comment">// &#123; name: &#x27;李白&#x27;, sex: &#x27;男&#x27;, other: &#123; hobby: &#x27;喝酒&#x27;, food: &#x27;蔬菜&#x27; &#125; &#125;</span><br>console.log(objOrigin);<br></code></pre></td></tr></table></figure><h3 id="深拷贝-1"><a href="#深拷贝-1" class="headerlink" title="深拷贝"></a>深拷贝</h3><h4 id="JSON-stringify和JSON-parseInt实现"><a href="#JSON-stringify和JSON-parseInt实现" class="headerlink" title="JSON.stringify和JSON.parseInt实现"></a>JSON.stringify和JSON.parseInt实现</h4><ul><li>可以看到,除了基本数据类型拷贝了,里面的引用数据类型也进行了拷贝,修改一个拷贝后的引用数据类型不影响原来的</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> objOrigin = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;李白&#x27;</span>,<br>    <span class="hljs-attr">sex</span>: <span class="hljs-string">&#x27;男&#x27;</span>,<br>    <span class="hljs-attr">other</span>: &#123;<br>        <span class="hljs-attr">hobby</span>: <span class="hljs-string">&quot;喝酒&quot;</span>,<br>        <span class="hljs-attr">food</span>: <span class="hljs-string">&quot;吃肉&quot;</span><br>    &#125;<br>&#125;;<br><span class="hljs-comment">//JSON.parse和JSON.stringify 深拷贝</span><br><span class="hljs-keyword">var</span> objAfter = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(objOrigin));<br><span class="hljs-comment">//false</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(objAfter === objOrigin);<br><br><span class="hljs-comment">//true (浅拷贝的原因)</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(objAfter.<span class="hljs-property">other</span> === objOrigin.<span class="hljs-property">other</span>);<br><br><span class="hljs-comment">//修改</span><br>objAfter.<span class="hljs-property">name</span> = <span class="hljs-string">&quot;动感超人&quot;</span>;<br><br><span class="hljs-comment">//修改2</span><br>objAfter.<span class="hljs-property">other</span>.<span class="hljs-property">food</span> = <span class="hljs-string">&quot;蔬菜&quot;</span><br><br><span class="hljs-comment">//&#123; name: &#x27;动感超人&#x27;, sex: &#x27;男&#x27;, other: &#123; hobby: &#x27;喝酒&#x27;, food: &#x27;蔬菜&#x27; &#125; &#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(objAfter);<br><br><span class="hljs-comment">// &#123; name: &#x27;李白&#x27;, sex: &#x27;男&#x27;, other: &#123; hobby: &#x27;喝酒&#x27;, food: &#x27;吃肉&#x27; &#125; &#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(objOrigin);<br></code></pre></td></tr></table></figure><h4 id="lodash当中的cloneDeep"><a href="#lodash当中的cloneDeep" class="headerlink" title="lodash当中的cloneDeep"></a>lodash当中的cloneDeep</h4><p><a href="https://www.lodashjs.com/docs/lodash.cloneDeep#_clonedeepvalue">cloneDeep当中的API地址</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> objects = [&#123; <span class="hljs-string">&#x27;a&#x27;</span>: <span class="hljs-number">1</span> &#125;, &#123; <span class="hljs-string">&#x27;b&#x27;</span>: <span class="hljs-number">2</span> &#125;];<br> <br><span class="hljs-keyword">var</span> deep = _.<span class="hljs-title function_">cloneDeep</span>(objects);<br><span class="hljs-comment">//比较是否相同 返回 false</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(deep[<span class="hljs-number">0</span>] === objects[<span class="hljs-number">0</span>]);<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>javscript</tag>
      
      <tag>ES6</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>今日刷题-重写的ValueOf</title>
    <link href="/2022/05/06/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B45%E6%9C%8806%E6%97%A5%E5%88%B7%E9%A2%98/"/>
    <url>/2022/05/06/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B45%E6%9C%8806%E6%97%A5%E5%88%B7%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">以下关于<span class="hljs-title class_">Histroy</span>对象的属性或方法描述正确的是（）(多选)<br><span class="hljs-attr">A</span>: back回到浏览器载入历史<span class="hljs-variable constant_">URL</span>地址列表的当前<span class="hljs-variable constant_">URL</span>的前一个<span class="hljs-variable constant_">URL</span><br><br><span class="hljs-attr">B</span>: go表示刷新当前页面<br><br><span class="hljs-attr">C</span>: length保存历史<span class="hljs-variable constant_">URL</span>地址列表的长度信息<br><br><span class="hljs-attr">D</span>: forward转到浏览器载入历史<span class="hljs-variable constant_">URL</span>地址列表的当前<span class="hljs-variable constant_">URL</span>的下一个<span class="hljs-variable constant_">URL</span>。<br><br></code></pre></td></tr></table></figure><ul><li>答案<ul><li>A,C,D</li></ul></li><li>解析<ul><li>A: back回到浏览器载入历史URL地址列表的当前URL的前一个URL</li><li>B: go()  加载history列表中的某个具体页面(<strong>可以自由跳转</strong>)。所以B的表述刷新当前页面是错误的。<ul><li><code>history.go(2)</code>向前移动两页</li><li><code>history.go(-2)</code>向后移动两页</li></ul></li><li>C: 具体可看<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/History/length">MdnWebDocs</a></li><li>D:  在会话历史中向前移动一页。它与使用<code>delta</code>参数为1时调用 <code>history.go(delta)</code>的效果相同。</li></ul></li></ul><h3 id="题目2"><a href="#题目2" class="headerlink" title="题目2"></a>题目2</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs javascript">以下哪些代码执行后i的值为<span class="hljs-number">10</span>：(多选)<br><span class="hljs-attr">A</span>: <br>    <span class="hljs-keyword">let</span> i =<span class="hljs-number">1</span> + &#123;<br>      <span class="hljs-title function_">valueOf</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-keyword">return</span> <span class="hljs-number">9</span>; &#125;<br>    &#125;;<br><br><span class="hljs-attr">B</span>: <br>    <span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">10</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      i++;<br>    &#125;);<br><br><span class="hljs-attr">C</span>: <br><span class="hljs-keyword">let</span> i = <span class="hljs-built_in">parseInt</span>(<span class="hljs-string">&#x27;0xA&#x27;</span>);<br><br><span class="hljs-attr">D</span>: <br>    <span class="hljs-keyword">let</span> i = <span class="hljs-number">5</span>;<br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">a</span>(<span class="hljs-params">i</span>) &#123;<br>      i *= <span class="hljs-number">2</span>;<br>    &#125;<br>    <span class="hljs-title function_">a</span>(i)<br><br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>A,C</li></ul></li><li><p>解析</p><ul><li><p>A: 如果在需要使用原始值的上下文中使用了对象，就会自动调用valueOf方法.这里<strong>重写</strong>了默认的valueOf 方法。所以相当于 let i &#x3D; 1+9</p><ul><li><a href="https://www.cnblogs.com/ljk001/p/8086084.html">js中的一些隐式转换和总结</a></li><li><a href="https://blog.csdn.net/u014465934/article/details/84536871">JavaScript类型转换中的toString()和valueOf()方法</a></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 基本数据类型的类型和引用数据类型的比较,这里会先将引用数据类型转换为数字在进行比较</span><br><span class="hljs-comment">// 引用数据类型转化为基本数据类型过程如下</span><br><span class="hljs-comment">// 前置知识</span><br><span class="hljs-comment">//1.valueOf  返回对象的字符串、数值或布尔值表示。</span><br><span class="hljs-comment">//2.toString 返回对象的字符串表示。</span><br><span class="hljs-comment">//1. 先调用ValueOf方法,如果valueOf就已经将数据转化为了基本数据类型就不进行下一步转换了</span><br><br><span class="hljs-comment">//2. 如果valueOf没有转化为字符串,那么就会调用toString方法进行再次转换</span><br><span class="hljs-keyword">let</span> i =<span class="hljs-number">1</span> + &#123;<br>      <span class="hljs-title function_">valueOf</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-keyword">return</span> <span class="hljs-number">9</span>; &#125;<br>&#125;;<br><span class="hljs-comment">// 第一步: 调用valueOf</span><br><span class="hljs-comment">//发现重写了valueOf,所以就返回9</span><br>&#123;<br>   <span class="hljs-title function_">valueOf</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-keyword">return</span> <span class="hljs-number">9</span>; &#125;<br>&#125;;<br><span class="hljs-comment">// 第一步执行完成后相当于</span><br><span class="hljs-keyword">let</span> i =<span class="hljs-number">1</span> + <span class="hljs-number">9</span>;<br><span class="hljs-comment">// 所以 i = 10</span><br></code></pre></td></tr></table></figure></li><li><p>B: new Array(10); 建立长度为10的<strong>空</strong>数组,forEach方法按升序为数组中含有效值的每一项执行一次 callback函数，那些<strong>未初始化的项将被跳过</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205062329811.png"></p></li><li><p>C: 在没有指定基数的情况下，如果字符串以”0x”或者”0X”开头, 则基数是16 (16进制)。相当于let i &#x3D; parseInt(‘0xA’，16)</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205062330125.png"></p></li><li><p>D: <code>i</code>是形参，属于局部变量，不影响全局变量<code>i</code>的值</p></li></ul></li></ul><h3 id="题目3"><a href="#题目3" class="headerlink" title="题目3"></a>题目3</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">按照<span class="hljs-title class_">CommonJS</span>规范，在任何模块代码的作用域下内置了以下哪些变量？<br><span class="hljs-attr">A</span>: <span class="hljs-variable language_">module</span><br><br><span class="hljs-attr">B</span>: context<br><br><span class="hljs-attr">C</span>: <span class="hljs-built_in">require</span><br><br><span class="hljs-attr">D</span>: <span class="hljs-built_in">exports</span><br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>A,C,D</li></ul></li><li><p>解析</p><ul><li><p>如 Nodejs当中调用arguments.callee.toString()即可查看内置变量</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205062338673.png"></p></li></ul></li></ul><h3 id="题目5"><a href="#题目5" class="headerlink" title="题目5"></a>题目5</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a =[<span class="hljs-number">1</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">2</span>,<span class="hljs-number">9</span>];<br>下面求a中最大值的代码正确的是<br><span class="hljs-attr">A</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(a)<br><br><span class="hljs-attr">B</span>: <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">max</span>(a)<br><br><span class="hljs-attr">C</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-property">max</span>.<span class="hljs-title function_">call</span>(<span class="hljs-literal">null</span>,a)<br><br><span class="hljs-attr">D</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-property">max</span>.<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>,a)<br><br><span class="hljs-attr">E</span>: 以上均不是<br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>D</li></ul></li><li><p>解析</p><ul><li><p><em><strong>Math.max()</strong></em> 函数返回一组数中的最大值。(不支持数组)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>));<br><span class="hljs-comment">// expected output: 3</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(-<span class="hljs-number">1</span>, -<span class="hljs-number">3</span>, -<span class="hljs-number">2</span>));<br><span class="hljs-comment">// expected output: -1</span><br><br><span class="hljs-keyword">const</span> array1 = [<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>];<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(...array1));<br><span class="hljs-comment">// expected output: 3</span><br></code></pre></td></tr></table></figure></li><li><p>apply,call都是使某一个方法成为一个对象的属性来调用,第一个参数如果是null或者undefined,则会变为window(非严格模式下)</p><ul><li>所以这里只能用apply,传入多个参数给Math.max 类似于Math.max(…a)</li><li>不可以使用call 因为call不能将数组展开为多个参数</li></ul></li></ul></li></ul><h3 id="题目6"><a href="#题目6" class="headerlink" title="题目6"></a>题目6</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs javascript">已知数组arr = [<span class="hljs-number">2</span>,<span class="hljs-number">20</span>,<span class="hljs-number">3</span>,<span class="hljs-number">12</span>,<span class="hljs-number">9</span>]，现在要对数组进行遍历，只要数组存在大于<span class="hljs-number">10</span>的元素，则输出<span class="hljs-literal">true</span>，否则输出<span class="hljs-literal">false</span>，则下列选项中，符合要求的是（）<br><span class="hljs-attr">A</span>:<br>    <span class="hljs-keyword">var</span> res = arr.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">val1,val2</span>)=&gt;</span>&#123;<br><br>    <span class="hljs-keyword">return</span> val1 &gt; <span class="hljs-number">10</span>;<br><br>    &#125;)<br><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);<br><br><span class="hljs-attr">B</span>:<br><span class="hljs-keyword">var</span> res = arr.<span class="hljs-title function_">some</span>(<span class="hljs-function">(<span class="hljs-params">val1,val2</span>)=&gt;</span>&#123;<br><br>    <span class="hljs-keyword">return</span> val1 &gt; <span class="hljs-number">10</span>;<br>    &#125;)<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);<br><br><span class="hljs-attr">C</span>:<br>    <span class="hljs-keyword">var</span> res = arr.<span class="hljs-title function_">every</span>(<span class="hljs-function">(<span class="hljs-params">val1,val2</span>)=&gt;</span>&#123;<br><br>    <span class="hljs-keyword">return</span> val1 &gt; <span class="hljs-number">10</span>;<br><br>    &#125;)<br><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);<br><br><span class="hljs-attr">D</span>:<br><span class="hljs-keyword">var</span> res = arr.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">val1,val2</span>)=&gt;</span>&#123;<br><br>    <span class="hljs-keyword">return</span> val1 &gt; <span class="hljs-number">10</span>;<br>    &#125;)<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);<br></code></pre></td></tr></table></figure><ul><li>答案</li><li>解析</li></ul><h3 id="题目7"><a href="#题目7" class="headerlink" title="题目7"></a>题目7</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">+<span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">017</span>)   这段代码输出为？（）<br><span class="hljs-attr">A</span>: <span class="hljs-number">17</span><br><span class="hljs-attr">B</span>: <span class="hljs-title class_">NaN</span><br><span class="hljs-attr">C</span>: <span class="hljs-number">15</span><br><span class="hljs-attr">D</span>: <span class="hljs-title class_">Error</span><br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>B</li></ul></li><li><p>解析</p><ul><li><p>首先来看 new Array(017)  数字0开头,代表8进制,所以转化八进制17为十进制为15,也就是返回一个空数组,长度为15</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205062344273.png"></p></li><li><p>+作为一元运算符时，会将参数转换为数字返回</p></li><li><p>这里相当于对于一个<strong>未赋值</strong>但是长度为15的数组进行number类型转化，其结果为NaN</p></li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>今日刷题-变量的回收和reduce的使用</title>
    <link href="/2022/05/05/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B45%E6%9C%8805%E6%97%A5%E5%88%B7%E9%A2%98/"/>
    <url>/2022/05/05/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B45%E6%9C%8805%E6%97%A5%E5%88%B7%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">以下哪些表达式的值为<span class="hljs-number">0</span>？(多选)<br><span class="hljs-attr">A</span>: (<span class="hljs-function">()=&gt;</span>&#123;&#125;).<span class="hljs-property">length</span><br><br><span class="hljs-attr">B</span>: <span class="hljs-number">1</span> &amp; <span class="hljs-number">2</span><br><br><span class="hljs-attr">C</span>: +[]<br><br><span class="hljs-attr">D</span>: [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,-<span class="hljs-number">3</span>].<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a - b, <span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>A,B,C,D</li></ul></li><li><p>解析</p><ul><li><p>A:  获取的是<strong>形参</strong>的个数(不是实参)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">如果是(<span class="hljs-function">(<span class="hljs-params">a</span>)=&gt;</span> &#123;&#125;).<span class="hljs-property">length</span>，形参有一个所以函数的length为<span class="hljs-number">1</span> ；<br>如果是(<span class="hljs-function">(<span class="hljs-params">a，b</span>)=&gt;</span> &#123;&#125;).<span class="hljs-property">length</span>，形参有两个所以函数的length为<span class="hljs-number">2</span><br>假如：<span class="hljs-keyword">function</span> <span class="hljs-title function_">aaa</span>(<span class="hljs-params"></span>)&#123;&#125;<br>            <span class="hljs-title function_">aaa</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(aaa.<span class="hljs-property">length</span>) ;<span class="hljs-comment">//值为0，因为形参个数是0，所以函数的length为0</span><br></code></pre></td></tr></table></figure></li><li><p>B:  <code>&amp;</code> 与运算, (二进制下)二者都是1最终结果才为1,否则就为0</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">1</span>的二进制表示  <span class="hljs-number">0001</span><br><span class="hljs-attribute">2</span>的二进制表示  <span class="hljs-number">0010</span><br><span class="hljs-attribute">1</span>&amp;<span class="hljs-number">2</span>结果是        <span class="hljs-number">0000</span> ，转成<span class="hljs-number">10</span>进制也就是<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure></li><li><p>C: +[ ] 隐式类型转换。 +会让 [ ] 隐式转换成Number，转换过程如下</p><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xl">因为 [ ] 是对象，所以 <span class="hljs-function"><span class="hljs-title">toPrimitive</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">valueOf</span>-&gt;</span>toString为  <span class="hljs-string">&#x27;&#x27;</span> ，Number(<span class="hljs-string">&#x27;&#x27;</span>)得<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure></li><li><p>D: reduce用于求和</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 代码简写</span><br>[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,-<span class="hljs-number">3</span>].<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a - b, <span class="hljs-number">0</span>)<br><br><span class="hljs-comment">// 代码详细</span><br>[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,-<span class="hljs-number">3</span>].<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">prev, cur</span>)=&gt;</span>&#123;<br>    <span class="hljs-keyword">return</span> a-b;<br>&#125;,<span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><p>reduce的使用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript">【功能】: 求和<br>【参数】: callback参数<br><span class="hljs-number">1.</span> <span class="hljs-title function_">total</span>(若为赋值,则默认为<span class="hljs-number">0</span>)<br><span class="hljs-number">2.</span> currentItem<br><span class="hljs-number">3.</span> currentIndex<br><span class="hljs-number">4.</span> <span class="hljs-title function_">arr</span>(数组所属数组对象)<br>【返回值】:根据callback的返回值决定total的值<br>【示例】: <br><span class="hljs-keyword">var</span> sum = result.<span class="hljs-title function_">reduce</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">prev, cur</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(prev)    <span class="hljs-comment">// 0</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cur)       <span class="hljs-comment">// &#123;name:&#x27;小明&#x27;,score:88&#125;</span><br>    <span class="hljs-keyword">return</span> cur.<span class="hljs-property">score</span> + prev;<br>&#125;, <span class="hljs-number">0</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;总数是&#x27;</span> + sum)<br></code></pre></td></tr></table></figure></li></ul></li></ul><h3 id="题目2"><a href="#题目2" class="headerlink" title="题目2"></a>题目2</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript">下列代码存在几个变量没有被回收？（ ）<br><span class="hljs-keyword">var</span> i = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> i = <span class="hljs-number">2</span>;<br><span class="hljs-keyword">var</span> add = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)<br>&#123;<br>        i++;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i);<br>    &#125;<br>&#125;();<br><span class="hljs-title function_">add</span>();<br><span class="hljs-attr">A</span>: <span class="hljs-number">0</span>个<br><span class="hljs-attr">B</span>: <span class="hljs-number">1</span>个<br><span class="hljs-attr">C</span>: <span class="hljs-number">2</span>个<br><span class="hljs-attr">D</span>: <span class="hljs-number">3</span>个<br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>D</li></ul></li><li><p>解析</p><ul><li><p>不会被回收的</p><ul><li>全局变量<code>i</code>不会被回收</li><li>全局变量<code>add</code>不会被回收</li><li>闭包引用的局部变量<code>i</code>不会被回收</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> i = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> i = <span class="hljs-number">2</span>; <span class="hljs-comment">//二个var ,一个被覆盖了,没有新建,只是覆盖,因此只有一个全局变量i不会被回收</span><br><br><span class="hljs-comment">// add 也是全局变量,不回收</span><br><span class="hljs-keyword">var</span> add = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// var 是函数作用域</span><br>    <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)<br>&#123;<br>        <span class="hljs-comment">//闭包保持引用,因此这个也不会被回收</span><br>        i++;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i);<br>    &#125;<br>&#125;();<br></code></pre></td></tr></table></figure></li></ul></li></ul><h3 id="题目3"><a href="#题目3" class="headerlink" title="题目3"></a>题目3</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">以下代码执行后，array的结果是？<br><span class="hljs-keyword">var</span> array=[-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">6</span>,<span class="hljs-number">10</span>];<br>array.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a,b</span>)=&gt;</span><span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(a-<span class="hljs-number">3</span>)-<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(b-<span class="hljs-number">3</span>));<br><span class="hljs-attr">A</span>: [<span class="hljs-number">10</span>,-<span class="hljs-number">1</span>,<span class="hljs-number">6</span>,<span class="hljs-number">1</span>,<span class="hljs-number">4</span>,<span class="hljs-number">3</span>]<br><br><span class="hljs-attr">B</span>: [<span class="hljs-number">10</span>,<span class="hljs-number">6</span>,<span class="hljs-number">4</span>,<span class="hljs-number">3</span>,<span class="hljs-number">1</span>,-<span class="hljs-number">1</span>]<br><br><span class="hljs-attr">C</span>: [<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">1</span>,<span class="hljs-number">6</span>,-<span class="hljs-number">1</span>,<span class="hljs-number">10</span>]<br><br><span class="hljs-attr">D</span>: [-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">6</span>,<span class="hljs-number">10</span>]<br><br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>C</li></ul></li><li><p>解析</p><ul><li><p>(a,b)&#x3D;&gt;Math.abs(a-3)-Math.abs(b-3)；</p><p>箭头函数表示：当Math.abs(a-3)&gt;Math.abs(b-3)时，a放在b后面，Math.abs(a-3)&lt;Math.abs(b-3)时，不交换位置，也就是说数组中的每一项减去3的绝对值越大越靠后。这里主要考的是对sort()方法的掌握.</p></li><li><p>我个人也不是很懂,只知道 array.sort((a,b)&#x3D;&gt;a-b)是升序 array.sort((a,b)&#x3D;&gt;b-a)是降序</p></li><li><p>获取这个是一个技巧吧,真正理解sort还是挺复杂的</p><ul><li>先将数组每一个值 <code>-3</code>再取绝对值,然后得<code> [4，2，0，1，3，7]</code></li><li>[4，2，0，1，3，7] 依次对应数组 [-1，1，3，4，6，10]</li><li>又因为是  Math.abs(a-3) - Math.abs(b-3)；所以数组中的每一项减去3的绝对值越大越靠后,排序后的为[0，1，2，3，4，7],所以最终结果就为**[3，4，1，6，-1，10]**</li></ul></li><li><p><a href="https://www.nowcoder.com/questionTerminal/77fc9837d35047d58fad44cde4e365c6">具体可看</a></p></li></ul></li></ul><h3 id="题目4"><a href="#题目4" class="headerlink" title="题目4"></a>题目4</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">el是一个id=<span class="hljs-string">&quot;id1&quot;</span>的div元素，以下哪行代码会执行失败<br><span class="hljs-attr">A</span>: el.<span class="hljs-property">className</span>=<span class="hljs-string">&#x27;aaa&#x27;</span><br><br><span class="hljs-attr">B</span>: el.<span class="hljs-property">tagName</span>=<span class="hljs-string">&#x27;p&#x27;</span><br><br><span class="hljs-attr">C</span>: el.<span class="hljs-property">innerHTML</span>=<span class="hljs-string">&#x27;&#x27;</span><br><br><span class="hljs-attr">D</span>: el.<span class="hljs-property">id</span>=<span class="hljs-string">&#x27;id2&#x27;</span><br><br></code></pre></td></tr></table></figure><ul><li>答案<ul><li>B</li></ul></li><li>解析<ul><li>A:  className 属性<strong>设置或返回</strong>元素的 class 属性。获取属性值：HTMLElementObject.className；设置属性值：HTMLElementObject.className&#x3D;<em>classname</em></li><li>B:  <strong>tagName属性返回元素的标签名</strong>。HTML 返回 tagName 属性的值是大写的比如div标签返回tagName为 DIV</li><li>C: innerHTML 属性<strong>设置或返回</strong>表格行的开始和结束标签之间的 HTML。HTMLElementObject.innerHTML&#x3D;text</li><li>id 属性<strong>设置或者返回</strong>元素的 id。HTMLElementObject.id&#x3D;id</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>默认暴露,分别暴露,整体暴露的再次学习及常用知识</title>
    <link href="/2022/05/04/%E5%89%8D%E7%AB%AF/%E9%BB%98%E8%AE%A4%E6%9A%B4%E9%9C%B2,%E5%88%86%E5%88%AB%E6%9A%B4%E9%9C%B2,%E6%95%B4%E4%BD%93%E6%9A%B4%E9%9C%B2/"/>
    <url>/2022/05/04/%E5%89%8D%E7%AB%AF/%E9%BB%98%E8%AE%A4%E6%9A%B4%E9%9C%B2,%E5%88%86%E5%88%AB%E6%9A%B4%E9%9C%B2,%E6%95%B4%E4%BD%93%E6%9A%B4%E9%9C%B2/</url>
    
    <content type="html"><![CDATA[<h3 id="三个暴露相同点"><a href="#三个暴露相同点" class="headerlink" title="三个暴露相同点"></a>三个暴露相同点</h3><ol><li><p>可以理解为都是<strong>暴露出一个对象</strong>给其他使用!</p></li><li><p>无论是哪一个暴露方式,想要直接获取到暴露出去的对象,可以使用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> 名称 <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;xxx.js&quot;</span><br><span class="hljs-comment">//比如</span><br><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> $API <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;xxx.js&quot;</span><br></code></pre></td></tr></table></figure></li></ol><h3 id="默认暴露"><a href="#默认暴露" class="headerlink" title="默认暴露"></a>默认暴露</h3><ol><li>默认暴露js代码里面,**只可以有一个默认暴露(也就是只能由一个export default出现)**否则出现<code>Uncaught SyntaxError: Identifier &#39;.default&#39; has already been declared (at 1.js:2:8)</code>报错</li><li>暴露出一个对象,直接就可以拿来使用</li></ol><p>1.js内容</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>    <span class="hljs-attr">a</span>:<span class="hljs-number">10</span>,<br>    <span class="hljs-attr">b</span>:<span class="hljs-number">100</span><br>&#125;<br><span class="hljs-comment">//相当于向外暴露一个对象,对象当中只有一个default属性,值为暴露对象的值</span><br><span class="hljs-comment">// 上面暴露相当于是暴露下方对象给其他使用</span><br>&#123;<br>    <span class="hljs-attr">default</span>:&#123;<br>        <span class="hljs-attr">a</span>:<span class="hljs-number">10</span>,<br>        <span class="hljs-attr">b</span>:<span class="hljs-number">100</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>1.html内容</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 默认暴露</span></span><br><span class="language-javascript">        <span class="hljs-comment">// 代码等同于 import &#123;default as content&#125; from &quot;./1.js&quot;</span></span><br><span class="language-javascript">        <span class="hljs-keyword">import</span> content <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./1.js&quot;</span></span><br><span class="language-javascript">        </span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(content);<span class="hljs-comment">//输出&#123;a: 10, b: 100&#125;</span></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="部分-分别-暴露"><a href="#部分-分别-暴露" class="headerlink" title="部分(分别)暴露"></a>部分(分别)暴露</h3><ol><li>将暴露的内容汇聚成为一个对象给其他使用</li></ol><p>1.js内容</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">var</span> b = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123; &#125;;<br><span class="hljs-comment">// 代码等同于暴露下方对象</span><br>&#123;<br>    <span class="hljs-attr">a</span>: <span class="hljs-number">10</span>,<br>    <span class="hljs-attr">b</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123; &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>1.html内容</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//部分(分别)暴露 并且进行解构赋值</span></span><br><span class="language-javascript">        <span class="hljs-keyword">import</span> &#123; a, b &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./1.js&quot;</span>;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a,b);<span class="hljs-comment">//10   ƒ () &#123; &#125;</span></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="整体-统一-暴露"><a href="#整体-统一-暴露" class="headerlink" title="整体(统一)暴露"></a>整体(统一)暴露</h3><p>1.js内容</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//整体暴露</span><br><span class="hljs-keyword">const</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">let</span> b = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">var</span> c = &#123;<br>    <span class="hljs-attr">age</span>:<span class="hljs-string">&quot;18&quot;</span><br>&#125;<br><span class="hljs-comment">// 整体(统一)暴露只可以写成es6简写模式!</span><br><span class="hljs-keyword">export</span> &#123;<br>    a,<br>    b,<br>    c<br>&#125;<br><span class="hljs-comment">//整体(统一)暴露相当于暴露下方对象给其他使用</span><br>&#123;<br>    <span class="hljs-attr">a</span>:<span class="hljs-number">10</span>,<br>    <span class="hljs-attr">b</span>:<span class="hljs-number">10</span>,<br>    <span class="hljs-attr">c</span>:&#123;<br>        <span class="hljs-attr">age</span>:<span class="hljs-number">18</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>1.html内容</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//整体暴露</span></span><br><span class="language-javascript">        <span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> content <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./1.js&quot;</span>;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(content);<span class="hljs-comment">//输出结果看图</span></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220504232232.png"></p><p>​<p><strong>点开后</strong></p></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220504232256.png"></p><h3 id="三种暴露获取暴露出去的对象"><a href="#三种暴露获取暴露出去的对象" class="headerlink" title="三种暴露获取暴露出去的对象"></a>三种暴露获取暴露出去的对象</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> 名称 <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;xxx.js&quot;</span><br><span class="hljs-comment">//比如</span><br><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> $API <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;xxx.js&quot;</span><br></code></pre></td></tr></table></figure><h4 id="默认暴露-1"><a href="#默认暴露-1" class="headerlink" title="默认暴露"></a>默认暴露</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs html">//js代码<br>//默认暴露<br>export default &#123;<br>    a:10,<br>    b:100<br>&#125;<br>//html代码<br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 默认暴露</span></span><br><span class="language-javascript">    <span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> content <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./1.js&quot;</span></span><br><span class="language-javascript">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(content);<span class="hljs-comment">//如图</span></span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="输出结果如图"><a href="#输出结果如图" class="headerlink" title="输出结果如图"></a>输出结果如图</h5><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220504233232.png"></p><h4 id="部分-分别-暴露-1"><a href="#部分-分别-暴露-1" class="headerlink" title="部分(分别)暴露"></a>部分(分别)暴露</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs html">//js代码<br>//部分(分别)暴露<br>export var a = 10;<br>export var b = function() &#123; &#125;;<br><br>//html代码<br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 部分(分别)暴露</span></span><br><span class="language-javascript">    <span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> content <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./1.js&quot;</span></span><br><span class="language-javascript">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(content);<span class="hljs-comment">//如图</span></span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="输出结果如图-1"><a href="#输出结果如图-1" class="headerlink" title="输出结果如图"></a>输出结果如图</h5><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220504233210.png"></p><h4 id="整体-统一-暴露-1"><a href="#整体-统一-暴露-1" class="headerlink" title="整体(统一)暴露"></a>整体(统一)暴露</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs html">//js代码<br>//整体暴露<br>const a = 10;<br>let b = 10;<br>var c = &#123;<br>    age:&quot;18&quot;<br>&#125;<br>export &#123;<br>    a,<br>    b,<br>    c<br>&#125;<br><br>//html代码<br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 整体暴露</span></span><br><span class="language-javascript">     <span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> content <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./1.js&quot;</span></span><br><span class="language-javascript">     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(content);<span class="hljs-comment">//如图</span></span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="输出结果如图-2"><a href="#输出结果如图-2" class="headerlink" title="输出结果如图"></a>输出结果如图</h5><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220504233145.png"></p><h3 id="默认暴露的引入并暴露一次性完成"><a href="#默认暴露的引入并暴露一次性完成" class="headerlink" title="默认暴露的引入并暴露一次性完成"></a>默认暴露的引入并暴露一次性完成</h3><ol><li><p>在做项目的时候,有时候需要把所有的默认暴露的模块整合到一个模块当中去以便后期使用</p><ul><li>也就是 A.js  ,B.js  ,C.js  ,D.js  模块统一在  All.js  当中引入</li></ul></li><li><p><strong>用法格式:</strong> <code>import &#123; default as 别名名称 &#125; from &quot;模块路径&quot;</code> <strong>针对默认暴露</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//代码等同于</span><br><br><span class="hljs-comment">// module1.js</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>    <span class="hljs-title function_">a</span>(<span class="hljs-params"></span>)&#123;&#125;,<br>    <span class="hljs-title function_">b</span>(<span class="hljs-params"></span>)&#123;&#125;,<br>    <span class="hljs-title function_">C</span>(<span class="hljs-params"></span>)&#123;&#125;,<br>&#125;<br><br><span class="hljs-comment">// All.js</span><br><span class="hljs-keyword">export</span> &#123;<span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> module1&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./module1.js&quot;</span>;<br><span class="hljs-comment">//上面一行代码等同于下面二行代码的代码效果</span><br>    <span class="hljs-comment">//1</span><br><span class="hljs-keyword">import</span> &#123;<span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> module1&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./module1.js&quot;</span><br>    <span class="hljs-comment">//2</span><br><span class="hljs-keyword">export</span> module1 &#123;<br>    <span class="hljs-title function_">a</span>(<span class="hljs-params"></span>)&#123;&#125;,<br>    <span class="hljs-title function_">b</span>(<span class="hljs-params"></span>)&#123;&#125;,<br>    <span class="hljs-title function_">C</span>(<span class="hljs-params"></span>)&#123;&#125;<br>&#125;<br><br></code></pre></td></tr></table></figure></li><li><p>或者<code>export * as xxx from &quot;./1.js&quot;</code> <strong>针对分别暴露</strong></p></li><li><p>后期如果需要使用到 All.js 整合暴露的东西</p><ol><li>比如绑定在Vue原型上: import * as $API from “.&#x2F;All.js”; Vue.prototype.$API &#x3D; $API; 后期module1就这样子this.$API.module1.a();  this.$API.module1.b();   this.$API.module1.c();</li></ol></li></ol><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul><li>默认<strong>暴露是一个对象</strong>default为属性defau1t后面值为值的一个对象只能写一次</li><li>部分(分别)<strong>暴露是一个对象</strong>它是最终暴露出去的时候把所有暴露的变量自动封装到对象当中</li><li>整体(统一)<strong>暴露是一个对象</strong>这个对象是我们自己需要写的，把所有的需要暴露的变量写到我们的对象当中</li></ul>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
      <tag>ES6</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>今日刷题-四舍五入等于...</title>
    <link href="/2022/05/04/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B45%E6%9C%8804%E6%97%A5%E5%88%B7%E9%A2%98/"/>
    <url>/2022/05/04/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B45%E6%9C%8804%E6%97%A5%E5%88%B7%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">Math.round(-2019.5)的结果是</span><br><span class="hljs-attr">A:</span> <span class="hljs-number">2019</span><br><span class="hljs-attr">B:</span> <span class="hljs-number">-2019</span><br><span class="hljs-attr">C:</span> <span class="hljs-number">2020</span><br><span class="hljs-attr">D:</span> <span class="hljs-number">-2020</span><br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>B</li></ul></li><li><p>解析</p><ul><li><p>不多说,了解到的一个技巧,Math.round() 原来的数字加上0.5 然后向下取整就是最终值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 例子</span><br><span class="hljs-comment">//2019.49 + 0.5 = 2019.99 向下取整 2019 </span><br>x=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(<span class="hljs-number">2019.49</span>);<br><br><span class="hljs-comment">//2019.5 + 0.5 = 2020.0 向下取整 2020</span><br>x=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(<span class="hljs-number">2019.5</span>);<br><br><span class="hljs-comment">//-2019.79 + 0.5 = -2019.39 向下取整 2020</span><br>x=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(-<span class="hljs-number">2019.79</span>);<br><br><span class="hljs-comment">//-2019.51 + 0.5 = -2019.01 向下取整 -2020</span><br>x=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(-<span class="hljs-number">2019.51</span>);<br></code></pre></td></tr></table></figure></li></ul></li></ul><h3 id="题目2"><a href="#题目2" class="headerlink" title="题目2"></a>题目2</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">执行以下代码，输出的a值为（）<br><span class="hljs-keyword">if</span>(! <span class="hljs-string">&quot;a&quot;</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">window</span>)&#123;<br>    <span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-title function_">alert</span>(a);<br><span class="hljs-attr">A</span>: <span class="hljs-literal">null</span><br><span class="hljs-attr">B</span>: <span class="hljs-number">1</span><br><span class="hljs-attr">C</span>: <span class="hljs-literal">undefined</span><br><span class="hljs-attr">D</span>: 其他选项均不正确<br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>C</li></ul></li><li><p>解析</p><ul><li><p>A <strong>in</strong> B 用于判断A是否在B的属性上或者是原型链上(官方解释为如果指定的属性在指定的对象或其原型链中，则**<code>in</code> 运算符**返回<code>true</code>。)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//   &quot;a&quot; 为字符串,会存在变量提升(不可能存在没有类型的一个变量!)</span><br><br><span class="hljs-comment">//判断全局对象window中是否有变量a，如果没有变量a，就进入判断将a赋值为1</span><br><span class="hljs-keyword">if</span>(! <span class="hljs-string">&quot;a&quot;</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">window</span>)&#123;<br>    <span class="hljs-comment">// 判断 &quot;a&quot; 是否是在window的属性或者原型链上</span><br>    <span class="hljs-comment">// 如果为true ,那么取反为 false,则不执行if语句</span><br>    <span class="hljs-comment">// 如果为false , 那么取反为true,则执行if语句</span><br><span class="hljs-comment">// 由于变量的提前声明特性，在执行这段代码之后，全局对象window中就已经存在a这个变量了,所以不进入if </span><br>    <span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-title function_">alert</span>(a);<span class="hljs-comment">//输出undefined</span><br></code></pre></td></tr></table></figure></li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>今日刷题-类型转换</title>
    <link href="/2022/05/03/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B45%E6%9C%8803%E6%97%A5%E5%88%B7%E9%A2%98/"/>
    <url>/2022/05/03/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B45%E6%9C%8803%E6%97%A5%E5%88%B7%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">下面有关<span class="hljs-title class_">JavaScript</span>内部对象的描述，正确的有？(多选)<br><span class="hljs-attr">A</span>: <span class="hljs-title class_">History</span> 对象包含用户（在浏览器窗口中）访问过的 <span class="hljs-variable constant_">URL</span><br><br><span class="hljs-attr">B</span>: <span class="hljs-title class_">Location</span> 对象包含有关当前 <span class="hljs-variable constant_">URL</span> 的信息<br><br><span class="hljs-attr">C</span>: <span class="hljs-title class_">Window</span> 对象表示浏览器中打开的窗口<br><br><span class="hljs-attr">D</span>: <span class="hljs-title class_">Navigator</span> 对象包含有关浏览器的信息<br><br></code></pre></td></tr></table></figure><ul><li>答案<ul><li>牛客网的答案为A,B,C,D</li><li>我个人认为history不包含访问过的URL(当然源代码我没看过)</li></ul></li><li>解析<ul><li>Navagator：提供有关浏览器的信息</li><li>Window：Window对象处于对象层次的最顶层，它提供了处理Navagator窗口的方法和属性</li><li>Location：提供了与当前打开的URL一起工作的方法和属性，是一个静态的对象</li><li>History：提供了与历史清单有关的信息</li><li>Document：包含与文档元素一起工作的对象，它将这些元素封装起来供编程人员使用</li></ul></li></ul><h3 id="题目2"><a href="#题目2" class="headerlink" title="题目2"></a>题目2</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">以下哪些表达式的结果为<span class="hljs-title function_">true</span>(多选) (多选)<br><span class="hljs-attr">A</span>: <span class="hljs-literal">undefined</span> == <span class="hljs-literal">null</span><br><br><span class="hljs-attr">B</span>: <span class="hljs-built_in">isNaN</span>(<span class="hljs-string">&quot;100&quot;</span>)<br><br><span class="hljs-attr">C</span>: <span class="hljs-built_in">parseInt</span>(<span class="hljs-string">&quot;1a&quot;</span>) === <span class="hljs-number">1</span><br><br><span class="hljs-attr">D</span>: [] <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Array</span><br><br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>A,C,D</li></ul></li><li><p>解析</p><ul><li><p>A: 二个等于号( &#x3D;&#x3D; ) ,类型不相同的时候,会发生隐式转换,<a href="https://blog.csdn.net/impact_factor/article/details/117572954">隐式转换具体可以看这个博客</a></p></li><li><p>B: isNaN() 用来判断一个数是否是NaN</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//isNaN(转换的值),当要&#x27;转换的值&#x27;为NaN的时候或者是&#x27;转换的值&#x27;转换后为NaN</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-built_in">isNaN</span>(<span class="hljs-string">&#x27;e&#x27;</span>));<span class="hljs-comment">//ture</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-built_in">isNaN</span>(<span class="hljs-string">&#x27;11&#x27;</span>));<span class="hljs-comment">//false 因为字符串可以被转化为数字,不能转换为NaN</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-built_in">isNaN</span>(<span class="hljs-string">&#x27;a111&#x27;</span>));<span class="hljs-comment">//true 字符串转换不了数字</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-built_in">isNaN</span>(<span class="hljs-string">&#x27;1a11&#x27;</span>));<span class="hljs-comment">//true 字符串转换不了数字</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-built_in">isNaN</span>(<span class="hljs-string">&#x27;null&#x27;</span>));<span class="hljs-comment">//false 因为null被转化为数字为0,0不会为NaN</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-built_in">isNaN</span>(<span class="hljs-title class_">NaN</span>));<span class="hljs-comment">//true </span><br></code></pre></td></tr></table></figure></li><li><p>C: parseInt(string,radix) 解析一个字符串并返回指定基数的十进制整数(未指定radix则返回10进制)， radix 是2-36之间的整数，表示被解析字符串的基数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">注意:string字符串只会被解析从第一个字符开始直到不是数字的字符部分(第<span class="hljs-number">0</span>个开始,直到遇到是非数字的就截断返回)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-built_in">parseInt</span>(<span class="hljs-string">&#x27;223&#x27;</span>));<span class="hljs-comment">//返回数字223</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-built_in">parseInt</span>(<span class="hljs-string">&#x27;223a18&#x27;</span>));<span class="hljs-comment">//返回数字223</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-built_in">parseInt</span>(<span class="hljs-string">&#x27;a223&#x27;</span>));<span class="hljs-comment">//返回NaN,因为第一个字符不是数字,所以直接返回NaN</span><br><br></code></pre></td></tr></table></figure></li><li><p>D: 空数组也是数组的实例化对象</p></li></ul></li></ul><h3 id="题目3"><a href="#题目3" class="headerlink" title="题目3"></a>题目3</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">以下哪些操作会触发<span class="hljs-title class_">Reflow</span>：(多选)<br><span class="hljs-attr">A</span>: <span class="hljs-title function_">alert</span>(obj.<span class="hljs-property">className</span>)<br><br><span class="hljs-attr">B</span>: <span class="hljs-title function_">alert</span>(obj.<span class="hljs-property">offsetHeight</span>)<br><br><span class="hljs-attr">C</span>: obj.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = <span class="hljs-string">&quot;100px&quot;</span><br><br><span class="hljs-attr">D</span>: obj.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = <span class="hljs-string">&quot;red&quot;</span><br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>B,C</li></ul></li><li><p>解析</p><ul><li><p><strong>Reflow 回流</strong> 原文链接：<a href="http://www.cnblogs.com/Peng2014/p/4687218.html%EF%BC%89">http://www.cnblogs.com/Peng2014/p/4687218.html）</a></p><ul><li><p><strong>简要:</strong> </p><p>整个在浏览器的渲染过程中（页面初始化，用户行为改变界面样式，动画改变界面样式等）reflow(回流)和repaint(重绘) 会大大影响web性能，尤其是手机页面。因此我们在页面设计的时候要尽量减少reflow和repaint。</p></li><li><p><strong>Reflow</strong>几乎是无法避免的。现在界面上流行的一些效果，比如树状目录的折叠、展开（实质上是元素的显 示与隐藏）等，都将引起浏览器的 reflow。鼠标滑过、点击……<strong>只要这些行为引起了页面上某些元素的占位面积、定位方式、边距等属性的变化，都会引起它内部、周围甚至整个页面的重新渲染</strong>。通常我们都无法预估浏览器到底会 reflow 哪一部分的代码，它们都彼此相互影响着。</p></li><li><p>下面情况会导致reflow发生(是可能会!)</p><ol><li>改变窗口大小</li><li>改变文字大小</li><li>内容的改变(比如用户在输入框中输入文字)</li><li>操作伪类  如:hover</li><li>操作class属性(会引发样式的改变情况下)</li><li>js操作DOM</li><li>计算offsetWidth和offsetHeight</li><li>设置style属性</li></ol></li></ul></li><li><p><strong>Repaint 重绘</strong></p><ul><li>如果只是改变某个元素的背景色、文字颜色、边框颜色等等不影响它周围或内部布局的属性，将只会引起浏览器 repaint（重绘）。repaint 的速度明显快于 reflow</li></ul></li><li><p>回流重绘说简单点</p><ul><li>回流,当页面的元素发生大小改变的时候的时候,会发生回流<ul><li>比如说里一个div里面字体大小发生改变,或者是这个div大小发生改变都会引起回流</li><li><strong>再通俗点就是,你变这么胖,我要改变下布局了,这就是回流!</strong></li></ul></li><li>重绘<ul><li>只改变某个dom元素的颜色或者文字颜色，则会进行重绘</li><li><strong>再通俗点就是,我皮肤晒黑了,没有变胖,不需要改变布局,只需要重新绘制下就可以!</strong></li></ul></li></ul></li></ul></li></ul><h3 id="题目4"><a href="#题目4" class="headerlink" title="题目4"></a>题目4</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs javascript">请问以下<span class="hljs-variable constant_">JS</span>代码的输出是？<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">father</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = <span class="hljs-number">935</span>;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">work</span> = [<span class="hljs-string">&#x27;read&#x27;</span>, <span class="hljs-string">&#x27;write&#x27;</span>, <span class="hljs-string">&#x27;listen&#x27;</span>];<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">son</span>(<span class="hljs-params"></span>) &#123;&#125;<br>son.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_">father</span>();<br><span class="hljs-keyword">let</span> son1 = <span class="hljs-keyword">new</span> <span class="hljs-title function_">son</span>();<br><span class="hljs-keyword">let</span> son2 = <span class="hljs-keyword">new</span> <span class="hljs-title function_">son</span>();<br>son1.<span class="hljs-property">num</span> = <span class="hljs-number">117</span>;<br>son1.<span class="hljs-property">work</span>.<span class="hljs-title function_">pop</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(son2.<span class="hljs-property">num</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(son2.<span class="hljs-property">work</span>);<br><br><span class="hljs-attr">A</span>: <span class="hljs-number">117</span>、[<span class="hljs-string">&#x27;read&#x27;</span>, <span class="hljs-string">&#x27;write&#x27;</span>]<br><br><span class="hljs-attr">B</span>: <span class="hljs-number">935</span>、[<span class="hljs-string">&#x27;read&#x27;</span>, <span class="hljs-string">&#x27;write&#x27;</span>,<span class="hljs-string">&#x27;listen&#x27;</span>]<br><br><span class="hljs-attr">C</span>: <span class="hljs-number">935</span>、[<span class="hljs-string">&#x27;read&#x27;</span>, <span class="hljs-string">&#x27;write&#x27;</span>]<br><br><span class="hljs-attr">D</span>: <span class="hljs-number">117</span>、[<span class="hljs-string">&#x27;read&#x27;</span>, <span class="hljs-string">&#x27;write&#x27;</span>,<span class="hljs-string">&#x27;listen&#x27;</span>]<br><br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>C</li></ul></li><li><p>解析</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">father</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = <span class="hljs-number">935</span>;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">work</span> = [<span class="hljs-string">&#x27;read&#x27;</span>, <span class="hljs-string">&#x27;write&#x27;</span>, <span class="hljs-string">&#x27;listen&#x27;</span>];<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">son</span>(<span class="hljs-params"></span>) &#123;&#125;<br>son.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_">father</span>(); <br><span class="hljs-comment">// son.prototype = &#123;  num:935, work:[&#x27;read&#x27;,&#x27;write&#x27;,&#x27;listen&#x27;] &#125;</span><br><br><span class="hljs-keyword">let</span> son1 = <span class="hljs-keyword">new</span> <span class="hljs-title function_">son</span>(); <span class="hljs-comment">// son1 = &#123; &#125;</span><br><span class="hljs-keyword">let</span> son2 = <span class="hljs-keyword">new</span> <span class="hljs-title function_">son</span>(); <span class="hljs-comment">// son2 = &#123; &#125;</span><br><br>son1.<span class="hljs-property">num</span> = <span class="hljs-number">117</span>; <span class="hljs-comment">// son1 = &#123; num: 117 &#125;</span><br><br>son1.<span class="hljs-property">work</span>.<span class="hljs-title function_">pop</span>(); <br><span class="hljs-comment">//son1自己没有work，去原型里找到work,并删除work里的最后一项，</span><br><span class="hljs-comment">//此时son.prototype = &#123;  num:935, work:[&#x27;read&#x27;,&#x27;write&#x27;] &#125;</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(son2.<span class="hljs-property">num</span>);<span class="hljs-comment">// son2自己没有num，去原型里找，有num:935</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(son2.<span class="hljs-property">work</span>);<br><span class="hljs-comment">//son1和son2原型是同一个，所以此时原型里的work是[&#x27;read&#x27;, &#x27;write&#x27;]</span><br></code></pre></td></tr></table></figure></li></ul><h3 id="题目5"><a href="#题目5" class="headerlink" title="题目5"></a>题目5</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript">上面这段代码运行后得到的结果分别是什么？<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(([])?<span class="hljs-attr">true</span>:<span class="hljs-literal">false</span>); <br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(([]==<span class="hljs-literal">false</span>?<span class="hljs-attr">true</span>:<span class="hljs-literal">false</span>)); <br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>((&#123;&#125;==<span class="hljs-literal">false</span>)?<span class="hljs-attr">true</span>:<span class="hljs-literal">false</span>) <br><span class="hljs-attr">A</span>: <span class="hljs-literal">false</span> <span class="hljs-literal">true</span> <span class="hljs-literal">true</span><br><br><span class="hljs-attr">B</span>: <span class="hljs-literal">true</span> <span class="hljs-literal">true</span> <span class="hljs-literal">true</span><br><br><span class="hljs-attr">C</span>: <span class="hljs-literal">true</span> <span class="hljs-literal">false</span> <span class="hljs-literal">true</span><br><br><span class="hljs-attr">D</span>: <span class="hljs-literal">true</span> <span class="hljs-literal">true</span> <span class="hljs-literal">false</span><br><br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>D</li></ul></li><li><p>解析</p><ul><li><p>布尔类型里只有这几参数个返回false，其它都为true</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Boolean</span>(<span class="hljs-literal">undefined</span>) <span class="hljs-comment">// false</span><br><br><span class="hljs-title class_">Boolean</span>(<span class="hljs-literal">null</span>) <span class="hljs-comment">// false </span><br><br><span class="hljs-title class_">Boolean</span>(<span class="hljs-number">0</span>) <span class="hljs-comment">// false </span><br><br><span class="hljs-title class_">Boolean</span>(<span class="hljs-title class_">NaN</span>) <span class="hljs-comment">// false </span><br><br><span class="hljs-title class_">Boolean</span>(<span class="hljs-string">&#x27;&#x27;</span>) <span class="hljs-comment">// false</span><br><br><span class="hljs-comment">//其他转换均为true</span><br><span class="hljs-title class_">Boolean</span>([]) <span class="hljs-comment">//true</span><br></code></pre></td></tr></table></figure></li><li><p>需要知道: <strong>布尔类型与其它任何类型进行比较，布尔类型和其他类型均会转换为number类型进行比较</strong></p><ul><li>Number([])   &#x3D;&gt; 为0</li><li>Number(true) &#x3D;&gt; 为1     Number(false) &#x3D;&gt; 为0</li><li>Number({}) &#x3D;&gt; 为NaN  (<strong>Number转换类型的参数如果为对象返回的就是NaN</strong>)</li></ul></li><li><pre><code class="javascript">//相当于 true?true:falseconsole.log(([])?true:false);//返回true//相当于 0 == 0 ? true : falseconsole.log(([]==false?true:false));//返回true//相当于 NaN == 0 ? true : falseconsole.log((&#123;&#125;==false)?true:false);//返回false</code></pre></li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>今日刷题-decodeURI</title>
    <link href="/2022/05/02/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B45%E6%9C%8802%E6%97%A5%E5%88%B7%E9%A2%98/"/>
    <url>/2022/05/02/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B45%E6%9C%8802%E6%97%A5%E5%88%B7%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">下列正确定义函数的是<br><span class="hljs-attr">A</span>: <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;&#125;<br><br><span class="hljs-attr">B</span>: <span class="hljs-title class_">Function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;&#125;<br><br><span class="hljs-attr">C</span>: <span class="hljs-keyword">var</span> foo = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Function</span>() &#123;&#125;<br><br><span class="hljs-attr">D</span>: <span class="hljs-keyword">var</span> foo = <span class="hljs-keyword">new</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;&#125;<br><br></code></pre></td></tr></table></figure><ul><li>答案<ul><li>A</li></ul></li><li>解析<ul><li>B当中的 ‘Function’ 写错了,应该是 ‘function’</li><li>C当中应该是 var foo &#x3D; new Function (参数1,参数2,……)</li><li>D同C一样,都是弄错了</li></ul></li></ul><h3 id="题目2"><a href="#题目2" class="headerlink" title="题目2"></a>题目2</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript">以下代码执行时不会在控制台输出错误信息的是：<br><span class="hljs-attr">A</span>: <span class="hljs-keyword">let</span> a = <span class="hljs-built_in">decodeURIComponent</span>(<span class="hljs-string">&#x27;%&#x27;</span>);<br><span class="hljs-attr">B</span>: <br>    <span class="hljs-keyword">var</span> a;<br>    <span class="hljs-title function_">a</span>();<br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">a</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br>    &#125;<br><span class="hljs-attr">C</span>:<br>    <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-number">123</span>).<span class="hljs-title function_">finally</span>(<span class="hljs-function"><span class="hljs-params">a</span> =&gt;</span> &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br>    &#125;);<br><span class="hljs-attr">D</span>: <br>    <span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">let</span> a = <span class="hljs-number">2</span>;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br><br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>B</li></ul></li><li><p>解析</p><ul><li><p>A: decodeURIComponent(字符串),对字符串进行解码,此时这里传入的字符串应该是使用encodeURI或者是encodeURIComponent编码后的字符串进行解码,直接传入%是一个没有编码的字符串（ ‘%’ 编码后为 ‘ %25’ ）</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220428204031.png"></p></li><li><p>B: 函数提升和变量提升同时存在，<strong>函数提升优先级 高于 变量提升</strong>，所以变量a被函数所覆盖</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(foo); <br><span class="hljs-keyword">var</span> foo = <span class="hljs-number">1</span>  <span class="hljs-comment">//变量提升</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(foo)<br><span class="hljs-title function_">foo</span>()<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>)&#123; <span class="hljs-comment">//函数提升</span><br>   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;函数&#x27;</span>)<br>&#125;<br>=========等价于=============&gt;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>)&#123; <span class="hljs-comment">//提到顶端</span><br>   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;函数&#x27;</span>)<br>&#125;<br><span class="hljs-keyword">var</span> foo  <br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(foo) <span class="hljs-comment">//输出foo这个函数，因为上面foo没有被赋值，foo还是原来的值 </span><br>foo = <span class="hljs-number">1</span>;  <span class="hljs-comment">//赋值不会提升,赋值后 foo就不再是函数类型了，而是number类型</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(foo) <span class="hljs-comment">//输出1</span><br><span class="hljs-title function_">foo</span>() <span class="hljs-comment">//这里会报错，因为foo不是函数了</span><br></code></pre></td></tr></table></figure></li><li><p>C: 选项需要 .catch去补货 被 reject 的 Promise，才能不抛出错误</p></li><li><p>D: 选项因为 let 的 TDZ（“暂时性死区”），在 let 的<strong>块</strong>作用域中无法重复声明，也无法在声明语句之前使用（没有变量提升）。简而言之，在 let 语句出现之前，都是无法使用该变量的(<strong>说通俗点就是</strong>——只要let所在定义域下(也就是在函数当中的 <code>&#123; &#125;</code> 当中),<strong>在let代码没有执行之前</strong>,如果这个时候有一段代码对let声明的变量名称<strong>进行了访问并且代码执行了</strong>(  比如console.log() ) ,那么就会发生报错!)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs javascript">补充一点。这种情况下是可以正常运行的：<br><span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>;<br>&#123;<br>    <span class="hljs-comment">//块级作用域</span><br>    <span class="hljs-keyword">let</span> a = <span class="hljs-number">2</span>;   <br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<span class="hljs-comment">//输出1</span><br><br><br>也看看下面这种情况<br><span class="hljs-keyword">let</span> <span class="hljs-title function_">foo</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x);<span class="hljs-comment">//输出x=10;</span><br>    x++;<br>&#125;<br><span class="hljs-keyword">let</span> x = <span class="hljs-number">10</span>;<br><span class="hljs-title function_">foo</span>();<br><span class="hljs-comment">//结合上面说所的,分析下过程</span><br><span class="hljs-comment">//就是只要let所在定义域下(也就是在函数当中的 `&#123; &#125;` 当中)</span><br><span class="hljs-comment">//在let代码没有执行之前</span><br><span class="hljs-comment">//如果这个时候有一段代码对let声明的变量名称进行了访问</span><br><span class="hljs-comment">//(  比如console.log() ) ,那么就会发生报错!</span><br><br><span class="hljs-comment">//拆解 执行过程</span><br><span class="hljs-comment">//第一步</span><br><span class="hljs-keyword">let</span> foo = &#123;...&#125;;<span class="hljs-comment">//此时函数并没有执行,所以不存在对let变量进行访问并执行,所以不报错</span><br><span class="hljs-comment">//第二步</span><br><span class="hljs-keyword">let</span> x = <span class="hljs-number">10</span>;<br><span class="hljs-comment">//第三步</span><br><span class="hljs-title function_">foo</span>();<br><br></code></pre></td></tr></table></figure></li></ul></li></ul><h3 id="题目3"><a href="#题目3" class="headerlink" title="题目3"></a>题目3</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">下列代码中，页面打开后能够弹出<span class="hljs-number">1</span>的是？(多选)<br><span class="hljs-attr">A</span>: <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">src</span>=<span class="hljs-string">”javascript:</span> <span class="hljs-attr">alert</span>(<span class="hljs-attr">1</span>)”&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span></span><br><br><span class="hljs-attr">B</span>: <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">””</span> <span class="hljs-attr">onerror</span>=<span class="hljs-string">”alert(1)”/</span>&gt;</span></span><br><br><span class="hljs-attr">C</span>: <span class="hljs-variable constant_">IE</span>下&lt;s style=”<span class="hljs-attr">top</span>:<span class="hljs-title function_">expression</span>(<span class="hljs-title function_">alert</span>(<span class="hljs-number">1</span>))”&gt;&lt;/s&gt;<br><br><span class="hljs-attr">D</span>: <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">”alert(1)”</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><ul><li>答案<ul><li>A，B，C</li></ul></li><li>解析<ul><li>A：加载的时候会触发alert（1）代码</li><li>B：img当中的onerror，当图片不存在加载失败的时候会触发，此时这里src&#x3D;“”，导致加载失败，所以触发alert（1）事件</li><li>C：在ie 7下会连续弹出，   IE5及其以后版本支持在CSS中使用expression，用来把CSS属性和Javascript表达式关联起来，这里的CSS属性可以是元素固有的属性，也可以是自定义属性。就是说CSS属性后面可以是一段Javascript表达式，CSS属性的值等于Javascript表达式计算的结果。在表达式中可以直接引用元素自身的属性和方法，也可以使用其他浏览器对象。这个表达式就好像是在这个元素的一个成员函数中一样。</li><li>D：onclick，单击div标签才会触发</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">当用户打开一个网页时，想一直停留在当前打开的页面，禁止页面前进和后退，以下正确的是（      ）(多选)<br><span class="hljs-attr">A</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">history</span>.<span class="hljs-title function_">forward</span>(<span class="hljs-number">1</span>);<br><br><span class="hljs-attr">B</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">history</span>.<span class="hljs-title function_">back</span>(<span class="hljs-number">1</span>);<br><br><span class="hljs-attr">C</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">history</span>.<span class="hljs-title function_">go</span>(-<span class="hljs-number">1</span>);<br><br><span class="hljs-attr">D</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">history</span>.<span class="hljs-title function_">forward</span>(-<span class="hljs-number">1</span>);<br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>A，D</li></ul></li><li><p>解析</p><ul><li><p>题目意思</p><ul><li><p><strong>相当于URI当中输入了网站，比如说baidu.com,然后会发现只有后退没有前进按钮的操作，这种情况下从ABCD选</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220502161507.png"></p></li></ul></li><li><p>A：window.history.forward( 1 ) （forward不用传递参数，传入也会无效）前进一个页面，这里没办法前进，所以可以选</p></li><li><p>B：window.history.back(  )（back不用传递参数，传入也会无效）后退一个页面，这里可以后退，但是题目要求禁止，所以不选</p></li><li><p>C：window.history.go(-1) 后退一个页面，这里可以后退，但是题目要求禁止，所以不选</p><ul><li>window.history.go(delta);—-相对于当前页面你要去往历史页面的位置。<strong>负值</strong>表示向后移动，<strong>正值</strong>表示向前移动。因此，例如：<code>history.go(2)</code>向前移动两页，<code>history.go(-2)</code>则向后移动两页。如果未向该函数传参或<code>delta</code>相等于0，则该函数与调用<code>location.reload()</code>具有相同的效果。</li></ul></li><li><p>D：window.history.forward( -1 ) 前进一个页面，这里没办法前进，所以可以选</p></li></ul></li></ul><h3 id="题目4"><a href="#题目4" class="headerlink" title="题目4"></a>题目4</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript">如何遍历下面的 my_data 对象？<br><span class="hljs-keyword">var</span> my_data=&#123;<span class="hljs-attr">a</span>:<span class="hljs-string">&#x27;Ape&#x27;</span>, <span class="hljs-attr">b</span>:<span class="hljs-string">&#x27;Banana&#x27;</span>, <span class="hljs-attr">c</span>:<span class="hljs-string">&#x27;Citronella&#x27;</span>&#125;;<br><br><span class="hljs-attr">A</span>: <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> my_data) &#123;&#125;<br><br><span class="hljs-attr">B</span>: <span class="hljs-title function_">foreach</span>(<span class="hljs-params">my_data <span class="hljs-keyword">as</span> key=&gt;value</span>) &#123;&#125;<br><br><span class="hljs-attr">C</span>: <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;my_data.<span class="hljs-property">length</span>;i++) &#123;&#125;<br><br><span class="hljs-attr">D</span>: 全不选<br></code></pre></td></tr></table></figure><ul><li>答案<ul><li>A</li></ul></li><li>解析<ul><li>A: 没有错,<strong><code>for...in</code>语句</strong>以任意顺序迭代一个对象的除<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol">Symbol</a>以外的<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Enumerability_and_ownership_of_properties">可枚举</a>属性，包括继承的可枚举属性。<ul><li><code>for...in</code>不应该用于迭代一个关注索引顺序的 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array"><code>Array</code></a>。(Array用forEach或者for…of代替)</li></ul></li><li>B: 大佬说是php的,php我不太懂</li><li>C: 对象没有.length属性,输出也是undefined(伪数组除外)</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>今日刷题-CMD和AMD的模块化</title>
    <link href="/2022/05/01/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B45%E6%9C%8801%E6%97%A5%E5%88%B7%E9%A2%98/"/>
    <url>/2022/05/01/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B45%E6%9C%8801%E6%97%A5%E5%88%B7%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h3><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">下列关于 JavaScript 模块化的描述，错误的是（）<br><span class="hljs-symbol">A:</span> AMD推崇依赖前置，CMD推崇依赖就近<br><span class="hljs-symbol">B:</span> Sea.js遵循AMD规范，RequireJS遵循CMD规范<br><span class="hljs-symbol">C:</span> 主流的模块化包括CommonJS,AMD,CMD等<br><span class="hljs-symbol">D:</span> 模块化有利于管理模块间的依赖，更依赖模块的维护<br></code></pre></td></tr></table></figure><ul><li>答案<ul><li>B</li></ul></li><li>解析<ul><li>AMD(也就是Async Module definition)异步模块加载机制,比如说Require.js使用的就是AMD规范,依赖前置,所有的依赖必须要放在最前面(一次性引入)</li><li>CMD是由sea.js实现的（依赖就近，所有依赖需要了再引入,用到了再引入）</li><li>CommonJS,比如说NodeJs</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>element-ui分页器设置每一页显示数量(page-size)后页码没有发生变化原因与解决</title>
    <link href="/2022/04/30/%E5%89%8D%E7%AB%AF/element-ui%E5%BD%93%E4%B8%ADpagination%E8%AE%BE%E7%BD%AE%E6%AF%8F%E4%B8%80%E9%A1%B5%E6%98%BE%E7%A4%BA%E6%95%B0%E9%87%8F(page-size)%E5%90%8E%E9%A1%B5%E7%A0%81%E6%B2%A1%E6%9C%89%E5%8F%91%E7%94%9F%E5%8F%98%E5%8C%96/"/>
    <url>/2022/04/30/%E5%89%8D%E7%AB%AF/element-ui%E5%BD%93%E4%B8%ADpagination%E8%AE%BE%E7%BD%AE%E6%AF%8F%E4%B8%80%E9%A1%B5%E6%98%BE%E7%A4%BA%E6%95%B0%E9%87%8F(page-size)%E5%90%8E%E9%A1%B5%E7%A0%81%E6%B2%A1%E6%9C%89%E5%8F%91%E7%94%9F%E5%8F%98%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><p>element-ui当中分页器,设置每一页显示数量(page-size)后页码没有发生变化</p><h4 id="比如"><a href="#比如" class="headerlink" title="比如"></a>比如</h4><ol><li>原来是每一个显示数据量为3个数据</li></ol><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220430112142.png"></p><ol start="2"><li><p>后面<strong>想每一页显示数据为5个</strong>,那么按照道理来说,页码也会变化的</p><p><strong>然而并没有发生变化</strong></p></li></ol><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220430112257.png"></p><h3 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h3><ul><li>page-size要和page-sizes当中的数据对得上才可以,也就是说page-size如果数字没有与page-sizes这个数组里面的数组对应上,那么就会区page-sizes当中的第一个值来计算页码</li></ul><h3 id="示例1"><a href="#示例1" class="headerlink" title="示例1"></a>示例1</h3><ul><li><input checked="" disabled="" type="checkbox"> <strong>page-size有值但是page-sizes不填写</strong></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220430112601.png"></p><h4 id="示例1效果图"><a href="#示例1效果图" class="headerlink" title="示例1效果图"></a>示例1效果图</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220430112659.png"></p><h4 id="示例1分析"><a href="#示例1分析" class="headerlink" title="示例1分析"></a>示例1分析</h4><ul><li>page-size<strong>s</strong>不填写**(注意是page-sizes)**,则取默认值为 :page-sizes &#x3D; “ [10, 20, 30, 40, 50, 100] “</li><li>这里填写的 :page-size &#x3D; “12”,在 :page-sizes &#x3D; “[10, 20, 30, 40, 50, 100] “ 找不到对应的,就忽略page-size设置的值,而去取page-sizes数组当中第一个值,也就是10</li><li>最终计算页码: 10898 &#x2F; 10 向上取整就为1090页</li></ul><h3 id="示例2"><a href="#示例2" class="headerlink" title="示例2"></a>示例2</h3><ul><li><input checked="" disabled="" type="checkbox"> <strong>page-size有值并且page-sizes填写但是page-sizes当中没有对应值</strong></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220430113319.png"></p><h4 id="示例2效果图"><a href="#示例2效果图" class="headerlink" title="示例2效果图"></a>示例2效果图</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220430113224.png"></p><h4 id="示例2分析"><a href="#示例2分析" class="headerlink" title="示例2分析"></a>示例2分析</h4><ul><li>page-size的值在page-sizes没有有对应的值,于是取page-sizes数组当第一个值,也就是3</li><li>计算页码: 10898&#x2F;3 向上取整 &#x3D; 3633页</li></ul><h3 id="示例3"><a href="#示例3" class="headerlink" title="示例3"></a>示例3</h3><ul><li><input checked="" disabled="" type="checkbox"> <strong>page-size有值并且page-sizes填写并且page-sizes当中有对应值</strong></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220430113658.png"></p><h4 id="示例3效果图"><a href="#示例3效果图" class="headerlink" title="示例3效果图"></a>示例3效果图</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220430113609.png"></p><h4 id="示例3分析"><a href="#示例3分析" class="headerlink" title="示例3分析"></a>示例3分析</h4><ul><li>page-size的值在page-sizes有对应的值,所以可以正常按照我们设置的显示页码</li><li>计算页码: 10898&#x2F;6 向上取整 &#x3D; 1817页</li></ul>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vue</tag>
      
      <tag>javascript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>今日刷题-注意优先级</title>
    <link href="/2022/04/30/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8830%E6%97%A5%E5%88%B7%E9%A2%98/"/>
    <url>/2022/04/30/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8830%E6%97%A5%E5%88%B7%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript">执行以下代码，其实现的效果为（）<br>&lt;div&gt;<br>   <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">id</span> =<span class="hljs-string">&quot;button1&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;moveBtn(this);&quot;</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">id</span> =<span class="hljs-string">&quot;button2&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;2&quot;</span> /&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-keyword">function</span> <span class="hljs-title function_">moveBtn</span>(<span class="hljs-params">obj</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">     <span class="hljs-keyword">var</span> clone = obj.<span class="hljs-title function_">cloneNode</span>(<span class="hljs-literal">true</span>);</span></span><br><span class="language-javascript"><span class="language-xml">     <span class="hljs-keyword">var</span> parent = obj.<span class="hljs-property">parentNode</span>;</span></span><br><span class="language-javascript"><span class="language-xml">     parent.<span class="hljs-title function_">appendChild</span>(clone);</span></span><br><span class="language-javascript"><span class="language-xml">     parent.<span class="hljs-title function_">removeChild</span>(obj);</span></span><br><span class="language-javascript"><span class="language-xml">   &#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="hljs-attr">A</span>: 鼠标单击button1后将button1链接到button2的后面<br><br><span class="hljs-attr">B</span>: 鼠标单击button1后将button1移动到button2的后面<br><br><span class="hljs-attr">C</span>: 鼠标单击button1后将button2移动到button1的后面<br><br><span class="hljs-attr">D</span>: 鼠标单击button1后将button2链接到button1的后面<br><br></code></pre></td></tr></table></figure><ul><li>答案<ul><li>B</li></ul></li><li>解析<ul><li>**<code>Node.cloneNode([deep]) </code>**方法返回调用该方法的节点的一个副本.<ul><li>Node: 将要被克隆的节点</li><li>deep: 是否采用深度克隆,如果为true,则该节点的所有后代节点也都会被克隆,如果为false,则只克隆该节点本身.</li></ul></li><li>所以obj.cloneNode(true);深度克隆一个自己的节点,克隆之后删除原体后在移动克隆体到button1的后面</li></ul></li></ul><h3 id="题目2"><a href="#题目2" class="headerlink" title="题目2"></a>题目2</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript">假设val已经声明,可定义为任何值。则下面js代码有可能输出的结果为:<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Value is &#x27;</span> + (val != <span class="hljs-string">&#x27;0&#x27;</span>) ? <span class="hljs-string">&#x27;define&#x27;</span> : <span class="hljs-string">&#x27;undefine&#x27;</span>);<br><span class="hljs-attr">A</span>: <span class="hljs-title class_">Value</span> is define<br><br><span class="hljs-attr">B</span>: <span class="hljs-title class_">Value</span> is undefine<br><br><span class="hljs-attr">C</span>: define<br><br><span class="hljs-attr">D</span>: undefine<br><br><span class="hljs-attr">E</span>: <span class="hljs-title class_">Value</span> is define 或者 <span class="hljs-title class_">Value</span> isundefine<br><br><span class="hljs-attr">D</span>: define 或者 undefine <br><br><span class="hljs-attr">E</span>: 其他选项都有可能<br><br></code></pre></td></tr></table></figure><ul><li>答案<ul><li>C</li></ul></li><li>解析<ul><li>算术运算符优先级大于三元运算符,所以先计算 <strong>‘Value is ‘ + (val !&#x3D; ‘0’)</strong> 后进行三元运算,但是这个计算结果不管怎么样都会为真（因为在js当中，除了 <strong>“”  null undefined NaN false 0</strong> 这六个转化为布尔值为假，其他均为真，空数组，空对象转化为布尔值也是真！）所以这个三元运算符结果永远为 <strong>‘define’</strong></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence">JavaScript当中运算符优先级文档</a></li></ul></li></ul><h3 id="题目3"><a href="#题目3" class="headerlink" title="题目3"></a>题目3</h3><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs accesslog">已知数组arr=<span class="hljs-string">[1,69,4,6,8,10]</span>，对数组进行升序排列，下列选项中，不符合要求的是（）<br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">A</span>:<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;i&lt;arr.<span class="hljs-property">length</span>-<span class="hljs-number">1</span>;i++)&#123;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>;j &lt; arr.<span class="hljs-property">length</span>-<span class="hljs-number">1</span>-i;j++)&#123;<br><br>        <span class="hljs-keyword">if</span>(arr[j]&gt;arr[j+<span class="hljs-number">1</span>])&#123;<br><br>            <span class="hljs-keyword">var</span> temp = arr[j];<br><br>            arr[j] = arr[j+<span class="hljs-number">1</span>];<br><br>            arr[j+<span class="hljs-number">1</span>] = temp;<br><br>        &#125;<br><br>    &#125;<br><br>&#125;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr);<br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">B</span>:<br><span class="hljs-keyword">var</span> minIndex;<br><br><span class="hljs-keyword">var</span> temp;<br><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; arr.<span class="hljs-property">length</span>; i++) &#123;<br><br>    minIndex = i - <span class="hljs-number">1</span>;<br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> j = i; j &lt;arr.<span class="hljs-property">length</span>; j++) &#123;<br><br>        <span class="hljs-keyword">if</span>(arr[j] &lt; arr[minIndex]) minIndex = j;<br><br>    &#125;<br><br>    <span class="hljs-keyword">if</span>(minIndex != i-<span class="hljs-number">1</span>) &#123;<br><br>        temp = arr[i-<span class="hljs-number">1</span>];<br><br>        arr[i-<span class="hljs-number">1</span>] = arr[minIndex];<br><br>        arr[minIndex] = temp;<br><br>    &#125;<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr);<br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">C</span>:<br>arr.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a,b</span>)=&gt;</span>b-a);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr);<br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">D</span>:<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; arr.<span class="hljs-property">length</span>; i ++) &#123;<br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> j = i - <span class="hljs-number">1</span>; j&gt;=<span class="hljs-number">0</span> &amp;&amp; arr[j] &gt; arr[j+<span class="hljs-number">1</span>]; j --) &#123;<br><br>        <span class="hljs-keyword">let</span> temp = arr[j];<br><br>        arr[j] = arr[j+<span class="hljs-number">1</span>];<br><br>        arr[j+<span class="hljs-number">1</span>] = temp;<br><br>    &#125;<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr);<br></code></pre></td></tr></table></figure><ul><li>答案<ul><li>C选项</li></ul></li><li>解析<ul><li>sort当中arr.sort( ( a , b ) ) &#x3D;&gt; b - a ) ;为降序,    arr.sort( ( a , b ) ) &#x3D;&gt; a-b ) 为升序</li><li>A是冒泡排序</li><li>B是选择排序</li><li>D是插入排序</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>今日刷题-温故而知新</title>
    <link href="/2022/04/29/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8829%E6%97%A5%E5%88%B7%E9%A2%98/"/>
    <url>/2022/04/29/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8829%E6%97%A5%E5%88%B7%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> foo=”<span class="hljs-title class_">Hello</span>”;<br>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">var</span> bar=”<span class="hljs-title class_">World</span>”;<br>    <span class="hljs-title function_">alert</span>(foo+bar);<br>&#125;)();<br><span class="hljs-title function_">alert</span>(foo+bar);<br><span class="hljs-attr">A</span>: <span class="hljs-title class_">Hello</span> <span class="hljs-title class_">World</span>报错<br><span class="hljs-attr">B</span>: <span class="hljs-title class_">Hello</span> <span class="hljs-title class_">World</span> <span class="hljs-title class_">Hello</span> <span class="hljs-title class_">World</span><br><span class="hljs-attr">C</span>: <span class="hljs-title class_">Hello</span> <span class="hljs-title class_">World</span> <span class="hljs-title class_">Hello</span><br><span class="hljs-attr">D</span>: <span class="hljs-title class_">Hello</span> <span class="hljs-title class_">World</span> <span class="hljs-title class_">Hello</span><br></code></pre></td></tr></table></figure><ul><li>答案<ul><li>A</li></ul></li><li>解析<ul><li>var是函数作用域,也就是以函数和分割,函数内声明了var,在这个函数范围内都可以访问到.,而let是块级作用域,比如for循环当中的let变量,在for循环里面就可以访问到,在for循环外面就访问不到了!</li></ul></li></ul><h3 id="题目2"><a href="#题目2" class="headerlink" title="题目2"></a>题目2</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">以上 <span class="hljs-title class_">JavaScript</span> 代码，在浏览器中运行的结果是<br><span class="hljs-keyword">var</span> arrTemp = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>];<br>arrTemp.<span class="hljs-title function_">shift</span>();<br>arrTemp.<span class="hljs-title function_">push</span>(<span class="hljs-number">1</span>);<br>arrTemp.<span class="hljs-title function_">unshift</span>(<span class="hljs-number">2</span>);<br><span class="hljs-keyword">var</span> arrNew = arrTemp.<span class="hljs-title function_">concat</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arrNew);<br><span class="hljs-attr">A</span>: [<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]<br><span class="hljs-attr">B</span>: [<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]<br><span class="hljs-attr">C</span>: [<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">1</span>,[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]]<br><span class="hljs-attr">D</span>: [<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]]<br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>A</li></ul></li><li><p>解析</p><ul><li><p>concat可以用于连接字符串和数组,均不会改变原来的变量,均返回一个连接后的变量</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220429074303.png"></p></li></ul></li></ul><h3 id="题目3"><a href="#题目3" class="headerlink" title="题目3"></a>题目3</h3><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">以下对<span class="hljs-keyword">call</span>() 和 apply() 说法哪些是正确的  () (多选)<br><span class="hljs-symbol">A:</span> apply()函数有二个参数,第一个参数是上下文,第二个参数是参数组成的数组<br><span class="hljs-symbol">B:</span> 非严格模式,如果第一个参数是null,则使用全局对象代替<br><span class="hljs-symbol">C:</span> <span class="hljs-keyword">call</span>和apply的意思一样,只不过是参数列表不一样<br><span class="hljs-symbol">D:</span> 通过apply可以将数组转化为参数列表的集合<br></code></pre></td></tr></table></figure><ul><li>答案<ul><li>ABCD</li></ul></li><li>解析<ul><li>call() 方法使用一个指定的this值和单独给出的一个或多个参数来调用一个函数。(该方法的语法和作用与 apply() 方法类似，只有一个区别，就是 call() 方法接受的是一个参数列表，而 apply() 方法接受的是一个包含多个参数的数组。)</li><li>第一个参数均为可选的<ul><li>在 <em><code>function</code></em> 函数运行时使用的 <code>this</code> 值。请注意，<code>this</code>可能不是该方法看到的实际值：如果这个函数处于<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Strict_mode">非严格模式</a>下，则指定为 <code>null</code> 或 <code>undefined</code> 时会自动替换为指向全局对象，原始值会被包装。(也就是说如果在严格模式下,则不会被替换为全局对象window,而是会被指向null和undefined)</li></ul></li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MATLAB课程设计(非库函数实现高斯模糊,边缘检测,傅里叶等操作-基础)</title>
    <link href="/2022/04/28/%E5%85%B6%E4%BB%96%E8%AF%AD%E8%A8%80/MATLAB%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1(%E9%9D%9E%E5%BA%93%E5%87%BD%E6%95%B0%E5%AE%9E%E7%8E%B0%E9%AB%98%E6%96%AF%E6%A8%A1%E7%B3%8A,%E8%BE%B9%E7%BC%98%E6%A3%80%E6%B5%8B,%E5%82%85%E9%87%8C%E5%8F%B6%E7%AD%89%E6%93%8D%E4%BD%9C-%E5%9F%BA%E7%A1%80)/"/>
    <url>/2022/04/28/%E5%85%B6%E4%BB%96%E8%AF%AD%E8%A8%80/MATLAB%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1(%E9%9D%9E%E5%BA%93%E5%87%BD%E6%95%B0%E5%AE%9E%E7%8E%B0%E9%AB%98%E6%96%AF%E6%A8%A1%E7%B3%8A,%E8%BE%B9%E7%BC%98%E6%A3%80%E6%B5%8B,%E5%82%85%E9%87%8C%E5%8F%B6%E7%AD%89%E6%93%8D%E4%BD%9C-%E5%9F%BA%E7%A1%80)/</url>
    
    <content type="html"><![CDATA[<h4 id="基本界面"><a href="#基本界面" class="headerlink" title="基本界面"></a>基本界面</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/ed9bed8921775682304223c807c6bb1.png"></p><h3 id="基本功能-具体可以下载测试看看"><a href="#基本功能-具体可以下载测试看看" class="headerlink" title="基本功能(具体可以下载测试看看~)"></a>基本功能(具体可以下载测试看看~)</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/f8ee071509c09e87ca8c2fe64163c11.png"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/a1b65841927c8db94902f5a4449515d.png"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/f5a13ba6ff0a1a7b658b24098e779ef.png"></p><h4 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h4><p><a href="https://github.com/superBiuBiuMan/matlab_project">matlab课程设计</a></p>]]></content>
    
    
    <categories>
      
      <category>MATLAB</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MATLAB</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>今日刷题-请求头和响应头有必要了解</title>
    <link href="/2022/04/28/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8828%E6%97%A5%E5%88%B7%E9%A2%98/"/>
    <url>/2022/04/28/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8828%E6%97%A5%E5%88%B7%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h3><pre><code class="hljs"><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">以下哪一项不属于浏览器Response Headers字段：<br><span class="hljs-symbol">A:</span> Referer<br><span class="hljs-symbol">B:</span> Connection<br><span class="hljs-symbol">C:</span> Content-Type<br><span class="hljs-symbol">D:</span> Server<br></code></pre></td></tr></table></figure></code></pre><ul><li><p>答案 A</p><ul><li>A: 请求头 ,用于告诉服务器请求来自哪里</li><li>B: 请求头 ,用于维护客户端和服务端的连接关系</li><li>C: 请求头 POST可用,响应头也可以使用</li><li>D: 响应头 web服务器软件名称</li></ul></li><li><p>解析</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">常见的请求头</span>   <span class="hljs-string">客户端</span> <span class="hljs-string">-&gt;</span> <span class="hljs-string">服务端[request]</span>  <br>    <span class="hljs-attr">Accept:</span> <span class="hljs-string">*/*(客户端能接收的资源类型)</span><br>    <span class="hljs-attr">Accept-Language:</span> <span class="hljs-string">en-us(客户端接收的语言类型)</span><br>    <span class="hljs-attr">Connection:</span> <span class="hljs-string">Keep-Alive(维护客户端和服务端的连接关系)</span><br>    <span class="hljs-attr">Host:</span> <span class="hljs-string">localhost:8080(连接的目标主机和端口号)</span><br>    <span class="hljs-attr">Referer:</span> <span class="hljs-string">http://localhost/links.asp(告诉服务器我来自于哪里)</span><br>    <span class="hljs-attr">User-Agent:</span> <span class="hljs-string">Mozilla/4.0(客户端版本号的名字)</span><br>    <span class="hljs-attr">Accept-Encoding:</span> <span class="hljs-string">gzip,</span> <span class="hljs-string">deflate(客户端能接收的压缩数据的类型)</span><br>    <span class="hljs-attr">If-Modified-Since:</span> <span class="hljs-string">Tue,</span> <span class="hljs-number">11</span> <span class="hljs-string">Jul</span> <span class="hljs-number">2000 18:23:51 </span><span class="hljs-string">GMT(缓存时间)</span> <br>    <span class="hljs-attr">Cookie:</span> <span class="hljs-string">(客户端暂存服务端的信息)</span><br>    <span class="hljs-attr">Date:</span> <span class="hljs-string">Tue,</span> <span class="hljs-number">11</span> <span class="hljs-string">Jul</span> <span class="hljs-number">2000 18:23:51 </span><span class="hljs-string">GMT(客户端请求服务端的时间)</span><br>    <span class="hljs-attr">Content-Type:</span> <span class="hljs-string">请求的与实体对应的MIME信息。(POST方式的请求头携带)</span><br></code></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">常见的响应头</span>   <span class="hljs-string">服务端[response]</span> <span class="hljs-string">-&gt;</span> <span class="hljs-string">客户端</span>  <br><span class="hljs-attr">Location:</span> <span class="hljs-string">http://www.baidu.com(服务端需要客户端访问的页面路径)</span> <br>    <span class="hljs-attr">Server:</span> <span class="hljs-string">apache</span> <span class="hljs-string">tomcat(服务端的Web服务端名)</span><br>    <span class="hljs-attr">Content-Encoding:</span> <span class="hljs-string">gzip(服务端能够发送压缩编码类型)</span> <br>    <span class="hljs-attr">Content-Length:</span> <span class="hljs-number">80</span><span class="hljs-string">(服务端发送的压缩数据的长度)</span> <br>    <span class="hljs-attr">Content-Language:</span> <span class="hljs-string">zh-cn(服务端发送的语言类型)</span> <br>    <span class="hljs-attr">Content-Type:</span> <span class="hljs-string">text/html;</span> <span class="hljs-string">charset=GB2312(服务端发送的类型及采用的编码方式)</span><br>    <span class="hljs-attr">Last-Modified:</span> <span class="hljs-string">Tue,</span> <span class="hljs-number">11</span> <span class="hljs-string">Jul</span> <span class="hljs-number">2000 18:23:51 </span><span class="hljs-string">GMT(服务端对该资源最后修改的时间)</span><br>    <span class="hljs-attr">Refresh:</span> <span class="hljs-number">1</span><span class="hljs-string">;url=http://www.it315.org(服务端要求客户端1秒钟后，刷新，然后访问指定的页面路径)</span><br>    <span class="hljs-attr">Content-Disposition:</span> <span class="hljs-string">attachment;</span> <span class="hljs-string">filename=aaa.zip(服务端要求客户端以下载文件的方式打开该文件)</span><br>    <span class="hljs-attr">Transfer-Encoding:</span> <span class="hljs-string">chunked(分块传递数据到客户端）</span>  <br>    <span class="hljs-attr">Set-Cookie:</span> <span class="hljs-string">SS=Q0=5Lb_nQ;</span> <span class="hljs-string">path=/search(服务端发送到客户端的暂存数据)</span><br>    <span class="hljs-attr">Expires:</span> <span class="hljs-number">-1</span><span class="hljs-string">//3种(服务端禁止客户端缓存页面数据)</span><br>    <span class="hljs-attr">Cache-Control:</span> <span class="hljs-literal">no</span><span class="hljs-string">-***(服务端禁止客户端缓存页面数据)</span>  <br>    <span class="hljs-attr">Pragma:</span> <span class="hljs-literal">no</span><span class="hljs-string">-***(服务端禁止客户端缓存页面数据)</span>   <br>    <span class="hljs-attr">Connection:</span> <span class="hljs-string">close(1.0)/(1.1)Keep-Alive(维护客户端和服务端的连接关系)</span>  <br>    <span class="hljs-attr">Date:</span> <span class="hljs-string">Tue,</span> <span class="hljs-number">11</span> <span class="hljs-string">Jul</span> <span class="hljs-number">2000 18:23:51 </span><span class="hljs-string">GMT(服务端响应客户端的时间)</span><br></code></pre></td></tr></table></figure><p><a href="http://tools.jb51.net/table/http_header">HTTP响应头和请求头信息对照表</a></p></li></ul><h3 id="题目2"><a href="#题目2" class="headerlink" title="题目2"></a>题目2</h3><figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs isbl">下面哪种方法可以实现匹配包含给定文本的元素？(<span class="hljs-variable">jQuery</span>知识点)<br><span class="hljs-variable">A</span>: <span class="hljs-function"><span class="hljs-title">text</span>()</span><br><span class="hljs-variable">B</span>: <span class="hljs-function"><span class="hljs-title">contains</span>(<span class="hljs-variable">text</span>)</span><br><span class="hljs-variable">C</span>: <span class="hljs-function"><span class="hljs-title">input</span>()</span><br><span class="hljs-variable">D</span>: <span class="hljs-function"><span class="hljs-title">attr</span>(<span class="hljs-variable">name</span>)</span><br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>B</li></ul></li><li><p>解析</p><ul><li><p>A: 用于获取或者设置指定元素的文本内容</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//示例,这里演示的是获取</span><br>&lt;div <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;demo-container&quot;</span>&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;demo-box&quot;</span>&gt;</span>内容1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>内容2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>内容3</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>小弟1<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span>小弟2</span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml"> <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br>&lt;/div&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">var</span> a = $(<span class="hljs-string">&quot;.demo-container&quot;</span>).<span class="hljs-title function_">text</span>();<span class="hljs-comment">//结果为 内容1 内容2 内容3小弟1小弟2</span></span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure></li><li><p>B: 选择所有包含指定文本的元素</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//获取&quot;内容1&quot;的元素</span><br>&lt;div&gt;内容<span class="hljs-number">1</span>&lt;/div&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>内容2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>内容3<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>内容3<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="hljs-comment">//js代码</span><br>$(<span class="hljs-string">&quot;div:contains(&#x27;内容3&#x27;)&quot;</span>);<span class="hljs-comment">//返回&lt;div&gt;内容3&lt;/div&gt;,当然,是封装成jQuery的DOM元素了,这里为了方便说明而直接说是DOM元素</span><br></code></pre></td></tr></table></figure></li><li><p>C: input() ,其实题目不应该这样子,应该是  <strong>:input</strong> </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs javascript">选择所有 input, textarea, select 和 button 元素. <br>&lt;form&gt;<br>   <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Input Button&quot;</span>/&gt;</span></span><br>   <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> /&gt;</span></span><br><br>   <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> /&gt;</span></span><br>   <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> /&gt;</span></span><br>   <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;image&quot;</span> /&gt;</span></span><br><br>   <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> /&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> /&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;reset&quot;</span> /&gt;</span></span><br><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> /&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> /&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>Option<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></span><br><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">textarea</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>Button<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&lt;/form&gt;<br>运行$(<span class="hljs-string">&quot;:input&quot;</span>)<br>返回:<br>[ <br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Input Button&quot;</span>/&gt;</span></span>,<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> /&gt;</span></span>,<br><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> /&gt;</span></span>,<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> /&gt;</span></span>,<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;image&quot;</span> /&gt;</span></span>,<br><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> /&gt;</span></span>,<br>   <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> /&gt;</span></span>,<br>   <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;reset&quot;</span> /&gt;</span></span>,<br><br>   <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> /&gt;</span></span>,<br>   <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> /&gt;</span></span>,<br>   <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>Option<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></span>,<br><br>   <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">textarea</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span></span>,<br>   <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>Button<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>,<br>]<br></code></pre></td></tr></table></figure></li><li><p>D:  attr(name) 获取指定属性名称的值</p></li></ul></li></ul><h3 id="题目3"><a href="#题目3" class="headerlink" title="题目3"></a>题目3</h3><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">下列哪些函数是JavaScript的全局函数？(多选)<br><span class="hljs-symbol">A:</span> encodeURI<br><span class="hljs-symbol">B:</span> parseFloat<br><span class="hljs-symbol">C:</span> setTimeout<br><span class="hljs-symbol">D:</span> eval<br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>A,B,D</li></ul></li><li><p>解析</p><ul><li><p>至于为什么C不是全局函数,MDN Web Docs解释这是一个Web API接口函数</p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220428152328.png" style="zoom:50%;" /></li><li><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects">JavaScript标准内置对象文档</a></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220428152354.png"></p></li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>今日刷题-数组的splice和map方法</title>
    <link href="/2022/04/27/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8827%E6%97%A5%E5%88%B7%E9%A2%98/"/>
    <url>/2022/04/27/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8827%E6%97%A5%E5%88%B7%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h3><figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs isbl">以下哪些<span class="hljs-variable">Array</span>对象的方法不会更改原有数组？(多选)<br><span class="hljs-variable">A</span>: <span class="hljs-function"><span class="hljs-title">concat</span>()</span><br><span class="hljs-variable">B</span>: <span class="hljs-function"><span class="hljs-title">splice</span>()</span><br><span class="hljs-variable">C</span>: <span class="hljs-function"><span class="hljs-title">map</span>()</span><br><span class="hljs-variable">D</span>: <span class="hljs-function"><span class="hljs-title">sort</span>()</span><br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>A,C</li></ul></li><li><p>解析</p><ul><li><p>A: 用于连接字符串的操作,返回一个连接后的字符串</p></li><li><p>B: splice用于对数组进行增,删,改,会对原数组进行修改,返回值为增加,删除,修改后的数组(可以理解为修剪后产生的屑)</p></li><li><p>C: map函数遍历数组每一项,并将其返回值作为新值传递给新数组</p><ul><li>比如 [1,2,3].map(item,index,array&#x3D;&gt;{return item * 2 }); &#x2F;&#x2F;返回[2,4,6]</li></ul></li><li><p>D: 对数组进行排序</p><ul><li>array.sort( ( a , b ) &#x3D;&gt; { return a - b } );&#x2F;&#x2F; 升序</li><li>array.sort ( ( a , b ) ) &#x3D;&gt; { return b - a } ;&#x2F;&#x2F; 降序</li></ul></li><li><pre><code class="hljs">会改变数组的方法:                            不会改变数组的方法:push()   filterpop()   concatshift()   sliceunshift()   mapsplice()sort()reverse()forEach()</code></pre></li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>今日刷题-注意数组的一些方法</title>
    <link href="/2022/04/26/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8826%E6%97%A5%E5%88%B7%E9%A2%98/"/>
    <url>/2022/04/26/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8826%E6%97%A5%E5%88%B7%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h3><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">在下列Promise所提供的方法中，用来向成功或者失败的回调函数队列中添加回调函数的是（ ）<br><span class="hljs-symbol">A:</span> done<br><span class="hljs-symbol">B:</span> fail<br><span class="hljs-symbol">C:</span> always <br><span class="hljs-symbol">D:</span> then <br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>D</li></ul></li><li><p>解析</p><ul><li><p>A没有,B也不存在,C为一个扩展(不管有没有成功失败都会调用),D的回调有二个参数,第一个是成功回调,第二个是失败回调</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br>    <span class="hljs-keyword">const</span> promise1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>        <span class="hljs-title function_">resolve</span>(<span class="hljs-string">&quot;事情解决&quot;</span>);<br>    &#125;);<br>    <span class="hljs-comment">//promise对象.then(成功回调,失败回调);</span><br>    promise1.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;我是成功回调&quot;</span>, value);<br>    &#125;, <span class="hljs-function">(<span class="hljs-params">reason</span>) =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;我是失败回调&quot;</span>, value);<br>    &#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure></li><li><p>至于C选项,是一个扩展,可以安装npm &#96;&#96;install<code> </code>es6-promise-always –save</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-comment">//always(data, error) data: resolve的数据。 error: reject的数据。</span><br>require(<span class="hljs-string">&quot;es6-promise-always&quot;</span>)<br><br>axios.get(<span class="hljs-string">&quot;/&quot;</span>).then(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>&#123;<br><br> <span class="hljs-comment">//处理逻辑</span><br><br>&#125;).always(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>&#123;<br><br> <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;请求结束&quot;</span>)<br><br> hideLoading();<br><br>&#125;)<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//Promise杂烩示例</span><br>axios(<span class="hljs-string">&quot;www.baidu.com&quot;</span>).then(function(data) &#123;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-number">50</span>&gt;<span class="hljs-number">10</span>) &#123;<br>      <span class="hljs-keyword">return</span> data.json();<br>    &#125;<br>    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">&quot;出错了!&quot;</span>);<br>  &#125;)<br>  .then(function(data) &#123; console.log(<span class="hljs-string">&quot;我要处理返回的数据&quot;</span>) &#125;)<br>  .<span class="hljs-keyword">catch</span>(function(error) &#123; console.log(<span class="hljs-string">&quot;失败原因&quot;</span>,error); &#125;)<br>  .<span class="hljs-keyword">finally</span>(function() &#123; console.log(<span class="hljs-string">&quot;不管怎么样我都要执行&quot;</span>) &#125;);<br></code></pre></td></tr></table></figure></li></ul></li></ul><h3 id="题目2"><a href="#题目2" class="headerlink" title="题目2"></a>题目2</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript">以下符合 <span class="hljs-title class_">ES6</span> 写法的有<br><span class="hljs-attr">A</span>:  <span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span><br>    &#123;<br>        <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;<span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-literal">null</span>);&#125;<br>    &#125;<br>    <span class="hljs-title class_">Foo</span>()<br><span class="hljs-attr">B</span>: <span class="hljs-keyword">var</span> m=<span class="hljs-number">1</span>;<br>   <span class="hljs-keyword">export</span> m;<br><span class="hljs-attr">C</span>: <span class="hljs-keyword">export</span> <span class="hljs-keyword">var</span> firstName=’<span class="hljs-title class_">Michael</span>’;<br><span class="hljs-attr">D</span>: 在A模块中<span class="hljs-keyword">export</span>&#123;readFile&#125;后，在B模块中<span class="hljs-keyword">import</span> readFile <span class="hljs-keyword">from</span> ‘A’可以获取到readFile<br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>C</li></ul></li><li><p>解析</p><ul><li><p>A: Fun() 把 class 当成方法来用？ var fun &#x3D; new Func() 这样用就对了</p></li><li><p>B :暴露方式不对</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs routeros">1. 分别暴露 <span class="hljs-built_in">export</span> let <span class="hljs-attribute">length</span>=<span class="hljs-string">&quot;100&quot;</span>;export function <span class="hljs-built_in">add</span>()&#123;console.log(<span class="hljs-string">&quot;干饭&quot;</span>)&#125;<br>引入: <span class="hljs-built_in">export</span> &#123;length,add&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./module.js&quot;</span>;<br>2. 统一暴露 <span class="hljs-built_in">export</span> &#123;暴露的数据键值对&#125; 比如:var a = 10; <span class="hljs-built_in">export</span> &#123; a &#125;;<br>引入: <span class="hljs-built_in">export</span> &#123;length,add&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./module.js&quot;</span>;<br>3. 默认暴露 <span class="hljs-built_in">export</span><span class="hljs-built_in"> default </span>暴露的数据,比如<span class="hljs-built_in">export</span><span class="hljs-built_in"> default </span>var a = 10;<br>引入:import a <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./module.js&quot;</span>;<br></code></pre></td></tr></table></figure></li><li><p>C: 正确的,分别暴露</p></li><li><p>D: 缺少了 {  }  符号,正确应该为import {readFile} from ‘A’</p></li></ul></li></ul><p>​<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/export">export文档</a> <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/import">import文档</a></p><h3 id="题目3"><a href="#题目3" class="headerlink" title="题目3"></a>题目3</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">以下代码执行后，array 的结果是？<br><span class="hljs-keyword">let</span> array = [,<span class="hljs-number">1</span>,,<span class="hljs-number">2</span>,,<span class="hljs-number">3</span>];<br>array = array.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">i</span>) =&gt;</span> ++i)<br><span class="hljs-attr">A</span>: [,<span class="hljs-number">2</span>,,<span class="hljs-number">3</span>,,<span class="hljs-number">4</span>]<br><span class="hljs-attr">B</span>: [<span class="hljs-title class_">NaN</span>,<span class="hljs-number">2</span>,<span class="hljs-title class_">NaN</span>,<span class="hljs-number">3</span>,<span class="hljs-title class_">NaN</span>,<span class="hljs-number">4</span>]<br><span class="hljs-attr">C</span>: [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">1</span>,<span class="hljs-number">4</span>]<br><span class="hljs-attr">D</span>: [<span class="hljs-literal">null</span>,<span class="hljs-number">2</span>,<span class="hljs-literal">null</span>,<span class="hljs-number">3</span>,<span class="hljs-literal">null</span>,<span class="hljs-number">4</span>]<br></code></pre></td></tr></table></figure><ul><li>答案<ul><li>A</li></ul></li><li>解析<ul><li>orEach(), filter(), reduce(), every() 和some()都会跳过空位。</li><li>map()会跳过空位，但会保留这个值。</li><li>join()和toString()会将空位视为undefined，而undefined和null会被处理成空字符串。</li><li>ES6 中都会将空位当做undefined</li></ul></li></ul><h3 id="题目4"><a href="#题目4" class="headerlink" title="题目4"></a>题目4</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">以下哪些方法会返回一个数组？(多选)<br><span class="hljs-attr">A</span>: <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>()<br><span class="hljs-attr">B</span>: <span class="hljs-title class_">String</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-title function_">split</span>()<br><span class="hljs-attr">C</span>: <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-title function_">join</span>()<br><span class="hljs-attr">D</span>: <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>()<br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>A,B</li></ul></li><li><p>解析</p><ul><li>A: Object.keys()返回对象的key值所组成的数组(key要为可枚举)</li><li>B: String.prototype.split()分割字符串,返回分割后的数组</li><li>C: Array.prototype.join()方法将一个数组（或一个类数组对象）的所有元素连接成一个字符串并返回这个字符串。如果数组只有一个项目，那么将返回该项目而不使用分隔符。</li><li>D:   Promise.all(iterable) 方法返回一个 Promise 实例，此实例在 iterable 参数内所有的 promise 都“完成（resolved）”或参数中不包含 promise 时回调完成（resolve）；<br>如果参数中 promise 有一个失败（rejected），此实例回调失败（reject），失败原因的是第一个失败 promise 的结果。</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br>    <span class="hljs-keyword">var</span> obj = &#123;<br>        <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;李白&quot;</span>,<br>        <span class="hljs-attr">age</span>:<span class="hljs-number">1000</span>,<br>    &#125;;<br>    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(obj,<span class="hljs-string">&quot;sex&quot;</span>,&#123;<br>        <span class="hljs-attr">value</span>:<span class="hljs-string">&quot;男&quot;</span>,<br>        <span class="hljs-attr">enumerable</span>:<span class="hljs-literal">false</span><br>    &#125;);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj);<span class="hljs-comment">//&#123;name: &#x27;李白&#x27;, age: 1000, sex: &#x27;男&#x27;&#125;</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(obj));<span class="hljs-comment">//[&#x27;name&#x27;, &#x27;age&#x27;]</span><br>&lt;/script&gt;<br></code></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>今日刷题-let的暂时性死锁</title>
    <link href="/2022/04/25/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8825%E6%97%A5%E5%88%B7%E9%A2%98/"/>
    <url>/2022/04/25/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8825%E6%97%A5%E5%88%B7%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript">以下代码执行后，输出结果为（） <br><span class="hljs-keyword">let</span> x = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-title function_">foo</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x);<br>    <span class="hljs-keyword">let</span> x = <span class="hljs-number">20</span>;<br>    x++;<br>&#125;<br><span class="hljs-title function_">foo</span>();<br><span class="hljs-attr">A</span>: 抛出<span class="hljs-title class_">ReferenceError</span><br><span class="hljs-attr">B</span>: <span class="hljs-number">10</span><br><span class="hljs-attr">C</span>: <span class="hljs-number">20</span><br><span class="hljs-attr">D</span>: <span class="hljs-number">21</span><br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>A</li></ul></li><li><p>解析</p><ul><li><p>需要知道的知识点</p><ul><li>let变量的没有变量提升的</li><li>只要块级作用域内存在let命令，它所声明的变量就“绑定”（binding）这个区域，不再受外部的影响。**(暂时性死区)**</li><li>上面这句话说通俗点: 就是只要let所在定义域下(也就是在函数当中的 <code>&#123; &#125;</code> 当中),<strong>在let代码没有执行之前</strong>,如果这个时候有一段代码对let声明的变量名称<strong>进行了访问并且代码执行了</strong>(  比如console.log() ) ,那么就会发生报错!</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//注意下面这种情况</span><br><span class="hljs-keyword">let</span> <span class="hljs-title function_">foo</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x);<span class="hljs-comment">//输出x=10;</span><br>    x++;<br>&#125;<br><span class="hljs-keyword">let</span> x = <span class="hljs-number">10</span>;<br><span class="hljs-title function_">foo</span>();<br><span class="hljs-comment">//结合上面说所的,分析下过程</span><br><span class="hljs-comment">//就是只要let所在定义域下(也就是在函数当中的 `&#123; &#125;` 当中)</span><br><span class="hljs-comment">//在let代码没有执行之前</span><br><span class="hljs-comment">//如果这个时候有一段代码对let声明的变量名称进行了访问</span><br><span class="hljs-comment">//(  比如console.log() ) ,那么就会发生报错!</span><br><br><span class="hljs-comment">//拆解 执行过程</span><br><span class="hljs-comment">//第一步</span><br><span class="hljs-keyword">let</span> foo = &#123;...&#125;;<span class="hljs-comment">//此时函数并没有执行,所以不存在对let变量进行访问并执行,所以不报错</span><br><span class="hljs-comment">//第二步</span><br><span class="hljs-keyword">let</span> x = <span class="hljs-number">10</span>;<br><span class="hljs-comment">//第三步</span><br><span class="hljs-title function_">foo</span>();<br><br></code></pre></td></tr></table></figure></li><li><p><a href="https://es6.ruanyifeng.com/#docs/let">具体let知识(这里解释的更完整)</a></p></li></ul></li></ul><h5 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h5><p><strong>es6中的class和let const一样都不存在提升</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 在位置A打印变量a与在位置B打印变量a各会有怎样的输出？</span><br>原来的代码 <br><span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-comment">//console.log(a) 位置A</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">a</span> &#123;&#125;<br>   <span class="hljs-comment">// console.log(a) 位置B</span><br>&#125;<br><span class="hljs-title function_">test</span>();<br><br>实际上提升后的<br><span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a) 位置A <span class="hljs-comment">//在test()作用域内找得到a</span><br><span class="hljs-comment">//是一个class但是存在TDZ暂时性死区，访问报错</span><br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">a</span> &#123;&#125;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a) 位置B <span class="hljs-comment">//a已经声明创建出来了</span><br>&#125;<br><span class="hljs-title function_">test</span>()<br></code></pre></td></tr></table></figure><h3 id="题目2"><a href="#题目2" class="headerlink" title="题目2"></a>题目2</h3><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">下列表达式中，返回值为<span class="hljs-literal">true</span>的是（）多选<br>①<span class="hljs-built_in">Object</span>.<span class="hljs-keyword">is</span>(<span class="hljs-literal">NaN</span>,<span class="hljs-literal">NaN</span>)<br><br>②<span class="hljs-built_in">Object</span>.<span class="hljs-keyword">is</span>(+<span class="hljs-number">0</span>,<span class="hljs-number">-0</span>)<br><br>③<span class="hljs-literal">NaN</span> === <span class="hljs-literal">NaN</span><br><br>④+<span class="hljs-number">0</span> === <span class="hljs-number">-0</span><br></code></pre></td></tr></table></figure><ul><li>答案<ul><li>①④</li></ul></li><li>解析<ul><li>NaN和谁比较运算(+ - * &#x2F; &#x3D;&#x3D; ,&#x3D;&#x3D;&#x3D;&#x3D;)都是false</li><li>indexOf无法识别数组的NaN成员也就是[NaN].indexOf(NaN)输出结果为-1(代表未找到),所以想要找到数组当中NaN就可以使用includes,[1,2,NaN].includes(NaN)返回为true</li><li>Object.is()方法认为NaN等于NaN (没得说,记!)<ul><li>Object.is(NaN, NaN) &#x2F;&#x2F; true</li><li>Object.is(+0, -0) &#x2F;&#x2F; false</li><li>+0&#x3D;&#x3D;&#x3D;-0的返回结果为true</li></ul></li></ul></li></ul><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">以下哪些事件支持冒泡？(多选)<br><span class="hljs-symbol">A:</span> mouseenter<br><span class="hljs-symbol">B:</span> scroll<br><span class="hljs-symbol">C:</span> focus<br><span class="hljs-symbol">D:</span> keypress<br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>B D</li></ul></li><li><p>解析</p><ul><li><p>看图就好~</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/%E5%8F%AF%E4%BB%A5%E5%86%92%E6%B3%A1%E5%92%8C%E4%B8%8D%E5%8F%AF%E4%BB%A5%E5%86%92%E6%B3%A1%E7%9A%84.png"></p></li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>今日刷题-注意let</title>
    <link href="/2022/04/24/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8824%E6%97%A5%E5%88%B7%E9%A2%98/"/>
    <url>/2022/04/24/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8824%E6%97%A5%E5%88%B7%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h3><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">下列不属于document对象方法的是？(多选)<br><span class="hljs-symbol">A:</span> onload<br><span class="hljs-symbol">B:</span> querySelectorAll<br><span class="hljs-symbol">C:</span> children<br><span class="hljs-symbol">D:</span> ajax<br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>A,C,D</li></ul></li><li><p>解析</p><ul><li><p>A: onload <strong>属性</strong>是一个事件处理程序用于处理Window, XMLHttpRequest, &lt;img&gt; 等元素的加载事件，当资源已加载时被触发。</p><p>比如window.onload &#x3D; function ( ) { }</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/GlobalEventHandlers/onload">可以参考</a></p></li><li><p>B: document.querySelectorAll(“选择器”)</p></li><li><p>C: parentNode.children  是属性,用于DOM节点查询子元素</p><ul><li>childNodes 属性返回所有的节点，包括文本节点、注释节点</li><li>children 属性只返回元素节点</li></ul></li><li><p>D: AJAX不是JavaScript的规范，它只是一个缩写：Asynchronous JavaScript and XML，意思就是用JavaScript执行异步网络请求。在现代浏览器中主要依靠 XmlHttpRequest 对象</p></li></ul></li></ul><h3 id="题目2"><a href="#题目2" class="headerlink" title="题目2"></a>题目2</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//请问以下JS代码的输出是什么？</span><br><span class="hljs-keyword">let</span> A = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;&#125;<br>A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">a</span> = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">let</span> B = <span class="hljs-keyword">new</span> <span class="hljs-title function_">A</span>();<br>A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = &#123;<br>  <span class="hljs-attr">b</span>: <span class="hljs-number">2</span>,<br>  <span class="hljs-attr">c</span>: <span class="hljs-number">3</span><br>&#125;<br><span class="hljs-keyword">let</span> C = <span class="hljs-keyword">new</span> <span class="hljs-title function_">A</span>();<br>A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">d</span> = <span class="hljs-number">4</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(B.<span class="hljs-property">a</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(B.<span class="hljs-property">b</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(C.<span class="hljs-property">c</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(C.<span class="hljs-property">d</span>);<br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>1    undefined   3   4</li></ul></li><li><p>解析</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> A = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;&#125;<br>A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">a</span> = <span class="hljs-number">1</span>; <br><span class="hljs-comment">//此时 A.prototype = &#123; a: 1 &#125;</span><br><br><br><span class="hljs-keyword">let</span> B = <span class="hljs-keyword">new</span> <span class="hljs-title function_">A</span>(); <span class="hljs-comment">//此时 B = &#123;&#125;</span><br><span class="hljs-comment">//在创建B时，已将B._proto_ = A.prototype = &#123; a: 1 &#125;</span><br><span class="hljs-comment">//即使后面A.prototype重新赋值，将A.prototype开辟了新的空间指向别的对象</span><br><span class="hljs-comment">//B._proto_并没有改，还是指向&#123;a:1&#125;这个对象</span><br><br><br>A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = &#123; <span class="hljs-comment">//此时 A.prototype = &#123; b: 2, c: 3 &#125;</span><br>  <span class="hljs-attr">b</span>: <span class="hljs-number">2</span>,<br>  <span class="hljs-attr">c</span>: <span class="hljs-number">3</span><br>&#125;<br><span class="hljs-keyword">let</span> C = <span class="hljs-keyword">new</span> <span class="hljs-title function_">A</span>(); <span class="hljs-comment">//C = &#123;&#125;</span><br>A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">d</span> = <span class="hljs-number">4</span>;<span class="hljs-comment">//此时A.prototype = &#123; b: 2, c: 3, d: 4 &#125;</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(B.<span class="hljs-property">a</span>); <span class="hljs-comment">//1</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(B.<span class="hljs-property">b</span>); <span class="hljs-comment">//undefined</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(C.<span class="hljs-property">c</span>); <span class="hljs-comment">//3</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(C.<span class="hljs-property">d</span>); <span class="hljs-comment">//4</span><br><br><span class="hljs-comment">//C.d</span><br><span class="hljs-comment">//着重区分： A.prototype.d = 4 和 A.prototype 重新赋值 不是一个概念 </span><br><span class="hljs-comment">//A.prototype重新赋值时，A.prototype已经指向另一个对象了   </span><br><span class="hljs-comment">//A.prototype.d = 4时，访问的还是同一个A.prototype 对象 </span><br><br></code></pre></td></tr></table></figure></li></ul><h3 id="题目3"><a href="#题目3" class="headerlink" title="题目3"></a>题目3</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//执行以下代码，下列选项中，说法正确的是（）</span><br><span class="hljs-keyword">function</span> * <span class="hljs-title function_">gen</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">yield</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">yield</span> <span class="hljs-number">2</span>;<br>    <span class="hljs-keyword">yield</span> <span class="hljs-number">3</span>;<br>&#125;<br><span class="hljs-attr">A</span>: <span class="hljs-title function_">gen</span>()执行后返回<span class="hljs-number">2</span><br><span class="hljs-attr">B</span>: <span class="hljs-title function_">gen</span>()执行后返回<span class="hljs-literal">undefined</span><br><span class="hljs-attr">C</span>: <span class="hljs-title function_">gen</span>()执行后返回一个<span class="hljs-title class_">Generator</span>对象<br><span class="hljs-attr">D</span>: <span class="hljs-title function_">gen</span>()执行后返回<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><ul><li>答案<ul><li>C</li></ul></li><li>解析<ul><li>在函数声明时，由于带有星号，所以gen函数是一个生成器函数，调用生成器函数会返回生成器（Generator）对象，C选项正确。</li></ul></li></ul><h3 id="题目4"><a href="#题目4" class="headerlink" title="题目4"></a>题目4</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">在 es6 中，下面程序运行结果输出，选项结果正确的是<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">12</span>;i++)&#123;&#125; <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i);<br><span class="hljs-keyword">const</span> a = <span class="hljs-number">12</span>;a=<span class="hljs-number">13</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br><span class="hljs-keyword">const</span> g = &#123;<span class="hljs-attr">b</span>:<span class="hljs-number">3</span>&#125;;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(g.<span class="hljs-property">b</span>);<br>g.<span class="hljs-property">b</span>=<span class="hljs-number">12</span>;<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(g.<span class="hljs-property">b</span>);<br><span class="hljs-keyword">let</span> [head,...tail] = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>];<br>conole.<span class="hljs-title function_">log</span>(tail);<br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>i not defined,TypeError,3,12,[2,3,4]</li></ul></li><li><p>解析</p><ul><li>let 与var不同，存在块级作用域，在for循环中声明，循环之外销毁 所以 i not defined (for当中也是一个块级作用域,没想到)</li><li>const 声明一个常量无法更改，所以TypeError(这里是分号,不是逗号!!),但是const声明一个对象是可以改对象里面的属性的</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>我来图书馆小程序加密后抓包分析反编译抢位置</title>
    <link href="/2022/04/23/NodeJs/%E6%88%91%E6%9D%A5%E5%9B%BE%E4%B9%A6%E9%A6%86%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%8A%A0%E5%AF%86%E5%90%8E%E6%8A%93%E5%8C%85%E5%88%86%E6%9E%90%E5%8F%8D%E7%BC%96%E8%AF%91%E6%8A%A2%E4%BD%8D%E7%BD%AE/"/>
    <url>/2022/04/23/NodeJs/%E6%88%91%E6%9D%A5%E5%9B%BE%E4%B9%A6%E9%A6%86%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%8A%A0%E5%AF%86%E5%90%8E%E6%8A%93%E5%8C%85%E5%88%86%E6%9E%90%E5%8F%8D%E7%BC%96%E8%AF%91%E6%8A%A2%E4%BD%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h3 id="提交预约流程"><a href="#提交预约流程" class="headerlink" title="提交预约流程"></a>提交预约流程</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220406093101.png"></p><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><ol><li>抓包分析好像还涉及到wxlib&#x2F;wx&#x2F;login 不过从后面提交数据来看好像用不到,可能我技术问题吧</li></ol><h3 id="抓包分析"><a href="#抓包分析" class="headerlink" title="抓包分析"></a>抓包分析</h3><h4 id="有人可能最新微信PC抓不了小程序包"><a href="#有人可能最新微信PC抓不了小程序包" class="headerlink" title="有人可能最新微信PC抓不了小程序包"></a>有人可能最新微信PC抓不了小程序包</h4><h5 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h5><ol><li><p>打开一个任意小程序，打开任务管理器，找到进程。右键打开文件位置。</p></li><li><p>退出电脑微信，右键结束小程序进程。</p></li><li><p>找到这个目录后删除这个目录<img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220406093447.png"></p></li><li><p>或者你有everything这个工具,直接搜索 WMPFRuntime 然后右键打开所在文件夹,把里面这个4376目录删除就可以</p></li></ol><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220406093433.png"></p><h4 id="2-0新变化"><a href="#2-0新变化" class="headerlink" title="2.0新变化"></a>2.0新变化</h4><ul><li>位置预约的一些信息加密了</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220423170137.png"></p><h3 id="预约信息加密解决"><a href="#预约信息加密解决" class="headerlink" title="预约信息加密解决"></a>预约信息加密解决</h3><h4 id="反编译"><a href="#反编译" class="headerlink" title="反编译"></a>反编译</h4><p><a href="https://github.com/Cherrison/CrackMinApp">微信小程序反编译</a></p><p>这次小程序反编译出来的文件</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220423171817.png"></p><h4 id="反编译后查看源代码"><a href="#反编译后查看源代码" class="headerlink" title="反编译后查看源代码"></a>反编译后查看源代码</h4><ul><li><p>预约位置关键代码</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220423170658.png"></p></li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">RSA加密的,跟着他代码来就可以<br></code></pre></td></tr></table></figure><ul><li><p><strong>找啊找,发现找到了,在app.js当中是rsa.modules和exponent加密代码</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220423170856.png"></p></li><li><p>找啊找,找到了小程序图书馆调用的函数工具库</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220423171000.png"></p></li><li><p>接下来就简答了,模拟导入就可以了</p></li></ul><h3 id="计算生成预约js-nodejs下运行-代码"><a href="#计算生成预约js-nodejs下运行-代码" class="headerlink" title="计算生成预约js(nodejs下运行)代码"></a>计算生成预约js(nodejs下运行)代码</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> ttt = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;./security.js&quot;</span>);<br><span class="hljs-keyword">var</span> modulus = <span class="hljs-string">&quot;&quot;</span>;<span class="hljs-comment">//拆包一下就知道</span><br><span class="hljs-keyword">var</span> exponent = <span class="hljs-string">&quot;010001&quot;</span>;<br><span class="hljs-keyword">var</span> iii = ttt.<span class="hljs-title function_">getKeyPair</span>(exponent, <span class="hljs-string">&quot;&quot;</span>, modulus);<br><span class="hljs-comment">// time_end时间截止</span><br><span class="hljs-comment">//时间段,1代表8:00-12:00时间段</span><br><span class="hljs-comment">//时间段,2代表12:00-17:00时间段</span><br><span class="hljs-comment">//时间段,3代表17:30-23:00时间段</span><br><span class="hljs-comment">//day_time日期时间 2022-04-10</span><br><span class="hljs-comment">//num 为时间段</span><br><span class="hljs-keyword">var</span> id = <span class="hljs-number">11</span>;<br><span class="hljs-keyword">var</span> vd_id = <span class="hljs-number">8235</span>; <span class="hljs-comment">//区域代码</span><br><span class="hljs-keyword">var</span> num = <span class="hljs-number">1</span>; <span class="hljs-comment">//是预约时间段1 2 3</span><br><span class="hljs-keyword">var</span> day_time = <span class="hljs-string">&quot;2022-04-23&quot;</span>; <span class="hljs-comment">//预约日期</span><br><span class="hljs-keyword">var</span> time_end = <span class="hljs-string">&quot;23:00&quot;</span>; <span class="hljs-comment">//截止时间段</span><br><span class="hljs-comment">// var r = a.data.selectSeat.id + &quot;,&quot; + a.data.selectSeat.vd_id + &quot;,&quot; + a.data.urlOptions.num + &quot;,&quot; + a.data.urlOptions.day_time + &quot;, &quot; + a.data.urlOptions.time_end</span><br><span class="hljs-keyword">var</span> rsa_data = id + <span class="hljs-string">&quot;,&quot;</span> + vd_id + <span class="hljs-string">&quot;,&quot;</span> + num + <span class="hljs-string">&quot;,&quot;</span> + day_time + <span class="hljs-string">&quot;, &quot;</span> + time_end;<br><br><span class="hljs-comment">//预约位置的时候的加密算法</span><br><span class="hljs-keyword">var</span> rsa_result = ttt.<span class="hljs-title function_">encryptedString</span>(iii, rsa_data);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;预约加密代码&quot;</span>,rsa_result);<span class="hljs-comment">//也就是获取info部分</span><br></code></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">接下来就简答了如果有了这个预约加密代码<br></code></pre></td></tr></table></figure><h3 id="提交预约代码"><a href="#提交预约代码" class="headerlink" title="提交预约代码"></a>提交预约代码</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> userSeatInfoOption=&#123;<br>    <span class="hljs-attr">method</span>:<span class="hljs-string">&quot;get&quot;</span>,<br>    <span class="hljs-attr">url</span>:<span class="hljs-string">&quot;https://wxcourse.jxufe.cn/wxlib/wx/appoint&quot;</span>,<br>    <span class="hljs-attr">params</span>:&#123;<br>        <span class="hljs-string">&#x27;isPeriod&#x27;</span>: <span class="hljs-number">1</span>,<br>        <span class="hljs-string">&#x27;userId&#x27;</span>: <span class="hljs-string">&quot;&quot;</span>,<span class="hljs-comment">//依旧是抓包获取</span><br>        <span class="hljs-string">&#x27;appointType&#x27;</span>: <span class="hljs-number">0</span>,<br>        <span class="hljs-string">&#x27;officeCode&#x27;</span>: <span class="hljs-string">&quot;jxcjdx&quot;</span>,<br>        <span class="hljs-string">&#x27;colleageId&#x27;</span>: <span class="hljs-number">51</span>,<br>        <span class="hljs-comment">//添加加密后的字段</span><br>        <span class="hljs-string">&#x27;info&#x27;</span>:<span class="hljs-string">&quot;&quot;</span><br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h3><ul><li>预约加密代码</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220423171533.png"></p><ul><li><p>预约成功</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220423171737.png"></p></li></ul>]]></content>
    
    
    <categories>
      
      <category>javscript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NodeJs</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ProcessOn的官网(less+jquery实现三端)</title>
    <link href="/2022/04/23/%E5%89%8D%E7%AB%AF/ProcessOn/"/>
    <url>/2022/04/23/%E5%89%8D%E7%AB%AF/ProcessOn/</url>
    
    <content type="html"><![CDATA[<h3 id="ProcessOn的官网-less-jquery实现三端"><a href="#ProcessOn的官网-less-jquery实现三端" class="headerlink" title="ProcessOn的官网(less+jquery实现三端)"></a>ProcessOn的官网(less+jquery实现三端)</h3><ul><li>很基础的一个网站,没有什么特别的技术(懒加载也没有)</li><li>手机端,苹果端,PC端都通用,具体可以试试</li><li>不过有些小bug,那个图片滚动的,可能有些bug</li><li>在线演示地址<ul><li><a href="https://processon-demo.netlify.app/">https://processon-demo.netlify.app/</a></li></ul></li></ul><h3 id="展示"><a href="#展示" class="headerlink" title="展示"></a>展示</h3><h4 id="PC端"><a href="#PC端" class="headerlink" title="PC端"></a>PC端</h4><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/主页.png"/><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/主页1.png" /><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/主页3.png" /><h4 id="手机端-浏览器测试"><a href="#手机端-浏览器测试" class="headerlink" title="手机端(浏览器测试)"></a>手机端(浏览器测试)</h4><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220423144437.png" /><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220423144500.png" /><h4 id="平板端-浏览器测试"><a href="#平板端-浏览器测试" class="headerlink" title="平板端(浏览器测试)"></a>平板端(浏览器测试)</h4><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220423144535.png" /><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220423144555.png" /><h3 id="头部渐变效果-“免费扩容”这几个字"><a href="#头部渐变效果-“免费扩容”这几个字" class="headerlink" title="头部渐变效果(“免费扩容”这几个字)"></a>头部渐变效果(“免费扩容”这几个字)</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/slow.gif"></p><h4 id="滚动列表效果"><a href="#滚动列表效果" class="headerlink" title="滚动列表效果"></a>滚动列表效果</h4><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/scroll2.gif" /><h4 id="底部出现效果"><a href="#底部出现效果" class="headerlink" title="底部出现效果"></a>底部出现效果</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/showbottom.gif"></p><h4 id="一些改变时候的过渡"><a href="#一些改变时候的过渡" class="headerlink" title="一些改变时候的过渡"></a>一些改变时候的过渡</h4><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/slow20220423150040364202204231500566712.gif" /><h3 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h3><p><a href="https://github.com/superBiuBiuMan/processon_html_project">ProcessOn官网前端页面</a></p>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>javscript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>今日刷题-JavaScript的身份证正则和内置可迭代对象</title>
    <link href="/2022/04/23/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8823%E6%97%A5%E5%88%B7%E9%A2%98/"/>
    <url>/2022/04/23/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8823%E6%97%A5%E5%88%B7%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h3><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vbnet">以下哪些对象是Javascript内置的可迭代对象？(多选)<br><span class="hljs-symbol">A:</span> Array<br><span class="hljs-symbol">B:</span> Map<br><span class="hljs-symbol">C:</span> <span class="hljs-type">String</span><br><span class="hljs-symbol">D:</span> <span class="hljs-type">Object</span><br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>A,B,C</li></ul></li><li><p>解析</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">JavaScript</span>当中可迭代的对象有<br><span class="hljs-title class_">Array</span><br><span class="hljs-title class_">Map</span><br><span class="hljs-title class_">Set</span><br><span class="hljs-title class_">String</span><br><span class="hljs-title class_">TypedArray</span><br><span class="hljs-variable language_">arguments</span>对象(注意:箭头函数是没有<span class="hljs-variable language_">arguments</span>和<span class="hljs-variable language_">this</span>的,所以只有普通函数才有<span class="hljs-variable language_">arguments</span>)<br><span class="hljs-title class_">NodeList</span>对象(从<span class="hljs-variable language_">document</span>.<span class="hljs-property">getElementsByTagName</span>之类获取的节点列表)<br></code></pre></td></tr></table></figure></li></ul><h3 id="题目2"><a href="#题目2" class="headerlink" title="题目2"></a>题目2</h3><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs inform7">关于身份证号，以下正确的正则表达式为(多选)<br>A: isIDCard=/^<span class="hljs-comment">[1-9]</span>\d&#123;7&#125;((0\d)|(1<span class="hljs-comment">[0-2]</span>))((<span class="hljs-comment">[0|1|2]</span>\d)|3<span class="hljs-comment">[0-1]</span>)\d&#123;3&#125;$/<br><br>B: isIDCard=/^<span class="hljs-comment">[1-9]</span>\d&#123;7&#125;((9\d)|(1<span class="hljs-comment">[0-2]</span>))((<span class="hljs-comment">[0|1|2]</span>\d)|3<span class="hljs-comment">[9-1]</span>)\d&#123;3&#125;$/<br><br>C: isIDCard=/^<span class="hljs-comment">[1-9]</span>\d&#123;5&#125;<span class="hljs-comment">[1-9]</span>\d&#123;3&#125;((0\d)|(1<span class="hljs-comment">[0-2]</span>))((<span class="hljs-comment">[0|1|2]</span>\d)|3<span class="hljs-comment">[0-1]</span>)\d&#123;4&#125;$/<br><br>D: isIDCard=/^<span class="hljs-comment">[1-9]</span>\d&#123;5&#125;<span class="hljs-comment">[1-9]</span>\d&#123;3&#125;((9\d)|(1<span class="hljs-comment">[9-2]</span>))((<span class="hljs-comment">[0|1|2]</span>\d)|3<span class="hljs-comment">[9-1]</span>)\d&#123;4&#125;$/<br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>A ,C</li></ul></li><li><p>解析</p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs subunit">身份证构成<br>15位身份证的构成：六位出生地区码+六位出身日期码+三位顺序码<br>并且15位的身份证号码显示的年份00<span class="hljs-string">-99</span>,代表1900<span class="hljs-string">-1999</span>年,其他的和18为基本一致<br>18位身份证的构成：六位出生地区码+八位出生日期码+三位顺序码+一位校验码<br></code></pre></td></tr></table></figure><ul><li><p>A: </p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-section">^:以指定类型的开头,后面紧跟着什么就是以什么开头</span><br><span class="hljs-section">[1-9]\d&#123;7&#125;: 六位出生地区码+两位出生日期码的年份(00-99)</span><br><span class="hljs-section">((0\d)|(1[0-2])): 匹配月份,不足二位的前面填充0,也就是01,05</span><br><span class="hljs-section">(([0|1|2]\d)|3[0-1]): 匹配日,匹配01,10等或者30,31</span><br><span class="hljs-section">\d&#123;3&#125;$: 三位顺序码,并以数字结尾</span><br></code></pre></td></tr></table></figure></li><li><p>C: </p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs inform7">^:以指定类型的开头,后面紧跟着什么就是以什么开头<br><span class="hljs-comment">[1-9]</span>\d&#123;5&#125;: 匹配六位出生地区码<br><span class="hljs-comment">[1-9]</span>\d&#123;3&#125;: 匹配年份,年份不能为0开头,所以第一位就以<span class="hljs-comment">[1-9]</span>的情况出现<br>((0\d)|(1<span class="hljs-comment">[0-2]</span>)): 匹配月份,不足二位的前面填充0,也就是01,05<br>((<span class="hljs-comment">[0|1|2]</span>\d)|3<span class="hljs-comment">[0-1]</span>): 匹配日,匹配01,10等或者30,31<br>\d&#123;4&#125;$: 三位顺序码+一位校验码,并以数字结尾<br></code></pre></td></tr></table></figure></li></ul></li></ul><h3 id="额外"><a href="#额外" class="headerlink" title="额外"></a>额外</h3><ul><li>​jQuery当中的$符号还可以传入一个jQuery对象,代表创建该jQuery对象的一个副本并返回,副本与传入的jQuery对象引用完全相同的元素.</li><li>​JavaScript是解释性语言</li></ul>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>今日刷题-js的call,apply为null,undefined的情况和日期的注意点</title>
    <link href="/2022/04/22/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8822%E6%97%A5%E5%88%B7%E9%A2%98/"/>
    <url>/2022/04/22/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8822%E6%97%A5%E5%88%B7%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">a</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>);<br>&#125; <br>a.<span class="hljs-title function_">call</span>(<span class="hljs-literal">null</span>);<span class="hljs-comment">//输出结果为?</span><br></code></pre></td></tr></table></figure><ul><li>答案<ul><li>window</li></ul></li><li>解析<ul><li>call,apply用于改变this的指向,并且可以让任意函数成为某一对象的方法进行调用</li><li><strong>特别的是</strong><ul><li>null或undefined时，将是JS执行环境的全局变量。浏览器中是window，其它环境（如node）则是global。</li><li><a href="http://es5.github.io/#x15.3.4.4">ECMAScript5.1 15.3.4.4中有解释</a></li></ul></li></ul></li></ul><h3 id="题目2"><a href="#题目2" class="headerlink" title="题目2"></a>题目2</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">有<span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">&#x27;2018-05-09&#x27;</span>)，可以设置为<span class="hljs-number">6</span>月份的操作是？（）(多选)<br><span class="hljs-attr">A</span>:  d.<span class="hljs-title function_">setMonth</span>(<span class="hljs-number">7</span>);<br><span class="hljs-attr">B</span>:  d.<span class="hljs-title function_">setMonth</span>(<span class="hljs-number">6</span>);<br><span class="hljs-attr">C</span>:  d.<span class="hljs-title function_">setMonth</span>(<span class="hljs-number">5</span>);<br><span class="hljs-attr">D</span>:  d.<span class="hljs-title function_">setDate</span>(<span class="hljs-number">40</span>);<br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>C与D</li></ul></li><li><p>解析</p><ul><li><p>C : js当中的月份是从0开始算的,0代表1月,11代表12月,所以设置的时候需要减少1,所以d.setMonth(5)为设置6月份</p></li><li><p>D : 看看菜鸟教程当中的setDate(day)解释</p><table><thead><tr><th align="left">参数</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left"><em>day</em></td><td align="left">必需。<br /><strong>表示一个月中的一天的一个数值（1 ~ 31</strong>）<br />          0 为上一个月的最后一天<br />           -1 为上一个月最后一天之前的一天<br /><strong>如果当月有 31 天</strong><br />          32 为下个月的第一天<br /><strong>如果当月有 30 天</strong><br />           32 为下一个月的第二天</td></tr></tbody></table></li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//五月有31天,所以只需要大于31就是设置下一个月了(其实设置大于31的数字都可以设置到下一个月,只不过下一个是记号的区别而已~)</span><br><span class="hljs-keyword">var</span> time = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">&quot;2018-05-09&quot;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">$&#123;time.getFullYear()&#125;</span>年<span class="hljs-subst">$&#123;time.getMonth()+<span class="hljs-number">1</span>&#125;</span>月<span class="hljs-subst">$&#123;time.getDate()&#125;</span>日`</span>);<span class="hljs-comment">//2018年5月9日</span><br>time.<span class="hljs-title function_">setDate</span>(<span class="hljs-number">42</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">$&#123;time.getFullYear()&#125;</span>年<span class="hljs-subst">$&#123;time.getMonth()+<span class="hljs-number">1</span>&#125;</span>月<span class="hljs-subst">$&#123;time.getDate()&#125;</span>日`</span>);<span class="hljs-comment">//2018年6月12日</span><br></code></pre></td></tr></table></figure><h3 id="题目3"><a href="#题目3" class="headerlink" title="题目3"></a>题目3</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//说出A,B,C,D输出结果</span><br><span class="hljs-attr">A</span>:  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>+ <span class="hljs-string">&quot;2&quot;</span>+<span class="hljs-string">&quot;2&quot;</span>);<br><span class="hljs-attr">B</span>:  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>+ +<span class="hljs-string">&quot;2&quot;</span>+<span class="hljs-string">&quot;2&quot;</span>);<br><span class="hljs-attr">C</span>:  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;A&quot;</span>- <span class="hljs-string">&quot;B&quot;</span>+<span class="hljs-string">&quot;2&quot;</span>);<br><span class="hljs-attr">D</span>:  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;A&quot;</span>- <span class="hljs-string">&quot;B&quot;</span>+<span class="hljs-number">2</span>);<br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>122   &#x3D;&gt; (  如果typeof (1+ “2”+”2”)   那么输出结果为”string”  )</li><li>32    &#x3D;&gt;  (  如果typeof (1+ +”2”+”2”)   那么输出结果为”string”  )</li><li>NaN2</li><li>NaN</li></ul></li><li><p>解析</p><ul><li>A : 做加法时要注意双引号，当使用双引号时，JavaScript认为是字符串，字符串相加等于字符串合并。<br>因此，这里相当于字符串的合并，即为122.</li><li>B : 第一个+”2”中的加号是一元加操作符，+”2”会变成数值2，因此1+ +”2”相当于1+2&#x3D;3.<br>然后和后面的字符串“2”相合并，变成了字符串”32”.</li><li>C :  第一个+”2”中的加号是一元加操作符，+”2”会变成数值2，因此1+ +”2”相当于1+2&#x3D;3.<br>然后和后面的字符串“2”相合并，变成了字符串”32”.<ul><li>同样的操作还有  * “1”   &#x3D;&gt;  相当于把字符串1转化为数字1</li></ul></li><li>“A”-“B”的运算中，需要先把”A”和”B”用Number函数转换为数值，其结果为NaN，在减发操作中，如果有一个是NaN，则结果是NaN，因此”A”-“B”结果为NaN。<br>然后和”2”进行字符串合并(<strong>这里的+为什么是合并那是因为加数为字符串类型</strong>)，变成了NaN2.</li><li>D :”A”-“B”结果为NaN，然后和数值2进行<strong>加法</strong>操作，在加法操作中，如果有一个操作数是NaN，则结果为NaN。</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>今日刷题-try...catch...finally</title>
    <link href="/2022/04/21/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8821%E6%97%A5%E5%88%B7%E9%A2%98/"/>
    <url>/2022/04/21/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8821%E6%97%A5%E5%88%B7%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> i = <span class="hljs-number">100</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-attr">bbb</span>: <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;position1&quot;</span>);<br>        <span class="hljs-keyword">return</span> i++;<br>    &#125;<br>    <span class="hljs-keyword">finally</span> &#123;<br>        <span class="hljs-keyword">break</span> bbb;<br>    &#125;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;position2&quot;</span>);<br>    <span class="hljs-keyword">return</span> i;<br>&#125;<br><span class="hljs-title function_">foo</span>();<br></code></pre></td></tr></table></figure><ul><li><p>答案</p><ul><li>position1 position2</li></ul></li><li><p>解析,上面代码转换下,对齐下</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> i = <span class="hljs-number">100</span>;<br>      <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>          <span class="hljs-attr">bbb</span>: <span class="hljs-keyword">try</span> &#123;<br>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;position1&quot;</span>);<br>                  <span class="hljs-keyword">return</span> i++;<span class="hljs-comment">//i此时从100变为101</span><br>              &#125;<br>              <span class="hljs-keyword">finally</span> &#123;<br>                  <span class="hljs-keyword">break</span> bbb;<br>              &#125;<br>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;position2&quot;</span>);<br>          <span class="hljs-keyword">return</span> i;<span class="hljs-comment">//i此时的值为101</span><br>      &#125;<br>      <span class="hljs-title function_">foo</span>();<br></code></pre></td></tr></table></figure><ul><li>在try…..catch ….finally 当中,不管try里面的结果怎么样,finally都会被执行,至于 finally的break bbb;是跳出bbb标签代码块</li></ul><h3 id="题目2"><a href="#题目2" class="headerlink" title="题目2"></a>题目2</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-variable constant_">SCRIPT</span> <span class="hljs-variable constant_">LANGUAGE</span>=<span class="hljs-string">&quot;JavaScript&quot;</span>&gt;<br>    <span class="hljs-keyword">var</span> a=<span class="hljs-string">&quot;undefined&quot;</span>;<br>    <span class="hljs-keyword">var</span> b=<span class="hljs-string">&quot;false&quot;</span>;<br>    <span class="hljs-keyword">var</span> c=<span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">assert</span>(<span class="hljs-params">aVar</span>)&#123;<br>        <span class="hljs-keyword">if</span>(aVar)      <br>            <span class="hljs-title function_">alert</span>(<span class="hljs-literal">true</span>);<br>        <span class="hljs-keyword">else</span>  <br>            <span class="hljs-title function_">alert</span>(<span class="hljs-literal">false</span>);<br>    &#125;<br>    <span class="hljs-title function_">assert</span>(a);<br>    <span class="hljs-title function_">assert</span>(b);<br>    <span class="hljs-title function_">assert</span>(c);<br>&lt;/<span class="hljs-variable constant_">SCRIPT</span>&gt;<br></code></pre></td></tr></table></figure><ul><li>答案<ul><li>true true false</li></ul></li><li>解析<ul><li>大意了,除了 “” null undefined false 0 NaN 这六种转布尔值为false外,其他转化为布尔值都为true</li><li>var a &#x3D; “undefined” &#x3D;&gt;字符串,转布尔值为true</li><li>var b &#x3D; “false” &#x3D; &gt; 字符串 ,转布尔值为true</li><li>var c &#x3D; “” &#x3D; &gt; 空字符串, 转布尔值为false</li></ul></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/0073Cjx6ly1gkwllhsy77j30u00u0gnd.jpg"></p>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>今日刷题-隐式转换和String和new String</title>
    <link href="/2022/04/20/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8820%E6%97%A5%E5%88%B7%E9%A2%98/"/>
    <url>/2022/04/20/%E5%88%B7%E9%A2%98/JavaScript/2022%E5%B9%B44%E6%9C%8820%E6%97%A5%E5%88%B7%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> p1 = &#123;<br>  <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;小明&#x27;</span>,<br>  <span class="hljs-attr">age</span>:<span class="hljs-string">&#x27;12&#x27;</span>,<br>  <span class="hljs-attr">action</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">where,doing</span>)&#123;<br>   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> + <span class="hljs-string">&#x27;岁的&#x27;</span>+<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">&#x27;在&#x27;</span> + where + doing);<br>  &#125;  <br>&#125;<br><span class="hljs-keyword">var</span> p2 = &#123;<br>  <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;小红&#x27;</span>,<br>  <span class="hljs-attr">age</span>:<span class="hljs-string">&#x27;15&#x27;</span><br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p1.<span class="hljs-property">action</span>.<span class="hljs-title function_">call</span>(p2,<span class="hljs-string">&#x27;操场上&#x27;</span>,<span class="hljs-string">&#x27;运动&#x27;</span>))<br></code></pre></td></tr></table></figure><ul><li>输出结果<ul><li>15岁的小红在操场上运动</li></ul></li><li>分析<ul><li>call可以改变this的执行,并且使得某一个函数成为对象的方法调用</li><li>所以p1.action.call(p2,’操场上’,’运动’) &#x3D; &gt; p2.action(“操作上”,”运动) &#x3D; &gt; 输出  “15岁的小红在操场上运动”</li></ul></li></ul><h3 id="题目2"><a href="#题目2" class="headerlink" title="题目2"></a>题目2</h3><p>以下哪个表达式的值为true？</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">A</span>.&#x27;<span class="hljs-number">1</span>&#x27; === <span class="hljs-number">1</span><br><span class="hljs-attribute">B</span>.isNaN(<span class="hljs-number">1</span>/<span class="hljs-number">0</span>)<br><span class="hljs-attribute">C</span>.<span class="hljs-number">1</span> in<span class="hljs-meta"> [1]</span><br><span class="hljs-attribute">D</span>.<span class="hljs-number">1</span> &amp;&amp; <span class="hljs-number">2</span> &gt; <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><ul><li>答案<ul><li>D</li></ul></li><li>分析<ul><li>A:  &#x3D;&#x3D;&#x3D;不会隐式转换,String类型不会等于Number类型 所以结果为false</li><li>B: 1&#x2F;0在js当中返回 <strong>Infinity</strong> 所以isNaN(1&#x2F;0)为false</li><li>C: in在数组可以用来检测是否有这个索引,在对象则是否是实例化对象<ul><li>Arrays var trees &#x3D; new Array(“redwood”, “bay”, “cedar”, “oak”, “maple”); 0 in trees &#x2F;&#x2F; returns true</li><li>var color1 &#x3D; new String(“green”); “length” in color1 &#x2F;&#x2F; returns true</li></ul></li><li>算术运算符优先级 &gt; 关系运算符 &gt; 逻辑运算符,所以 1 &amp;&amp; true &#x3D; &gt; true</li></ul></li></ul><h3 id="题目3"><a href="#题目3" class="headerlink" title="题目3"></a>题目3</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//说错1,2,3,4的输出结果</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params">value</span>)&#123;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">arguments</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Array</span>); ...①<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span>);...②<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);...③<br><br><span class="hljs-keyword">var</span> arr = [...<span class="hljs-variable language_">arguments</span>];...④<br><br>&#125;<br><br><span class="hljs-title function_">fn</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>);<br></code></pre></td></tr></table></figure><ul><li>答案<ul><li>① : false</li><li>② : 3</li><li>③ : 1</li><li>④ :  [1,2,3,4]</li></ul></li><li>分析<ul><li>① : arguments为一个伪数组,实际上是一个对象,所以为false</li><li>② : arguments接收函数传入过来的所有参数,所以结果为3</li><li>③ : value为函数第一个传入过来的值,所以为1</li><li>④ : 记住就好</li></ul></li></ul><h3 id="题目4"><a href="#题目4" class="headerlink" title="题目4"></a>题目4</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript">下面哪些语句执行结果为<span class="hljs-title function_">true</span>(多选)<br><span class="hljs-attr">A</span>:<span class="hljs-string">&#x27;foo&#x27;</span> == <span class="hljs-keyword">new</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123; <span class="hljs-keyword">return</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&#x27;foo&#x27;</span>); &#125;;<br><span class="hljs-attr">B</span>:<span class="hljs-string">&#x27;foo&#x27;</span> == <span class="hljs-keyword">new</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123; <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&#x27;foo&#x27;</span>); &#125;;<br><span class="hljs-attr">C</span>:[] == <span class="hljs-number">0</span><br><span class="hljs-attr">D</span>:![]<br><span class="hljs-attr">E</span>:!<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><ul><li>答案<ul><li>B C E</li></ul></li><li>分析<ul><li>A,B:<ul><li>构造函数使用会返回一个对象:<ul><li>情况1:return 一个对象,那么构造函数就会返回你定义的这个对象 比如 return {a:xxx}; 就会返回这个 {a:xxx}</li><li>情况2:未写return 或者return 基本数据类型,构造函数会默认返回一个对象</li><li>A选项当中的构造函数返回一个基本数据类型,所以构造函数默认返回一个空对象<ul><li>String(‘foo’); 控制台输出为’foo’</li></ul></li><li>B选项返回一个String对象,所以构造函数就返回了这个对象<ul><li>new String(‘foo’);控制台输出为String {‘foo’}<br><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220420102106.png"></li></ul></li></ul></li></ul></li><li>C: 引用数据和基本数据比较,会将引用数据转基本数据在比较,[]转基本数据类型为”” , “” &#x3D;&#x3D; 0 ;比较再转化为布尔类型,false &#x3D;&#x3D; false,所以为true</li><li>D:未发生隐式转换,**[]**的布尔值有两种转换结果。直接转的话是true(在false六种值之外)，还有一种是调用tostring转字符串”” 再转布尔就为false了,所以![] 为true<ul><li>如果[] &#x3D;&#x3D; false ,发生了隐式转换,则[]会转化为false</li></ul></li><li>E: 0转布尔为false,同样转false的还有 undefined null ‘’ NaN 0 false 这四种都会为FALSE . 其他均为TRUE.所以!false &#x3D;&gt; true</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>刷题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>刷题</tag>
      
      <tag>刷刷刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>我来图书馆小程序抓包抢位置</title>
    <link href="/2022/04/06/NodeJs/%E6%88%91%E6%9D%A5%E5%9B%BE%E4%B9%A6%E9%A6%86%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8A%93%E5%8C%85%E6%8A%A2%E4%BD%8D%E7%BD%AE/"/>
    <url>/2022/04/06/NodeJs/%E6%88%91%E6%9D%A5%E5%9B%BE%E4%B9%A6%E9%A6%86%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8A%93%E5%8C%85%E6%8A%A2%E4%BD%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h3 id="提交预约流程"><a href="#提交预约流程" class="headerlink" title="提交预约流程"></a>提交预约流程</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220406093101.png"></p><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><ol><li>抓包分析好像还涉及到wxlib&#x2F;wx&#x2F;login 不过从后面提交数据来看好像用不到,可能我技术问题吧</li></ol><h3 id="抓包分析"><a href="#抓包分析" class="headerlink" title="抓包分析"></a>抓包分析</h3><h4 id="有人可能最新微信PC抓不了小程序包"><a href="#有人可能最新微信PC抓不了小程序包" class="headerlink" title="有人可能最新微信PC抓不了小程序包"></a>有人可能最新微信PC抓不了小程序包</h4><h5 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h5><ol><li><p>打开一个任意小程序，打开任务管理器，找到进程。右键打开文件位置。</p></li><li><p>退出电脑微信，右键结束小程序进程。</p></li><li><p>找到这个目录后删除这个目录<img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220406093447.png"></p></li><li><p>或者你有everything这个工具,直接搜索 WMPFRuntime 然后右键打开所在文件夹,把里面这个4376目录删除就可以</p></li></ol><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220406093433.png"></p><h4 id="不想分析了-具体的可以自己抓包看看"><a href="#不想分析了-具体的可以自己抓包看看" class="headerlink" title="不想分析了~,具体的可以自己抓包看看"></a>不想分析了~,具体的可以自己抓包看看</h4><h3 id="微信小程序反编译-可以看看源代码"><a href="#微信小程序反编译-可以看看源代码" class="headerlink" title="微信小程序反编译(可以看看源代码~)"></a>微信小程序反编译(可以看看源代码~)</h3><p><a href="https://github.com/Cherrison/CrackMinApp">微信小程序反编译</a></p><p>这次小程序反编译出来的文件</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220406095121.png"></p><h4 id="userID可以去抓包获取-这个没办法模拟请求获取"><a href="#userID可以去抓包获取-这个没办法模拟请求获取" class="headerlink" title="userID可以去抓包获取,这个没办法模拟请求获取"></a>userID可以去抓包获取,这个没办法模拟请求获取</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220406144717.png"></p><h3 id="抢座nodejs代码"><a href="#抢座nodejs代码" class="headerlink" title="抢座nodejs代码"></a>抢座nodejs代码</h3><p class="note note-info">注意安装axios依赖</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> axios = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;axios&#x27;</span>);<br><br><span class="hljs-keyword">var</span> configself = &#123;<br>    <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;get&#x27;</span>,<br>    <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;https://wxcourse.jxufe.cn/wxlib/wx/appoint&#x27;</span>,<br>    <span class="hljs-attr">params</span>: &#123;<br>        <span class="hljs-attr">isPeriod</span>: <span class="hljs-number">1</span>,<br>        <span class="hljs-comment">//自己的userID有效期多久未测试</span><br>        <span class="hljs-attr">userId</span>: <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-comment">//座位id,可以通过网站传参抓包获取</span><br>        <span class="hljs-comment">//519代表A208这个位置</span><br>        <span class="hljs-attr">seatId</span>: <span class="hljs-number">519</span>,<br>        <span class="hljs-comment">//不知道干嘛用</span><br>        <span class="hljs-attr">appointType</span>: <span class="hljs-number">0</span>,<br>        <span class="hljs-comment">//代表区域,A区域代码为23,F区域为115,G区域为113等等</span><br>        <span class="hljs-attr">vdId</span>: <span class="hljs-number">23</span>,<br>        <span class="hljs-comment">//时间段,1代表8:00-12:00时间段</span><br>        <span class="hljs-comment">//时间段,2代表12:00-17:00时间段</span><br>        <span class="hljs-comment">//时间段2,代表17:30-23:00时间段</span><br>        <span class="hljs-attr">timeSlot</span>: <span class="hljs-number">1</span>,<br>        <span class="hljs-comment">//大学名称</span><br>        <span class="hljs-attr">officeCode</span>: <span class="hljs-string">&quot;jxcjdx&quot;</span>,<br>        <span class="hljs-comment">//大学id</span><br>        <span class="hljs-attr">colleageId</span>: <span class="hljs-number">51</span>,<br>        <span class="hljs-comment">//预约日期</span><br>        <span class="hljs-attr">day</span>: <span class="hljs-string">&quot;2022-04-07&quot;</span>,<br>        <span class="hljs-comment">//预约截止时间段: </span><br>        <span class="hljs-comment">//比如8:00-12:00截止日期为12:00, </span><br>        <span class="hljs-comment">//比如12:00-17:00截止日期为17:00</span><br>        <span class="hljs-comment">//比如17:30-23:00截止日期为23:00</span><br>        <span class="hljs-attr">appointTo</span>: <span class="hljs-string">&quot;12:00&quot;</span><br>    &#125;,<br>    <span class="hljs-attr">headers</span>: &#123;&#125;<br>&#125;;<br><span class="hljs-title function_">axios</span>(configself)<br>    .<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">response</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(response.<span class="hljs-property">data</span>));<br>    &#125;)<br>    .<span class="hljs-title function_">catch</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error);<br>    &#125;);<br></code></pre></td></tr></table></figure><h3 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220406101308.png"></p>]]></content>
    
    
    <categories>
      
      <category>javscript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NodeJs</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>纯css+html实现的分页器功能</title>
    <link href="/2022/04/03/%E5%B7%A5%E5%85%B7%E5%BA%93%E7%AC%94%E8%AE%B0/%E5%88%86%E9%A1%B5%E5%99%A8/"/>
    <url>/2022/04/03/%E5%B7%A5%E5%85%B7%E5%BA%93%E7%AC%94%E8%AE%B0/%E5%88%86%E9%A1%B5%E5%99%A8/</url>
    
    <content type="html"><![CDATA[<h3 id="分页器"><a href="#分页器" class="headerlink" title="分页器"></a>分页器</h3><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p><a href="https://github.com/superBiuBiuMan/pageing-device">github地址</a></p><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><ol><li><p>引入样式文件<code>&lt;link rel=&quot;stylesheet&quot; href=&quot;./paginationself.css&quot;&gt;</code></p></li><li><p>引入js代码文件<code> &lt;script src=&quot;./paginationself.js&quot;&gt;&lt;/script&gt;</code></p></li><li><p>js代码添加</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> fy = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;pagination_self&quot;</span>);<span class="hljs-comment">//父容器,负责存储分页器,id名不要改</span><br><span class="hljs-title function_">paginationself</span>(fy, &#123;&#125;);<br></code></pre></td></tr></table></figure></li></ol><h4 id="具体参数"><a href="#具体参数" class="headerlink" title="具体参数"></a>具体参数</h4><p>paginationself(fatherDom,options,callback)</p><ol><li>fatherDom:生成器生成的父容器</li><li>options对象:参数配置<ul><li>pageInfo对象<ul><li>pageNum:当前页</li><li>totalPage:数据总个数</li><li>least:当总页数低于least的时候页码全部显示</li><li>size:一次显示多少页码</li></ul></li><li>textInfo对象:设置显示文字<ul><li>first<ul><li>(默认为首页)</li></ul></li><li>prev<ul><li>(默认为上一页)</li></ul></li><li>next<ul><li>(默认为下一页)</li></ul></li><li>last<ul><li>(默认为尾页)</li></ul></li></ul></li></ul></li><li>callback:当用户单击页数的时候触发回调函数,会返回一个用户单击后的页码</li></ol><h4 id="参考示例"><a href="#参考示例" class="headerlink" title="参考示例"></a>参考示例</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;./paginationself.css&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-comment">/* 外壳样式,可选,写了就覆盖默认的 */</span></span><br><span class="language-css">        <span class="hljs-comment">/* #pagination_self &#123;</span></span><br><span class="hljs-comment"><span class="language-css">            width: 98%;</span></span><br><span class="hljs-comment"><span class="language-css">            height: 50px;</span></span><br><span class="hljs-comment"><span class="language-css">            border: 1px solid #e5e5e5;</span></span><br><span class="hljs-comment"><span class="language-css">            margin: 20px auto;</span></span><br><span class="hljs-comment"><span class="language-css">            display: flex;</span></span><br><span class="hljs-comment"><span class="language-css">            justify-content: center;</span></span><br><span class="hljs-comment"><span class="language-css">            align-items: center;</span></span><br><span class="hljs-comment"><span class="language-css">        &#125;  */</span></span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- id名不可变动! --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;pagination_self&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./paginationself.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 使用</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> fy = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;pagination_self&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-title function_">paginationself</span>(fy, &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">pageInfo</span>: &#123;</span><br><span class="language-javascript">                <span class="hljs-attr">pageNum</span>:<span class="hljs-number">2</span>,</span><br><span class="language-javascript">                <span class="hljs-attr">totalPage</span>:<span class="hljs-number">25</span></span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;, <span class="hljs-function">(<span class="hljs-params">nowPage</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">//此为回调函数,可省略~</span></span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;当前显示的页为&quot;</span>,nowPage);</span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript">        <span class="hljs-comment">//等同于</span></span><br><span class="language-javascript">        <span class="hljs-comment">// paginationself(fy,&#123;&#125;);</span></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h3><h4 id="图1"><a href="#图1" class="headerlink" title="图1"></a>图1</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220403154238.png"></p><h4 id="图2"><a href="#图2" class="headerlink" title="图2"></a>图2</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220403154403.png"></p><h4 id="图3"><a href="#图3" class="headerlink" title="图3"></a>图3</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220403154454.png"></p><h4 id="图4"><a href="#图4" class="headerlink" title="图4"></a>图4</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220403154318.png"></p>]]></content>
    
    
    <categories>
      
      <category>javscript</category>
      
      <category>html</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>express+socket简易聊天室</title>
    <link href="/2022/03/31/%E5%89%8D%E7%AB%AF/express+socket%E7%AE%80%E6%98%93%E8%81%8A%E5%A4%A9%E5%AE%A4/"/>
    <url>/2022/03/31/%E5%89%8D%E7%AB%AF/express+socket%E7%AE%80%E6%98%93%E8%81%8A%E5%A4%A9%E5%AE%A4/</url>
    
    <content type="html"><![CDATA[<h3 id="简易聊天室"><a href="#简易聊天室" class="headerlink" title="简易聊天室"></a>简易聊天室</h3><h4 id="前置知识"><a href="#前置知识" class="headerlink" title="前置知识"></a>前置知识</h4><ol><li>在我们平常的时候,ajax发送的都是短连接,get完成或者post完成之后连接就断开,并且当服务器数据更新的时候,必须再次发送ajax请求才可以获取到最新的数据</li><li>在没有socket之前,要实时获取服务器的数据,必须要<strong>轮询</strong>,也就是每隔一段时间发送ajax</li><li>所以现在有了服务端主动向前端推送消息的东东——长连接socket</li><li>实现的二种方式<ol><li>socket.io</li><li>websocket(H5新增)</li></ol></li></ol><h4 id="这里使用socket-io实现"><a href="#这里使用socket-io实现" class="headerlink" title="这里使用socket.io实现"></a>这里使用socket.io实现</h4><ol><li><p>socket.io的具体使用并没有想象的难记,而是on和emit这二个关键字贯穿始终</p></li><li><p>on就用来订阅服务器发送的消息(服务端当中的理解就是监听用户发送服务端的信息)</p></li><li><p>emit就用来用户向服务器发送信息(服务端当中的理解就是向用户发送信息)</p><p class="note note-info">socket.io大概过程</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/1a6439038e343b8fe18f9612fbcd4cb.png"></p></li></ol><h3 id="前端设置"><a href="#前端设置" class="headerlink" title="前端设置"></a>前端设置</h3><ol><li><p>引入<code>&lt;script src=&quot;./socket.io.js&quot;&gt;&lt;/script&gt;</code></p></li><li><p>使用io.connect(url)连接socket服务器</p></li><li><p>使用on监听和emit发送</p></li></ol><h4 id="前端代码"><a href="#前端代码" class="headerlink" title="前端代码"></a>前端代码</h4><p>index.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./jquery-3.6.0.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./socket.io.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        * &#123;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.wrap</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">450px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">50px</span> auto;</span><br><span class="language-css">            <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.4</span>);</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.wrap</span>&gt;<span class="hljs-selector-class">.content</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">box-sizing</span>: border-box;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span> <span class="hljs-number">10px</span> <span class="hljs-number">8px</span> <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#e2e1e2</span>;</span><br><span class="language-css">            <span class="hljs-attribute">overflow-x</span>: auto;</span><br><span class="language-css">            <span class="hljs-attribute">overflow-x</span>: hidden;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.wrap</span>&gt;<span class="hljs-selector-class">.content</span> <span class="hljs-selector-class">.left</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">15px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">5px</span> <span class="hljs-number">4px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">clear</span>: both;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">5px</span> <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#c5cdd6</span>;</span><br><span class="language-css">            <span class="hljs-attribute">max-width</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">float</span>: left;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.wrap</span>&gt;<span class="hljs-selector-class">.content</span> <span class="hljs-selector-class">.right</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">15px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">5px</span> <span class="hljs-number">4px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">clear</span>: both;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">5px</span> <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#8dcced</span>;</span><br><span class="language-css">            <span class="hljs-attribute">max-width</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">float</span>: right;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.wrap</span>&gt;<span class="hljs-selector-class">.input</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.wrap</span>&gt;<span class="hljs-selector-class">.input</span> <span class="hljs-selector-id">#ipt</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.wrap</span>&gt;<span class="hljs-selector-class">.ope</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.wrap</span>&gt;<span class="hljs-selector-class">.ope</span> <span class="hljs-selector-id">#send</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">float</span>: right;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;wrap&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span><br>            <span class="hljs-comment">&lt;!-- &lt;p class=&quot;left&quot;&gt;你好,我叫&lt;/p&gt; --&gt;</span><br>            <span class="hljs-comment">&lt;!-- &lt;p class=&quot;right&quot;&gt;hello&lt;/p&gt; --&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;input&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;ipt&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ope&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;send&quot;</span>&gt;</span>发送<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> $inputs = $(<span class="hljs-string">&quot;#ipt&quot;</span>); <span class="hljs-comment">//文本输入框</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> $send = $(<span class="hljs-string">&quot;#send&quot;</span>); <span class="hljs-comment">//发送按钮</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> $content = $(<span class="hljs-string">&quot;.content&quot;</span>).<span class="hljs-title function_">eq</span>(<span class="hljs-number">0</span>);</span><br><span class="language-javascript">        <span class="hljs-comment">// socket连接</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> socket = io.<span class="hljs-title function_">connect</span>(<span class="hljs-string">&quot;http://localhost:8888&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-comment">//监听自定义的serverInfo事件,data参数为服务器传送的数据</span></span><br><span class="language-javascript">        <span class="hljs-comment">//监听服务器的信息</span></span><br><span class="language-javascript">        socket.<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;serverInfo&quot;</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">//收到从服务器发送的信息</span></span><br><span class="language-javascript">            $(<span class="hljs-string">&#x27;&lt;p class=&quot;left&quot;&gt;&#x27;</span> + data + <span class="hljs-string">&#x27;&lt;/p&gt;&#x27;</span>).<span class="hljs-title function_">appendTo</span>($content);</span><br><span class="language-javascript">        &#125;)</span><br><span class="language-javascript">        <span class="hljs-comment">//用户在输入框按下回车</span></span><br><span class="language-javascript">        $inputs.<span class="hljs-title function_">keyup</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> ($inputs.<span class="hljs-title function_">val</span>().<span class="hljs-title function_">trim</span>() &amp;&amp; e.<span class="hljs-property">keyCode</span> == <span class="hljs-number">13</span>) &#123;</span><br><span class="language-javascript">                $send.<span class="hljs-title function_">click</span>();</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;)</span><br><span class="language-javascript">        <span class="hljs-comment">//发送按钮被单击</span></span><br><span class="language-javascript">        $send.<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> value = $inputs.<span class="hljs-title function_">val</span>();</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (value) &#123;</span><br><span class="language-javascript">                <span class="hljs-comment">// 不为空,添加</span></span><br><span class="language-javascript">                <span class="hljs-comment">//自己发送的消息,添加到右边</span></span><br><span class="language-javascript">                $(<span class="hljs-string">&#x27;&lt;p class=&quot;right&quot;&gt;&#x27;</span> + value + <span class="hljs-string">&#x27;&lt;/p&gt;&#x27;</span>).<span class="hljs-title function_">appendTo</span>($content);</span><br><span class="language-javascript">                <span class="hljs-comment">//先服务端发送消息,key为userMessage</span></span><br><span class="language-javascript">                socket.<span class="hljs-title function_">emit</span>(<span class="hljs-string">&quot;userMessage&quot;</span>, value);</span><br><span class="language-javascript">                <span class="hljs-comment">//清空输入框</span></span><br><span class="language-javascript">                $inputs.<span class="hljs-title function_">val</span>(<span class="hljs-string">&quot;&quot;</span>);</span><br><span class="language-javascript">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;输入框为空!&quot;</span>);</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;)</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="后端代码"><a href="#后端代码" class="headerlink" title="后端代码"></a>后端代码</h3><p>server.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;express&quot;</span>);<br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();<br><span class="hljs-comment">//这里是为了解决跨域</span><br>app.<span class="hljs-title function_">use</span>(<span class="hljs-string">&quot;/&quot;</span>, express.<span class="hljs-title function_">static</span>(__dirname));<br><span class="hljs-keyword">const</span> server = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;http&quot;</span>).<span class="hljs-title class_">Server</span>(app);<br><span class="hljs-keyword">const</span> websocket = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;socket.io&quot;</span>)(server);<br><span class="hljs-comment">//上面的可以说的固定的~</span><br><br><span class="hljs-keyword">var</span> clientCache = []; <span class="hljs-comment">//用户暂存列表,为了后面可以向所有用户发送数据</span><br><span class="hljs-comment">//连接监听</span><br>websocket.<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;connection&quot;</span>, <span class="hljs-function">(<span class="hljs-params">client</span>) =&gt;</span> &#123;<br>    clientCache.<span class="hljs-title function_">push</span>(client); <span class="hljs-comment">//添加用户到缓存列表</span><br>    <span class="hljs-comment">//监听用户请求 key为userMessage</span><br>    client.<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;userMessage&quot;</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> &#123;<br>        <span class="hljs-comment">//收到用户发送的信息,批量发送给其他人</span><br>        clientCache.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">ele</span>) =&gt;</span> &#123;<br>            <span class="hljs-keyword">if</span> (ele != client) &#123;<br>                <span class="hljs-comment">//避免自己收到</span><br>                ele.<span class="hljs-title function_">emit</span>(<span class="hljs-string">&quot;serverInfo&quot;</span>, data);<br>            &#125;<br>        &#125;)<br>    &#125;)<br><br>&#125;)<br><br><span class="hljs-comment">//服务启动</span><br>server.<span class="hljs-title function_">listen</span>(<span class="hljs-string">&quot;8888&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;---------server start--------------&quot;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/1648698057(1).jpg"></p><h3 id="娱乐一刻"><a href="#娱乐一刻" class="headerlink" title="娱乐一刻"></a>娱乐一刻</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/%E8%88%94%E7%8B%97%E6%97%A5%E8%AE%B0.png" alt="舔狗日记"></p><p><code>&quot;今天你约我去陪你买衣服，尽管我知道只是因为我的身形像你异地的男朋友，比较好试衣服而已。买完衣服，寄快递写他名字的时候，看见你嘴角翘起幸福的笑来。那一刻，我多希望我可以也叫那个名字，哪怕只有一分钟！！&quot;</code></p>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
      <category>socket</category>
      
      <category>express</category>
      
    </categories>
    
    
    <tags>
      
      <tag>socket</tag>
      
      <tag>express</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>防抖节流的使用和封装成函数</title>
    <link href="/2022/03/31/%E5%B7%A5%E5%85%B7%E5%BA%93%E7%AC%94%E8%AE%B0/%E9%98%B2%E6%8A%96%E8%8A%82%E6%B5%81/"/>
    <url>/2022/03/31/%E5%B7%A5%E5%85%B7%E5%BA%93%E7%AC%94%E8%AE%B0/%E9%98%B2%E6%8A%96%E8%8A%82%E6%B5%81/</url>
    
    <content type="html"><![CDATA[<h3 id="前置知识"><a href="#前置知识" class="headerlink" title="前置知识"></a>前置知识</h3><h4 id="关于this指向问题，防抖函数中的fn-apply-this-arguments-作用"><a href="#关于this指向问题，防抖函数中的fn-apply-this-arguments-作用" class="headerlink" title="关于this指向问题，防抖函数中的fn.apply(this,arguments)作用"></a>关于this指向问题，防抖函数中的fn.apply(this,arguments)作用</h4><p><a href="https://blog.csdn.net/weixin_44494811/article/details/103486637">防抖函数中的fn.apply(this,arguments)作用</a></p><p><a href="https://www.runoob.com/w3cnote/js-call-apply-bind.html">this指向问题</a></p><h3 id="节流"><a href="#节流" class="headerlink" title="节流"></a>节流</h3><ol><li>一定时间内只执行一项任务</li></ol><h3 id="节流原理"><a href="#节流原理" class="headerlink" title="节流原理"></a>节流原理</h3><ol><li>执行一个函数</li><li>执行这个函数的时候看看前面有没有执行过</li><li>如果前面有执行过这个函数并且没有完成,那么本次任务就不执行</li></ol><h4 id="节流前"><a href="#节流前" class="headerlink" title="节流前"></a>节流前</h4><p class="note note-warning">可以看到"move"疯狂输出</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/%E9%98%B2%E6%8A%96%E4%B9%8B20220331144311156%E5%89%8D.gif"></p><h4 id="节流后"><a href="#节流后" class="headerlink" title="节流后"></a>节流后</h4><p class="note note-info">程序输出move的次数明显减少</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/%E9%98%B2%E6%8A%9620220331144308919%E5%90%8E.gif"></p><h4 id="节流函数"><a href="#节流函数" class="headerlink" title="节流函数"></a>节流函数</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 节流</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">function</span>&#125; fn 要节流的函数</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">number</span>&#125; delay 延迟(类似于fps一样~)</span><br><span class="hljs-comment"> * return 执行函数</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">throttleMy</span>(<span class="hljs-params">fn, delay</span>) &#123;<br><span class="hljs-comment">//这样子建立了一个闭包,timer始终存在</span><br><span class="hljs-keyword">var</span> timer=<span class="hljs-literal">null</span>;<br><span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">...args</span>) &#123;<br><span class="hljs-keyword">if</span> (timer) &#123;<br><span class="hljs-keyword">return</span>;<br>&#125;<br>timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br><span class="hljs-comment">//传入的为[30,40,50....这种形式],所以不能单纯fn(args)</span><br><span class="hljs-comment">//不确定参数,加上参数形式为[....],就使用fn.apply(this.args);</span><br>fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);<br>timer=<span class="hljs-literal">null</span>;<br>&#125;, delay);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="节流函数使用示例代码"><a href="#节流函数使用示例代码" class="headerlink" title="节流函数使用示例代码"></a>节流函数使用示例代码</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.box</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: red;</span><br><span class="language-css">            <span class="hljs-attribute">position</span>: relative;</span><br><span class="language-css">            <span class="hljs-attribute">top</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> box = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.box&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-variable language_">window</span>.<span class="hljs-property">onmousemove</span>=<span class="hljs-title function_">throttleMy</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;</span><br><span class="language-javascript">            box.<span class="hljs-property">style</span>.<span class="hljs-property">left</span> = e.<span class="hljs-property">pageX</span> - (box.<span class="hljs-property">clientWidth</span>) / <span class="hljs-number">2</span> + <span class="hljs-string">&quot;px&quot;</span>;</span><br><span class="language-javascript">            box.<span class="hljs-property">style</span>.<span class="hljs-property">top</span> = e.<span class="hljs-property">pageY</span> - (box.<span class="hljs-property">clientHeight</span>) / <span class="hljs-number">2</span> + <span class="hljs-string">&quot;px&quot;</span>;</span><br><span class="language-javascript">        &#125;,<span class="hljs-number">40</span>)</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">/**</span></span><br><span class="hljs-comment"><span class="language-javascript">         * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">function</span>&#125; fn 要防抖的函数</span></span><br><span class="hljs-comment"><span class="language-javascript">         * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">number</span>&#125; delay 延迟(类似于fps一样~)</span></span><br><span class="hljs-comment"><span class="language-javascript">         * return 执行函数</span></span><br><span class="hljs-comment"><span class="language-javascript">         */</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">throttleMy</span>(<span class="hljs-params">fn, delay</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">//这样子建立了一个闭包,timer始终存在</span></span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> timer=<span class="hljs-literal">null</span>;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">...args</span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (timer) &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span>;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">                timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-comment">//传入的为[30,40,50....这种形式],所以不能单纯fn(args)</span></span><br><span class="language-javascript">                    <span class="hljs-comment">//不确定参数,加上参数形式为[....],就使用fn.apply(this.args);</span></span><br><span class="language-javascript">                    fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);</span><br><span class="language-javascript">                    timer=<span class="hljs-literal">null</span>;</span><br><span class="language-javascript">                &#125;, delay);</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="防抖"><a href="#防抖" class="headerlink" title="防抖"></a>防抖</h3><h4 id="防抖原理"><a href="#防抖原理" class="headerlink" title="防抖原理"></a>防抖原理</h4><ol><li>执行一个函数</li><li>执行这个函数的时候一段时间后如果有东东再次执行这个函数,则重新计时后在次调用</li></ol><h4 id="防抖前"><a href="#防抖前" class="headerlink" title="防抖前"></a>防抖前</h4><p class="note note-info">输入框输入"你好"</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220331154303.png"></p><h4 id="防抖后"><a href="#防抖后" class="headerlink" title="防抖后"></a>防抖后</h4><p class="note note-info">输入框再次输入"你好"</p><p class="note note-info">可以看到少了很多次</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220331154405.png"></p><h4 id="防抖函数"><a href="#防抖函数" class="headerlink" title="防抖函数"></a>防抖函数</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* 防抖</span><br><span class="hljs-comment">* <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">function</span>&#125; fn 要防抖的函数</span><br><span class="hljs-comment">* <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">number</span>&#125; delay 延迟(类似于fps一样~)</span><br><span class="hljs-comment">* return 执行函数</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">fn, delay</span>) &#123;<br><span class="hljs-comment">//这样子建立了一个闭包,timer始终存在</span><br><span class="hljs-keyword">var</span> timer = <span class="hljs-literal">null</span>;<br><span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">...args</span>) &#123;<br><span class="hljs-keyword">if</span> (timer) &#123;<br><span class="hljs-built_in">clearTimeout</span>(timer); <span class="hljs-comment">//清除上一次的</span><br>&#125;<br>timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br><span class="hljs-comment">//传入的为[30,40,50....这种形式],所以不能单纯fn(args)</span><br><span class="hljs-comment">//不确定参数,加上参数形式为[....],就使用fn.apply(this.args);</span><br>fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);<br>timer = <span class="hljs-literal">null</span>;<br>&#125;, delay);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="防抖函数使用示例代码"><a href="#防抖函数使用示例代码" class="headerlink" title="防抖函数使用示例代码"></a>防抖函数使用示例代码</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    账户：<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;useript&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> ipt = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;useript&quot;</span>);</span><br><span class="language-javascript">        ipt.<span class="hljs-property">onkeyup</span>=<span class="hljs-title function_">debounce</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e);</span><br><span class="language-javascript">        &#125;,<span class="hljs-number">40</span>);</span><br><span class="language-javascript">        <span class="hljs-comment">/**</span></span><br><span class="hljs-comment"><span class="language-javascript">         * 防抖</span></span><br><span class="hljs-comment"><span class="language-javascript">         * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">function</span>&#125; fn 要防抖的函数</span></span><br><span class="hljs-comment"><span class="language-javascript">         * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">number</span>&#125; delay 延迟(类似于fps一样~)</span></span><br><span class="hljs-comment"><span class="language-javascript">         * return 执行函数</span></span><br><span class="hljs-comment"><span class="language-javascript">         */</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">fn, delay</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">//这样子建立了一个闭包,timer始终存在</span></span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> timer = <span class="hljs-literal">null</span>;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">...args</span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (timer) &#123;</span><br><span class="language-javascript">                    <span class="hljs-built_in">clearTimeout</span>(timer); <span class="hljs-comment">//清除上一次的</span></span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">                timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-comment">//传入的为[30,40,50....这种形式],所以不能单纯fn(args)</span></span><br><span class="language-javascript">                    <span class="hljs-comment">//不确定参数,加上参数形式为[....],就使用fn.apply(this.args);</span></span><br><span class="language-javascript">                    fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);</span><br><span class="language-javascript">                    timer = <span class="hljs-literal">null</span>;</span><br><span class="language-javascript">                &#125;, delay);</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="娱乐一刻"><a href="#娱乐一刻" class="headerlink" title="娱乐一刻"></a>娱乐一刻</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/%E8%88%94%E7%8B%97%E6%97%A5%E8%AE%B0.png"></p><p><code>&quot;昨晚你终于回我信息了，你回了一句谢谢还加了一个爱心。当时我在工地上激动的差点把隔壁的吊塔阿姨给亲了。不过我想了想你笑起来的样子我还是忍住了。你给我发爱心，一定是已经爱上我了吧，放心，我连咱们的孩子名字都想好了。XX等我，我一定会继续努力挣钱，给你买更多的化妆品，发更多的红包！！&quot;</code></p>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>javscript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>express,multer,jQuery前端后端上传单个文件</title>
    <link href="/2022/03/29/%E5%89%8D%E7%AB%AF/express+multer+jQuery%E5%89%8D%E7%AB%AF%E5%90%8E%E7%AB%AF%E4%B8%8A%E4%BC%A0%E5%8D%95%E4%B8%AA%E6%96%87%E4%BB%B6/"/>
    <url>/2022/03/29/%E5%89%8D%E7%AB%AF/express+multer+jQuery%E5%89%8D%E7%AB%AF%E5%90%8E%E7%AB%AF%E4%B8%8A%E4%BC%A0%E5%8D%95%E4%B8%AA%E6%96%87%E4%BB%B6/</url>
    
    <content type="html"><![CDATA[<h3 id="先安装基本的模块"><a href="#先安装基本的模块" class="headerlink" title="先安装基本的模块"></a>先安装基本的模块</h3><p>$ npm init -y </p><p>$ npm install express –save</p><p>$ npm install multer –save</p><h4 id="附上multer的github当中别人汉化的API文档"><a href="#附上multer的github当中别人汉化的API文档" class="headerlink" title="附上multer的github当中别人汉化的API文档"></a>附上multer的github当中别人汉化的API文档</h4><p><a href="https://github.com/expressjs/multer/blob/master/doc/README-zh-cn.md">github地址</a></p><p class="note note-info">我这使用的nodemon,如果那么使用node运行,修改记得重启</p><h3 id="开始创建基本express-上传图片"><a href="#开始创建基本express-上传图片" class="headerlink" title="开始创建基本express(上传图片)"></a>开始创建基本express(上传图片)</h3><p>当前目录下创建fileup.js文件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;express&quot;</span>);<br><span class="hljs-keyword">const</span> multer = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;multer&quot;</span>);<br><span class="hljs-keyword">var</span> app = <span class="hljs-title function_">express</span>();<span class="hljs-comment">//创建express实例</span><br><br><span class="hljs-comment">//这里是为了后期没有跨域问题设置的静态资源目录</span><br><span class="hljs-comment">//__dirname为NodeJS全局变量: 返回运行当前js的文件夹的绝对路径</span><br>app.<span class="hljs-title function_">use</span>(<span class="hljs-string">&quot;/&quot;</span>,express.<span class="hljs-title function_">static</span>(__dirname));<br><br><span class="hljs-comment">//后期ajax提交地址就为:http://localhost:3000/file 端口号可在下方自行设置</span><br>app.<span class="hljs-title function_">post</span>(<span class="hljs-string">&quot;/file&quot;</span>,<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//前期测试接口发送数据,没有问题再进行下一步</span><br>    res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&quot;file ok&quot;</span>);<br>&#125;)<br><br><span class="hljs-comment">//设置在本地端口3000</span><br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-string">&quot;3000&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;-------------server start-------------------&quot;</span>);<br>&#125;)<br></code></pre></td></tr></table></figure><h4 id="测试是否正常"><a href="#测试是否正常" class="headerlink" title="测试是否正常"></a>测试是否正常</h4><p class="note note-info">这里使用postman测试</p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220329212333.png"  /><p class="note note-info">测试没有问题再继续,不然后期很难改</p><h3 id="前端部分"><a href="#前端部分" class="headerlink" title="前端部分"></a>前端部分</h3><p>当前目录下创建up.html </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;fileInput&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn&quot;</span>&gt;</span>上传文件<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//这里不用jQuery获取是后期需要用到DOM元素,用jQuery也可以,用get或则[]就可以转为DOM元素</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> fileInput = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;fileInput&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> $btn = $(<span class="hljs-string">&quot;#btn&quot;</span>);</span><br><span class="language-javascript">        $btn.<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">//创建表单</span></span><br><span class="language-javascript">            <span class="hljs-comment">//这里new FormData不传入参数,因为这里只是上传一个图片,不存在其他数据,如果要传,传入form标签对应的DOM元素</span></span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> formData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormData</span>();</span><br><span class="language-javascript">            <span class="hljs-comment">//传入文件的key和value</span></span><br><span class="language-javascript">            <span class="hljs-comment">//fileInput.files[0]获取第一个文件,为什么是数组的我猜是因为开发js的为了和多文件上传一样用</span></span><br><span class="language-javascript">            formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">&quot;fileusers&quot;</span>, fileInput.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>]); </span><br><span class="language-javascript">            <span class="hljs-comment">//注意formData.append和formData.set区别,</span></span><br><span class="language-javascript">            $.<span class="hljs-title function_">ajax</span>(&#123;</span><br><span class="language-javascript">                <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;post&quot;</span>,</span><br><span class="language-javascript">                <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;http://localhost:3000/file&quot;</span>,</span><br><span class="language-javascript">                <span class="hljs-comment">//contentType:true;默认值,值为application/x-www-form-urlencoded</span></span><br><span class="language-javascript"><span class="hljs-comment">//contentType:false;值为multipart/form-data</span></span><br><span class="language-javascript">                <span class="hljs-comment">//重要!!!!!!!!!!!!!!!!!!!!!!!!</span></span><br><span class="language-javascript">                <span class="hljs-string">&quot;contentType&quot;</span>: <span class="hljs-literal">false</span>,</span><br><span class="language-javascript">               <span class="hljs-comment">//重要!!!!!!!!!!!!!!!!!!!!!!!!</span></span><br><span class="language-javascript">                <span class="hljs-string">&quot;processData&quot;</span>: <span class="hljs-literal">false</span>,</span><br><span class="language-javascript">                <span class="hljs-string">&quot;data&quot;</span>: formData,</span><br><span class="language-javascript">                <span class="hljs-string">&quot;success&quot;</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">                <span class="hljs-string">&quot;error&quot;</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;错误了&quot;</span>, error);</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="前端需要注意的"><a href="#前端需要注意的" class="headerlink" title="前端需要注意的"></a>前端需要注意的</h4><ol><li><p>注意formData.append和formData.set区别</p><ol><li>formData.append是如果存在值则会添加到后面,就像[{…},{…}]一样</li><li>formData.set是会覆盖前面的,只保留一个</li></ol></li><li><p><strong>jQuery上传数据的时候,记得设置下面二点</strong></p><ol><li>“processData”: false</li><li>“contentType”: false</li></ol></li><li><p>formData.append(“<strong>fileusers</strong>“, fileInput.files[0]); 当中<strong>fileusers</strong>在这里的作用</p><ol><li>后端multer需要通过用户定义的key,在这里也就是<strong>fileusers</strong>来设置数据</li></ol></li><li><p>new FormData();如果需要传入参数,是传入form标签对应的DOM元素</p></li></ol><h3 id="multer使用"><a href="#multer使用" class="headerlink" title="multer使用"></a>multer使用</h3><ul><li>大体分为而部分<ul><li>根据multer({})创建一个变量(对文件的一些设置和过滤),比如说 var <strong>fileOption</strong> &#x3D; multer({})</li><li>依据这个变量创建单例fileOption.single(key)或者fileOption.array(key,maxcount)</li><li>使用这个单例作为过滤器来对文件进行过滤和操作(也就是中间件)</li></ul></li></ul><h4 id="multer-创建一个变量当中一些可以设置的-具体可以参考官网"><a href="#multer-创建一个变量当中一些可以设置的-具体可以参考官网" class="headerlink" title="multer({})创建一个变量当中一些可以设置的(具体可以参考官网)"></a>multer({})创建一个变量当中一些可以设置的(具体可以参考官网)</h4><ol><li><p><strong>limits</strong>{对象}(一个对象，指定一些数据大小的限制)</p><table><thead><tr><th>Key</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>fieldNameSize</code></td><td>field 名字最大长度</td><td>100 bytes</td></tr><tr><td><code>fieldSize</code></td><td>field 值的最大长度</td><td>1MB</td></tr><tr><td><code>fields</code></td><td>非文件 field 的最大数量</td><td>无限</td></tr><tr><td><code>fileSize</code></td><td>在 multipart 表单中，文件最大长度 (字节单位)</td><td>无限</td></tr><tr><td><code>files</code></td><td>在 multipart 表单中，文件最大数量</td><td>无限</td></tr><tr><td><code>parts</code></td><td>在 multipart 表单中，part 传输的最大数量(fields + files)</td><td>无限</td></tr><tr><td><code>headerPairs</code></td><td>在 multipart 表单中，键值对最大组数</td><td>2000</td></tr></tbody></table></li><li><p><strong>fileFilter</strong>{函数}设置一个函数来控制什么文件可以上传以及什么文件应该跳过</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fileFilter</span> (req, file, cb) &#123;<br><br>  <span class="hljs-comment">// 这个函数应该调用 `cb` 用boolean值来</span><br>  <span class="hljs-comment">// 指示是否应接受该文件</span><br><br>  <span class="hljs-comment">// 拒绝这个文件，使用`false`，像这样:</span><br>  <span class="hljs-title function_">cb</span>(<span class="hljs-literal">null</span>, <span class="hljs-literal">false</span>)<br><br>  <span class="hljs-comment">// 接受这个文件，使用`true`，像这样:</span><br>  <span class="hljs-title function_">cb</span>(<span class="hljs-literal">null</span>, <span class="hljs-literal">true</span>)<br><br>  <span class="hljs-comment">// 如果有问题，你可以总是这样发送一个错误:</span><br>  <span class="hljs-title function_">cb</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;I don\&#x27;t have a clue!&#x27;</span>))<br><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>storage</strong>{返回值} 为运行multer.diskStorage({设置参数})的返回值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> storage = multer.<span class="hljs-title function_">diskStorage</span>(&#123;<br>  <span class="hljs-comment">//定义文件存储位置</span><br>  <span class="hljs-attr">destination</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">req, file, cb</span>) &#123;<br>    <span class="hljs-comment">//回调函数file当中 </span><br>    <span class="hljs-comment">/* file对象的内容&#123;</span><br><span class="hljs-comment">       fieldname: &#x27;fileusers&#x27;,//通过formData.append(key,value)添加的key值</span><br><span class="hljs-comment">       originalname: &#x27;_1464815392_.bmp&#x27;,//文件名</span><br><span class="hljs-comment">       encoding: &#x27;7bit&#x27;,//编码</span><br><span class="hljs-comment">       mimetype: &#x27;image/bmp&#x27;  //mimeType类型</span><br><span class="hljs-comment">     &#125; */</span><br>    <span class="hljs-comment">//cb(null,存储路径)</span><br>    <span class="hljs-title function_">cb</span>(<span class="hljs-literal">null</span>, <span class="hljs-string">&#x27;./myfile&#x27;</span>);<span class="hljs-comment">//可能是以fileup.js在哪里运行为基准的参考的</span><br>  &#125;,<br>  <span class="hljs-comment">//重定义上传的文件</span><br>  <span class="hljs-attr">filename</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">req, file, cb</span>) &#123;<br>    <span class="hljs-comment">//cb(null,新文件名称)</span><br>    <span class="hljs-title function_">cb</span>(<span class="hljs-literal">null</span>, file.<span class="hljs-property">fieldname</span> + <span class="hljs-string">&#x27;-&#x27;</span> + <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>())<br>  &#125;<br>&#125;)<br><br><span class="hljs-keyword">const</span> upload = <span class="hljs-title function_">multer</span>(&#123; <span class="hljs-attr">storage</span>: storage &#125;)<br></code></pre></td></tr></table></figure></li></ol><h4 id="multer代码"><a href="#multer代码" class="headerlink" title="multer代码"></a>multer代码</h4><p>当前目录下创建fileup.js文件和myfile文件夹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;express&quot;</span>);<br><span class="hljs-keyword">const</span> multer = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;multer&quot;</span>);<br><span class="hljs-keyword">var</span> app = <span class="hljs-title function_">express</span>(); <span class="hljs-comment">//创建express实例</span><br><br><span class="hljs-comment">//这里是为了后期没有跨域问题设置的静态资源目录</span><br><span class="hljs-comment">//__dirname为NodeJS全局变量: 返回运行当前js的文件夹的绝对路径</span><br>app.<span class="hljs-title function_">use</span>(<span class="hljs-string">&quot;/&quot;</span>, express.<span class="hljs-title function_">static</span>(__dirname));<br><br><span class="hljs-comment">//根据multer(&#123;&#125;)创建一个变量(对文件的一些设置和过滤)</span><br><span class="hljs-keyword">var</span> fileOption = <span class="hljs-title function_">multer</span>(&#123;<br>    <span class="hljs-comment">//上传限制</span><br>    <span class="hljs-attr">limits</span>: &#123;<br>        <span class="hljs-attr">fileSize</span>: <span class="hljs-number">5</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>,<br>        <span class="hljs-attr">files</span>: <span class="hljs-number">1</span><br>    &#125;,<br>    <span class="hljs-comment">//存储位置</span><br>    <span class="hljs-attr">storage</span>: multer.<span class="hljs-title function_">diskStorage</span>(&#123;<br>        <span class="hljs-attr">destination</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">req, file, cb</span>) &#123;<br>            <span class="hljs-title function_">cb</span>(<span class="hljs-literal">null</span>, <span class="hljs-string">&#x27;./myfile&#x27;</span>);<br>        &#125;,<br>        <span class="hljs-comment">//重定义上传的文件</span><br>        <span class="hljs-attr">filename</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">req, file, cb</span>) &#123;<br>            <span class="hljs-comment">//cb(null,新文件名称)</span><br>            <span class="hljs-title function_">cb</span>(<span class="hljs-literal">null</span>, file.<span class="hljs-property">fieldname</span> + <span class="hljs-string">&#x27;-&#x27;</span> + <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()+<span class="hljs-string">&quot;-&quot;</span>+file.<span class="hljs-property">originalname</span>);<br>        &#125;<br>    &#125;),<br>    <span class="hljs-comment">//过滤</span><br>    <span class="hljs-attr">fileFilter</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">req, file, cb</span>) &#123;<br>        <span class="hljs-comment">//这里就不写了~,如果添加了这个对象,一定要设置cb(null,true);不然数据过不去</span><br>        <span class="hljs-title function_">cb</span>(<span class="hljs-literal">null</span>,<span class="hljs-literal">true</span>);<br>    &#125;<br>&#125;);<br><br><span class="hljs-comment">//依据这个变量创建单例multer.single(key)或者multer.array(key,maxcount)</span><br><span class="hljs-keyword">var</span> fileOptionFunction=fileOption.<span class="hljs-title function_">single</span>(<span class="hljs-string">&quot;fileusers&quot;</span>);<span class="hljs-comment">//传入通过formData.append(key,value)添加的key值</span><br><span class="hljs-comment">//后期ajax提交地址就为:http://localhost:3000/file 端口号可在下方自行设置</span><br>app.<span class="hljs-title function_">post</span>(<span class="hljs-string">&quot;/file&quot;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//这里传入的是app.post当中的req,和res</span><br>    <span class="hljs-title function_">fileOptionFunction</span>(req,res,<span class="hljs-function">(<span class="hljs-params">error</span>)=&gt;</span>&#123;<br>        <span class="hljs-keyword">if</span> (error) &#123;<br>            <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">send</span>(&#123;<span class="hljs-attr">err</span>:-<span class="hljs-number">1</span>,<span class="hljs-attr">msg</span>:<span class="hljs-string">&#x27;上传图片不能大于5M&#x27;</span>&#125;)<br>        &#125;<br>        res.<span class="hljs-title function_">send</span>(&#123;<span class="hljs-attr">error</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">msg</span>:<span class="hljs-string">&quot;文件上传成功&quot;</span>&#125;)<br>    &#125;)<br>&#125;)<br><br><span class="hljs-comment">//设置在本地端口3000</span><br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-string">&quot;3000&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;-------------server start-------------------&quot;</span>);<br>&#125;)<br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220329220433.png"></p><h4 id="multer部分需要注意的"><a href="#multer部分需要注意的" class="headerlink" title="multer部分需要注意的"></a>multer部分需要注意的</h4><ol><li>如果使用app.post(“&#x2F;file”, uploadOption.single(“fileusers”),(req, res) &#x3D;&gt; {      });好像无法处理文件过大时候的异常</li><li>如果使用上面fileup.js文件当中的方式,可以在回调当中处理文件过大时候的异常</li><li>如果设置了文件过滤,那么遇到不符合的文件扩展名,req.file的值会为undefined</li><li>如果设置了fileFilter文件过滤,一定要设置cb(null,true)(通过),或者cb(null,false);(不通过),不然留空的话数据会一直处于”pending”状态</li></ol><h3 id="具体文件目录结构和参考完整代码下载"><a href="#具体文件目录结构和参考完整代码下载" class="headerlink" title="具体文件目录结构和参考完整代码下载"></a>具体文件目录结构和参考完整代码下载</h3><p>启动后浏览器输入<a href="http://localhost:3000/up.html">http://localhost:3000/up.html</a></p><h4 id="目录文件结构"><a href="#目录文件结构" class="headerlink" title="目录文件结构"></a>目录文件结构</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220329220518.png"></p><h4 id="参考完整代码下载"><a href="#参考完整代码下载" class="headerlink" title="参考完整代码下载"></a>参考完整代码下载</h4><p><a href="https://github.com/superBiuBiuMan/demonForUpFile">express+multer+jQuery前端后端上传单个文件演示</a></p>]]></content>
    
    
    <categories>
      
      <category>javscript</category>
      
      <category>jQuery</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NodeJs</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>js当中的图片懒加载,懒加载的一些概念和相关知识点</title>
    <link href="/2022/03/24/%E5%B7%A5%E5%85%B7%E5%BA%93%E7%AC%94%E8%AE%B0/%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD%E5%8E%9F%E7%90%86/"/>
    <url>/2022/03/24/%E5%B7%A5%E5%85%B7%E5%BA%93%E7%AC%94%E8%AE%B0/%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD%E5%8E%9F%E7%90%86/</url>
    
    <content type="html"><![CDATA[<h3 id="知道什么是懒加载"><a href="#知道什么是懒加载" class="headerlink" title="知道什么是懒加载"></a>知道什么是懒加载</h3><h4 id="说通俗点就是轮到我我再出现-而不是一进入页面就出现"><a href="#说通俗点就是轮到我我再出现-而不是一进入页面就出现" class="headerlink" title="说通俗点就是轮到我我再出现,而不是一进入页面就出现"></a>说通俗点就是轮到我我再出现,而不是一进入页面就出现</h4><h4 id="为什么需要"><a href="#为什么需要" class="headerlink" title="为什么需要"></a>为什么需要</h4><ol><li>节省资源</li><li>加快网页打开</li><li>提升用户体育</li><li>巴拉巴拉</li></ol><h3 id="懒加载原理"><a href="#懒加载原理" class="headerlink" title="懒加载原理"></a>懒加载原理</h3><p class="note note-info">红色为我们实际看到的浏览器窗口,黑色的为实际网页的长度</p><h5 id="我们刚进入主页的时候"><a href="#我们刚进入主页的时候" class="headerlink" title="我们刚进入主页的时候"></a>我们刚进入主页的时候</h5><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220323212758.png" style="zoom:50%;" /><p>用户拖动滚动条,看到绿色的框框,这些绿色的框框才开始加载出来</p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220323213458.png" style="zoom:50%;" /><h3 id="必要知道的知识"><a href="#必要知道的知识" class="headerlink" title="必要知道的知识"></a>必要知道的知识</h3><ol><li><p>获取元素距离顶部(body)的距离:元素.offsetTop</p><ol><li>注意:如果元素的父元素(不管是祖父还是曾祖父还是亲生父亲),只要任意一个父亲开启了定位(不管是相对还是绝对),那么子元素的offsetTop属性值都是参考父元素的</li><li>如果父元素没有开启定位,那么就参考body</li><li>元素.offsetLeft同理</li></ol></li><li><p>获取浏览器垂直滚动的距离:document.documentElement.onscrollTop</p></li><li><p>offsetTop和offsetLeft 这两个属性,IE 、Opera和Firefox对它俩的解释存在差异：</p><ol><li>IE5.0+ 、Opera8.0+：　offsetTop和offsetLeft 都是相对父级元素</li><li>Firefox1.06： offsetTop和offsetLeft 都是相对于body元素</li></ol></li><li><p>为了解决父元素如果开启定位的问题,我们可以使用offsetParent加循环获取距离body的距离</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//获取元素距离body的top值和left值</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">getPoint</span>(<span class="hljs-params">obj</span>) &#123;<br>    <span class="hljs-comment">//记录left的值</span><br>    <span class="hljs-keyword">var</span> left = <span class="hljs-number">0</span>;<br>    <span class="hljs-comment">//记录top的值</span><br>    <span class="hljs-keyword">var</span> top = <span class="hljs-number">0</span>;<br>    <span class="hljs-comment">//如果需要减去边框的距离,可以解除下面这二行注释</span><br>    <span class="hljs-comment">//var borderLeftWidth;</span><br>    <span class="hljs-comment">//var borderTopWidth;</span><br>    <br>    <span class="hljs-comment">//如果obj.offsetParent获取不到父级了,就会跳出循环</span><br>    <span class="hljs-keyword">while</span> (obj) &#123;<br>        left = left + obj.<span class="hljs-property">offsetLeft</span>;<br>        top = top + obj.<span class="hljs-property">offsetTop</span>;<br>        <span class="hljs-comment">//如果需要减去边框的距离,可以解除下面这二行注释,并将前二行注释</span><br>        <span class="hljs-comment">//left = left + obj.offsetLeft - borderLeftWidth;</span><br>        <span class="hljs-comment">//top = top + obj.offsetTop - borderTopWidth;</span><br>        obj = obj.<span class="hljs-property">offsetParent</span>;<br>    &#125;<br>    <span class="hljs-comment">//返回距离body的left值和top值</span><br>    <span class="hljs-keyword">return</span> &#123;<br>        left,<br>        top<br>    &#125;;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220324113529.png"></p></li></ol><h3 id="实现懒加载"><a href="#实现懒加载" class="headerlink" title="实现懒加载"></a>实现懒加载</h3><ol><li><p>一开始的思路(错误的):</p><ol><li>先获取元素距离可视窗口顶部的距离,然后再和可视窗口的高度进行比较,如果小于可视窗口的高度,就加载出来(错误,因为二者距离都是死的)</li></ol></li><li><p>后来的思路(正确的)</p><ol><li>还是依旧获取元素距离可是窗口顶部的距离,然后再和(可视窗口的高度+滚动的距离)进行比较,如果某一个元素距离顶部距离小于这二者之和的距离,则元素里面的资源加载出来</li></ol></li></ol><h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><h5 id="css代码"><a href="#css代码" class="headerlink" title="css代码"></a>css代码</h5>   <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs css">&lt;style&gt;<br>    * &#123;<br>        <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;<br>        <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-selector-tag">body</span>,<br>    <span class="hljs-selector-tag">html</span> &#123;<br>        <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br>        <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;<br>    &#125;<br>    <span class="hljs-selector-tag">img</span> &#123;<br>        <span class="hljs-attribute">vertical-align</span>: bottom;<br>        <span class="hljs-attribute">display</span>: inline;<br>        <span class="hljs-attribute">width</span>: <span class="hljs-number">590px</span>;<br>        <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;<br>    &#125;<br>    <span class="hljs-selector-class">.content</span> &#123;<br>        <span class="hljs-attribute">width</span>: <span class="hljs-number">1200px</span>;<br>        <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;<br>    &#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><h5 id="HTML代码"><a href="#HTML代码" class="headerlink" title="HTML代码"></a>HTML代码</h5>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;div <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;header&quot;</span>&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>图片展示<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>&lt;/div&gt;<br>&lt;div class=&quot;content&quot;&gt;<br>    &lt;img data-src=&quot;./img/01.jpg&quot; alt=&quot;&quot;&gt;<br>    &lt;img data-src=&quot;./img/02.jpg&quot; alt=&quot;&quot;&gt;<br>    &lt;img data-src=&quot;./img/03.jpg&quot; alt=&quot;&quot;&gt;<br>    &lt;img data-src=&quot;./img/04.jpg&quot; alt=&quot;&quot;&gt;<br>    &lt;img data-src=&quot;./img/05.jpg&quot; alt=&quot;&quot;&gt;<br>    &lt;img data-src=&quot;./img/06.jpg&quot; alt=&quot;&quot;&gt;<br>    &lt;img data-src=&quot;./img/07.jpg&quot; alt=&quot;&quot;&gt;<br>    &lt;img data-src=&quot;./img/08.jpg&quot; alt=&quot;&quot;&gt;<br>    &lt;img data-src=&quot;./img/09.jpg&quot; alt=&quot;&quot;&gt;<br>    &lt;img data-src=&quot;./img/10.jpg&quot; alt=&quot;&quot;&gt;<br>    &lt;img data-src=&quot;./img/10.jpg&quot; alt=&quot;&quot;&gt;<br>    &lt;img data-src=&quot;./img/11.jpg&quot; alt=&quot;&quot;&gt;<br>    &lt;img data-src=&quot;./img/12.jpg&quot; alt=&quot;&quot;&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure><h5 id="JavaScript代码"><a href="#JavaScript代码" class="headerlink" title="JavaScript代码"></a>JavaScript代码</h5>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br>        <span class="hljs-comment">//获取元素距离body的top值和left值</span><br>        <span class="hljs-keyword">function</span> <span class="hljs-title function_">getPoint</span>(<span class="hljs-params">obj</span>) &#123;<br>            <span class="hljs-keyword">var</span> left = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">var</span> top = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">while</span> (obj) &#123;<br>                left = left + obj.<span class="hljs-property">offsetLeft</span>;<br>                top = top + obj.<span class="hljs-property">offsetTop</span>;<br>                obj = obj.<span class="hljs-property">offsetParent</span>;<br>            &#125;<br>            <span class="hljs-keyword">return</span> &#123;<br>                left,<br>                top<br>            &#125;;<br>        &#125;<br>        <span class="hljs-comment">//防止图片没有加载出来获取不到图片的offsetTop值,就填加了一个window.onload事件</span><br><span class="hljs-comment">//页面初始化(用户刚刚进入页面的时候)</span><br>        <span class="hljs-variable language_">window</span>.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-keyword">var</span> domHeight = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">clientHeight</span>; <span class="hljs-comment">//视口的高度</span><br>            <span class="hljs-keyword">var</span> imgs = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&quot;img&quot;</span>);<br>            <span class="hljs-comment">//然后循环</span><br>            <span class="hljs-comment">//每一个元素判断距离body的值是否 小于 (可视窗口的高度+垂直滚动的距离)</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> v <span class="hljs-keyword">of</span> imgs) &#123;<br>                <span class="hljs-keyword">if</span> (<span class="hljs-title function_">getPoint</span>(v).<span class="hljs-property">top</span> &lt; (domHeight + <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">scrollTop</span>)) &#123;<br>                    <span class="hljs-comment">//显示图片</span><br>                    <span class="hljs-comment">// v.src=v.dataset.src;也可以获取自定义属性值</span><br>                    v.<span class="hljs-property">src</span> = v.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&quot;data-src&quot;</span>);<br>                &#125;<br>            &#125;<br>        &#125;<br><span class="hljs-comment">//滚动事件</span><br>        <span class="hljs-variable language_">window</span>.<span class="hljs-property">onscroll</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-keyword">var</span> domHeight = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">clientHeight</span>; <span class="hljs-comment">//视口的高度</span><br>            <span class="hljs-keyword">var</span> imgs = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&quot;img&quot;</span>);<br>            <span class="hljs-comment">//然后循环</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> v <span class="hljs-keyword">of</span> imgs) &#123;<br>                <span class="hljs-comment">//每一个元素判断距离body的值是否 小于 (可视窗口的高度+垂直滚动的距离)</span><br>                <span class="hljs-keyword">if</span> (<span class="hljs-title function_">getPoint</span>(v).<span class="hljs-property">top</span> &lt; (domHeight + <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">scrollTop</span>)) &#123;<br>                    <span class="hljs-comment">//显示图片</span><br>                    <span class="hljs-comment">// v.src=v.dataset.src;</span><br>                    v.<span class="hljs-property">src</span> = v.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&quot;data-src&quot;</span>);<br>                &#125;<br>            &#125;<br>        &#125;<br>    &lt;/script&gt;<br></code></pre></td></tr></table></figure><h3 id="展示效果"><a href="#展示效果" class="headerlink" title="展示效果"></a>展示效果</h3><p>   可以看到图片不是一次性加载出来,而是随着滚动条滚动才加载出来的</p><p>   <img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/%E5%8A%A8%E7%94%BB.gif"></p>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>javscript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>使用优启通(EasyU)重装系统教程(详细)</title>
    <link href="/2022/03/23/%E7%B3%BB%E7%BB%9F/%E9%87%8D%E8%A3%85%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B/"/>
    <url>/2022/03/23/%E7%B3%BB%E7%BB%9F/%E9%87%8D%E8%A3%85%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><ul><li>为什么要制作一个启动盘才能重装系统?</li></ul><p>通俗点来说就是你自己生病了，自己一般不能自己帮自己看病，一般都是别人看病。电脑也是如此，需要一个第三方来“治疗”。</p><ul><li>为什么使用EasyU？而不使用老毛_，巴拉巴拉。。。。。</li></ul><p>因为其他的很多启动盘制作工具有广告，会在系统安装的时候安装第三方软件。</p><h3 id="资源下载"><a href="#资源下载" class="headerlink" title="资源下载"></a>资源下载</h3><ul><li>启动盘制作工具(任选一个下载地址)：</li></ul><p><a href="https://www.123pan.com/s/9biA-hNeHh">下载地址1:123盘(不限速)</a></p><p><a href="https://pan.baidu.com/s/1HF1BuiAY39FPDlQNM1yk3w">下载地址2:百度网盘</a></p><ul><li>系统镜像：</li></ul><p><a href="http://y-os.net/">http://y-os.net/(第三方修改镜像)</a></p><p><a href="https://next.itellyou.cn/Original/#">ITELLYOU.CN.(官方原版镜像)</a></p><p><a href="https://www.winos.me/">https://www.winos.me/(第三方修改镜像)</a></p><ul><li>激活工具：</li></ul><p><a href="https://www.aliyundrive.com/s/YcbwkhiGMFM">EasyActivate(阿里云盘下载)</a></p><h3 id="第一步-制作启动盘"><a href="#第一步-制作启动盘" class="headerlink" title="第一步:制作启动盘"></a>第一步:制作启动盘</h3><ol><li>下载后解压文件夹，选中这个<strong>EasyU</strong></li></ol><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220323192507.png"></p><ol start="2"><li><p>选中自己的u盘，然后点击全新制作</p><p class="note note-danger">U盘会格式化！！！！，在制作启动盘之前先备份U盘文件！！！</p></li></ol><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220323192615.png"></p><ol start="3"><li>单击确定</li></ol><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220323192816.png"></p><p class="note note-info">注意看是否是自己的u盘，比如说金士顿的，一般里面会有kingston，闪迪的SanDisk等等，注意看自己有没有选错了U盘</p><ol start="4"><li>等待制作完成</li></ol><p><code>（这个是EasyU Vip版本的，功能更多点，使用制作起来会比较慢）</code></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220323192925.png"></p><p><em>等啊等</em></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220323192950.png"></p><ol start="5"><li>制作启动盘完成</li></ol><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220323193017.png"></p><ol start="6"><li>单击退出</li></ol><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220323193040.png"></p><p>7.制作好后的启动盘在磁盘当中是这样子的</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220323193104.png"></p><h3 id="第二步-下载镜像并存入u盘"><a href="#第二步-下载镜像并存入u盘" class="headerlink" title="第二步:下载镜像并存入u盘"></a>第二步:下载镜像并存入u盘</h3><p class="note note-info">这里随便找了一个别人封装好的系统镜像</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220323193151.png"></p><p>好了,放进去了</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220323193232.png"></p><h3 id="第三步-正式开始重装"><a href="#第三步-正式开始重装" class="headerlink" title="第三步:正式开始重装"></a>第三步:正式开始重装</h3><ol><li>进入启动盘，很多笔记本是电脑开机后，一直按ESC，等到出现,就像这样子(各个品牌不同,有的F2 F12,具体可以百度搜索品牌+进入启动项快捷键)</li></ol><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220323193402.png"></p><ol start="2"><li>我们选择UEFIXXXXX开头的,如果 UEFI:Generic STORAGE DEVICE 1404,Partition 1启动失败,那么我们选择 UEFI:Generic STORAGE DEVICE 1404,Partition 2</li><li>选择一个进入mini系统~，我选择的是[3] UEFI WINDOWS 10 PE X64</li></ol><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220323193457.png"></p><ol start="4"><li>进入mini系统后,我们选择红色圈圈(EIX系统安装)</li></ol><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220323193550.png"></p><ol start="5"><li>我们点击这方框这三个(<strong>按照1,2,3顺序点击</strong>)<img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220323193608.png"></li></ol><p class="note note-danger">最后才点击一键恢复！！！</p><ol start="6"><li>关闭 <strong>恢复完成后自动运行万能驱动</strong> 选择, 之后再次点击<strong>确定</strong></li></ol><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220323193737.png"></p><ol start="7"><li><p>等待安装完成<img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220323193753.png"></p></li><li><p>安装完后过段时间会自动启动系统，等待系统安装完成</p></li></ol><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220323193817.png"></p><h3 id="第四步-激活系统"><a href="#第四步-激活系统" class="headerlink" title="第四步:激活系统"></a>第四步:激活系统</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220323193903.png"></p><h3 id="完成系统激活"><a href="#完成系统激活" class="headerlink" title="完成系统激活"></a>完成系统激活</h3><h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><ol><li>系统安装完成后系统会自动联网安装驱动,比如显卡驱动</li><li>以防万一,最好自己用软件装下驱动,比如360驱动大师,驱动总裁</li><li>下面二个必装运行库(不装后面很多软件会报错导致打不开)</li></ol><p><a href="https://www.aliyundrive.com/s/G7qgfBuZCcs">微软常用运行库合集提取码1fa4 解压密码yrxitong.com</a></p><p><a href="https://www.123pan.com/s/9biA-9NeHh">DirectX.Repair</a></p>]]></content>
    
    
    <categories>
      
      <category>系统</category>
      
    </categories>
    
    
    <tags>
      
      <tag>系统</tag>
      
      <tag>重装系统</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ES5当中var只有全局作用域和函数作用域,注意变量提升在var中的坑</title>
    <link href="/2022/03/22/%E5%89%8D%E7%AB%AF/%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87/"/>
    <url>/2022/03/22/%E5%89%8D%E7%AB%AF/%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87/</url>
    
    <content type="html"><![CDATA[<h3 id="前置知识"><a href="#前置知识" class="headerlink" title="前置知识"></a>前置知识</h3><ol><li>在ES5当中,变量的作用域只有全局作用域和函数作用域之分的,也就是说,你使用 var 关键字创建的变量,要么是全局都可以使用的,要么就是函数内部可以使用的</li><li>在ES5当中,var定义的变量是会变量提升的</li><li>在ES6当中,let是块级作用域,不会变量提升</li></ol><h3 id="于是乎产生了一次错误"><a href="#于是乎产生了一次错误" class="headerlink" title="于是乎产生了一次错误"></a>于是乎产生了一次错误</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br>      <span class="hljs-keyword">var</span> data=<span class="hljs-string">&#x27;动感超人&#x27;</span><br>      <span class="hljs-keyword">if</span>(data)&#123;<br>          <span class="hljs-keyword">var</span> flag=<span class="hljs-literal">true</span>;<br>      &#125;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(flag);<span class="hljs-comment">//输出结果为true</span><br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><h4 id="这一段代码一看就是true"><a href="#这一段代码一看就是true" class="headerlink" title="这一段代码一看就是true"></a>这一段代码一看就是true</h4><ol><li><p>在js当中,除了 <strong>null</strong>  <strong>undefined</strong>   <strong>“”</strong> <strong>NaN</strong> <strong>false</strong> 这四个转化为布尔值为false,其他均为true</p></li><li><p>所以data&#x3D;”动感超人”转化为布尔值为true~所以执行var flag&#x3D;true;</p></li><li><p>由于var只有全局作用域和函数作用域,所以var flag为<strong>全局变量</strong></p><h4 id="代码改改"><a href="#代码改改" class="headerlink" title="代码改改"></a>代码改改</h4></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br>     <span class="hljs-keyword">var</span> data=<span class="hljs-string">&#x27;&#x27;</span><br>     <span class="hljs-keyword">if</span>(data)&#123;<br>         <span class="hljs-keyword">var</span> flag=<span class="hljs-literal">true</span>;<br>     &#125;<br>     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(flag);<br> &lt;/script&gt;<br></code></pre></td></tr></table></figure><h4 id="这一段代码呢"><a href="#这一段代码呢" class="headerlink" title="这一段代码呢?"></a>这一段代码呢?</h4><p class="note warn-note">结果为undefined<p><h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><h4 id="执行流程"><a href="#执行流程" class="headerlink" title="执行流程"></a>执行流程</h4><p>1.js引擎执行js代码前先看看有没有可以变量提升,函数提升),上面代码转换下实际上是这样子在执行的过程中</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br>    <span class="hljs-keyword">var</span> data;<span class="hljs-comment">//变量提升</span><br> <span class="hljs-keyword">var</span> flag;<span class="hljs-comment">//变量提升</span><br>    data=<span class="hljs-string">&#x27;&#x27;</span><span class="hljs-comment">//赋值</span><br>    <span class="hljs-keyword">if</span>(data)&#123;<span class="hljs-comment">//转布尔值为false</span><br>         flag=<span class="hljs-literal">true</span>;<span class="hljs-comment">//条件不成立,不执行赋值</span><br>    &#125;<br>     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(flag);<span class="hljs-comment">//没有赋值,又为全局变量,不报错,但是输出为undefined</span><br> &lt;/script&gt;<br></code></pre></td></tr></table></figure><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><h4 id="施主-要小心-小心-再小心-阿弥陀佛"><a href="#施主-要小心-小心-再小心-阿弥陀佛" class="headerlink" title="施主,要小心,小心,再小心~阿弥陀佛"></a>施主,要小心,小心,再小心~阿弥陀佛</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220316215624.png"></p>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>javscript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>nth-of-type选择器使用的一个坑</title>
    <link href="/2022/03/15/%E5%89%8D%E7%AB%AF/nth-of-type%E7%9A%84%E4%B8%80%E4%B8%AA%E5%9D%91/"/>
    <url>/2022/03/15/%E5%89%8D%E7%AB%AF/nth-of-type%E7%9A%84%E4%B8%80%E4%B8%AA%E5%9D%91/</url>
    
    <content type="html"><![CDATA[<h3 id="前景"><a href="#前景" class="headerlink" title="前景"></a>前景</h3><p>一段HTML代码,我需要让<strong>第一个类名为content</strong>的div背景设置为红色的</p><ol><li>js代码</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;header&quot;</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;header&quot;</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span>4<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><ol start="2"><li>style样式</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">      <span class="hljs-selector-tag">div</span>&#123;</span><br><span class="language-css">          <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">          <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">          <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid red;</span><br><span class="language-css">      &#125;</span><br><span class="language-css">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="一开始想到的"><a href="#一开始想到的" class="headerlink" title="一开始想到的"></a>一开始想到的</h3><ol><li><strong>要选第一个类名为content</strong>,当然是nth-of-type了,因为我只想要让拥有content类的div容器被选择</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs html">//错误的选择器代码<br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.content</span><span class="hljs-selector-pseudo">:nth-of-type</span>(<span class="hljs-number">1</span>)&#123;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: red;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><br></code></pre></td></tr></table></figure><ol start="2"><li>结果如下</li></ol><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220315162328.png"></p><h3 id="为什么没有用"><a href="#为什么没有用" class="headerlink" title="为什么没有用?"></a>为什么没有用?</h3><ol><li>:nth-of-type当中没有指定标签,那么就会查找第一个匹配的,同级别下所对应的所有元素标签(后面有具体解释和示例)</li><li>:nth-of-type针对的是标签选择器,也就说你用类和nth-of-type结合使用是不恰当的,如果要使用,记得先用类名筛选,再用标签使用nth-of-type选择器</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//也就是这种,先用类名筛选,再用标签使用nth-of-type选择器</span><br>.<span class="hljs-property">one</span> <span class="hljs-attr">p</span>:nth-<span class="hljs-keyword">of</span>-<span class="hljs-title function_">type</span>(<span class="hljs-params"><span class="hljs-number">2</span></span>)&#123;<br>    xxxxxx<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="分析设置代码的-浏览器做了什么"><a href="#分析设置代码的-浏览器做了什么" class="headerlink" title="分析设置代码的,浏览器做了什么"></a>分析设置代码的,浏览器做了什么</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript">   <span class="hljs-comment">//也就是这段js代码</span><br>&lt;style&gt;<br>       .<span class="hljs-property">content</span>:nth-<span class="hljs-keyword">of</span>-<span class="hljs-title function_">type</span>(<span class="hljs-params"><span class="hljs-number">1</span></span>)&#123;<br>           background-<span class="hljs-attr">color</span>: red;<br>       &#125;<br>   &lt;/style&gt;<br></code></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--js代码对应的html代码--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;header&quot;</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;header&quot;</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span>4<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="浏览器做了什么示意图"><a href="#浏览器做了什么示意图" class="headerlink" title="浏览器做了什么示意图"></a>浏览器做了什么示意图</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/2022-3-15-183443.png"></p><h3 id="再来举个例子"><a href="#再来举个例子" class="headerlink" title="再来举个例子"></a>再来举个例子</h3><ol><li><p>首先,由于我们没有书写具体要在哪一个标签,那么浏览器就会全局查找拥有这个类的标签,并且把这个类下同级别的所有标签加入到待查列表<br><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220315172203.png"></p></li><li><p>.content:nth-of-type(2) 例子<img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220315172549.png"></p></li><li><p>.content:nth-of-type(1)例子<img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220315172728.png"></p></li></ol>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>javscript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2020年用JAVA制作的一个小项目图标快捷启动管理的</title>
    <link href="/2022/03/08/%E5%85%B6%E4%BB%96%E8%AF%AD%E8%A8%80/2020%E5%B9%B4%E7%94%A8JAVA%E5%88%B6%E4%BD%9C%E7%9A%84%E4%B8%80%E4%B8%AA%E5%B0%8F%E9%A1%B9%E7%9B%AE%E5%9B%BE%E6%A0%87%E5%BF%AB%E6%8D%B7%E5%90%AF%E5%8A%A8%E7%AE%A1%E7%90%86%E7%9A%84/"/>
    <url>/2022/03/08/%E5%85%B6%E4%BB%96%E8%AF%AD%E8%A8%80/2020%E5%B9%B4%E7%94%A8JAVA%E5%88%B6%E4%BD%9C%E7%9A%84%E4%B8%80%E4%B8%AA%E5%B0%8F%E9%A1%B9%E7%9B%AE%E5%9B%BE%E6%A0%87%E5%BF%AB%E6%8D%B7%E5%90%AF%E5%8A%A8%E7%AE%A1%E7%90%86%E7%9A%84/</url>
    
    <content type="html"><![CDATA[<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-number">2020</span><span class="hljs-string">年的了,本来想用这个参加学校的作品大赛的获取经验的,想参加试试看,因为疫情没弄成,取消了</span><br></code></pre></td></tr></table></figure><h3 id="用JAVA写的-支持库都放在里面了"><a href="#用JAVA写的-支持库都放在里面了" class="headerlink" title="用JAVA写的,支持库都放在里面了"></a>用JAVA写的,支持库都放在里面了</h3><ul><li>感兴趣的可以下载看看</li><li><a href="https://github.com/superBiuBiuMan/JAVAlikeVstart">github地址</a></li></ul><h3 id="功能展示"><a href="#功能展示" class="headerlink" title="功能展示"></a>功能展示</h3><h4 id="默认主界面"><a href="#默认主界面" class="headerlink" title="默认主界面"></a>默认主界面</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220308181426.png"></p><h4 id="托盘菜单"><a href="#托盘菜单" class="headerlink" title="托盘菜单"></a>托盘菜单</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220308181447.png"></p><h4 id="右键空白菜单"><a href="#右键空白菜单" class="headerlink" title="右键空白菜单"></a>右键空白菜单</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220308182452.png"></p><h4 id="添加网站快捷方式"><a href="#添加网站快捷方式" class="headerlink" title="添加网站快捷方式"></a>添加网站快捷方式</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220308181518.png"></p><h4 id="添加其他图标"><a href="#添加其他图标" class="headerlink" title="添加其他图标"></a>添加其他图标</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220308182504.png"></p><h4 id="分类栏重命名"><a href="#分类栏重命名" class="headerlink" title="分类栏重命名"></a>分类栏重命名</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220308181548.png"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220308181601.png"></p><h4 id="右键图标菜单栏"><a href="#右键图标菜单栏" class="headerlink" title="右键图标菜单栏"></a>右键图标菜单栏</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220308182522.png"></p><h4 id="顶部导航栏"><a href="#顶部导航栏" class="headerlink" title="顶部导航栏"></a>顶部导航栏</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220308182534.png"></p><h4 id="搜索功能"><a href="#搜索功能" class="headerlink" title="搜索功能"></a>搜索功能</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220308182543.png"></p><h3 id="还有其他的就不展示图片了"><a href="#还有其他的就不展示图片了" class="headerlink" title="还有其他的就不展示图片了~"></a>还有其他的就不展示图片了~</h3>]]></content>
    
    
    <categories>
      
      <category>JAVA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JAVA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>迭代器自定义数据输出当中this指向</title>
    <link href="/2022/02/28/%E5%89%8D%E7%AB%AF/%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E6%95%B0%E6%8D%AE%E8%BE%93%E5%87%BA%E5%BD%93%E4%B8%ADthis%E6%8C%87%E5%90%91/"/>
    <url>/2022/02/28/%E5%89%8D%E7%AB%AF/%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E6%95%B0%E6%8D%AE%E8%BE%93%E5%87%BA%E5%BD%93%E4%B8%ADthis%E6%8C%87%E5%90%91/</url>
    
    <content type="html"><![CDATA[<h2 id="前置知识"><a href="#前置知识" class="headerlink" title="前置知识"></a>前置知识</h2><ol><li>在箭头函数当中,this的指向为函数声明时所在作用域下this的值</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><h3 id="next为普通函数"><a href="#next为普通函数" class="headerlink" title="next为普通函数"></a>next为普通函数</h3><h4 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> resultGet = &#123;<br>            <span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,<br>            <span class="hljs-string">&quot;day&quot;</span>: <span class="hljs-string">&quot;02/ 27&quot;</span>,<br>            <span class="hljs-string">&quot;result&quot;</span>: [&#123;<br>                    <span class="hljs-string">&quot;date&quot;</span>: <span class="hljs-string">&quot;272年02月27日&quot;</span>,<br>                    <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;罗马帝国皇帝君士坦丁大帝出生&quot;</span><br>                &#125;,<br>                &#123;<br>                    <span class="hljs-string">&quot;date&quot;</span>: <span class="hljs-string">&quot;684年02月27日&quot;</span>,<br>                    <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;唐中宗李显被母亲武则天废为庐陵王，驱离京师&quot;</span><br>                &#125;,<br>            ]<br>        &#125;;<br>        resultGet[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>] = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;外面的&#x27;</span>, <span class="hljs-variable language_">this</span>);<span class="hljs-comment">//普通函数--指向的是要处理的数据,在这里也就是resultGet</span><br>            <span class="hljs-keyword">return</span> &#123;<br>                <span class="hljs-comment">//这里改为箭头函数,其他的不变</span><br>                <span class="hljs-string">&#x27;next&#x27;</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>                    <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">1</span>) &#123;<br>                        i++;<br>                        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;里面的&#x27;</span>, <span class="hljs-variable language_">this</span>);<span class="hljs-comment">//普通--指向的指向的是刚刚return创建的指针对象</span><br>                        <span class="hljs-keyword">return</span> &#123;<br>                            <span class="hljs-string">&#x27;value&#x27;</span>: <span class="hljs-string">&#x27;测试&#x27;</span>,<br>                            <span class="hljs-string">&#x27;done&#x27;</span>: <span class="hljs-literal">false</span><br>                        &#125;;<br>                    &#125; <span class="hljs-keyword">else</span> &#123;<br>                        <span class="hljs-keyword">return</span> &#123;<br>                            <span class="hljs-string">&#x27;value&#x27;</span>: <span class="hljs-string">&#x27;测试&#x27;</span>,<br>                            <span class="hljs-string">&#x27;done&#x27;</span>: <span class="hljs-literal">true</span><br>                        &#125;;<br>                    &#125;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">//调用迭代器,测试里面的console.log()</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> v <span class="hljs-keyword">of</span> resultGet) &#123;<br><br>        &#125;<br></code></pre></td></tr></table></figure><h4 id="运行结果"><a href="#运行结果" class="headerlink" title="运行结果"></a>运行结果</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220228084551.png" alt="next为普通函数运行结果截图"></p><h3 id="next为箭头函数"><a href="#next为箭头函数" class="headerlink" title="next为箭头函数"></a>next为箭头函数</h3><h4 id="代码-2"><a href="#代码-2" class="headerlink" title="代码"></a>代码</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> resultGet = &#123;<br>    <span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,<br>    <span class="hljs-string">&quot;day&quot;</span>: <span class="hljs-string">&quot;02/ 27&quot;</span>,<br>    <span class="hljs-string">&quot;result&quot;</span>: [&#123;<br>            <span class="hljs-string">&quot;date&quot;</span>: <span class="hljs-string">&quot;272年02月27日&quot;</span>,<br>            <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;罗马帝国皇帝君士坦丁大帝出生&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;date&quot;</span>: <span class="hljs-string">&quot;684年02月27日&quot;</span>,<br>            <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;唐中宗李显被母亲武则天废为庐陵王，驱离京师&quot;</span><br>        &#125;,<br>    ]<br>&#125;;<br>resultGet[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>] = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;外面的&#x27;</span>, <span class="hljs-variable language_">this</span>);<span class="hljs-comment">//普通函数--指向的是要处理的数据,在这里也就是resultGet</span><br>    <span class="hljs-keyword">return</span> &#123;<br>        <span class="hljs-comment">//这里改为箭头函数,其他的不变</span><br>        <span class="hljs-string">&#x27;next&#x27;</span>: <span class="hljs-function">()=&gt;</span> &#123;<br>            <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">1</span>) &#123;<br>                i++;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;里面的&#x27;</span>, <span class="hljs-variable language_">this</span>);<span class="hljs-comment">//箭头函数--指向的依旧是要处理的数据,在这里也就是resultGet</span><br>                <span class="hljs-keyword">return</span> &#123;<br>                    <span class="hljs-string">&#x27;value&#x27;</span>: <span class="hljs-string">&#x27;测试&#x27;</span>,<br>                    <span class="hljs-string">&#x27;done&#x27;</span>: <span class="hljs-literal">false</span><br>                &#125;;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-keyword">return</span> &#123;<br>                    <span class="hljs-string">&#x27;value&#x27;</span>: <span class="hljs-string">&#x27;测试&#x27;</span>,<br>                    <span class="hljs-string">&#x27;done&#x27;</span>: <span class="hljs-literal">true</span><br>                &#125;;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-comment">//调用迭代器,测试里面的console.log()</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> v <span class="hljs-keyword">of</span> resultGet) &#123;<br><br></code></pre></td></tr></table></figure><h4 id="运行结果-1"><a href="#运行结果-1" class="headerlink" title="运行结果"></a>运行结果</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220228085213.png" alt="next为箭头函数运行结果截图"></p><h2 id="为什么"><a href="#为什么" class="headerlink" title="为什么?"></a>为什么?</h2><p class='note note-warning'>个人理解,可能有误</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220228091737.png"></p><h3 id="证明个人理解"><a href="#证明个人理解" class="headerlink" title="证明个人理解"></a>证明个人理解</h3><h4 id="实例1代码及运行结果"><a href="#实例1代码及运行结果" class="headerlink" title="实例1代码及运行结果"></a>实例1代码及运行结果</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> p = &#123;<br>    <span class="hljs-attr">a</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">var</span> obj = &#123;<br>            <span class="hljs-attr">i</span>: <span class="hljs-number">10</span>,<br>            <span class="hljs-attr">b</span>: <span class="hljs-function">() =&gt;</span> &#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">i</span>, <span class="hljs-variable language_">this</span>);<br>            &#125;,<br>        &#125;<br>        obj.<span class="hljs-title function_">b</span>();<br>    &#125;<br>&#125;<br>p.<span class="hljs-title function_">a</span>(); <span class="hljs-comment">//undefined &#123;a: ƒ&#125;</span><br></code></pre></td></tr></table></figure><h4 id="实例2代码及运行结果"><a href="#实例2代码及运行结果" class="headerlink" title="实例2代码及运行结果"></a>实例2代码及运行结果</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> objSelf = &#123;<br>    <span class="hljs-attr">i</span>: <span class="hljs-number">10</span>,<br><br>    <span class="hljs-attr">b</span>: <span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">i</span>, <span class="hljs-variable language_">this</span>)<br>    &#125;,<br><br>    <span class="hljs-attr">c</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">i</span>, <span class="hljs-variable language_">this</span>)<br>    &#125;<br><br>&#125;<br><br>objSelf.<span class="hljs-title function_">b</span>(); <span class="hljs-comment">// undefined window&#123;...&#125;</span><br><br>objSelf.<span class="hljs-title function_">c</span>(); <span class="hljs-comment">// 10 &#123;i: 10, b: ƒ, c: ƒ&#125;  </span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>HTML</category>
      
      <category>javscript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>迭代器</tag>
      
      <tag>ES5</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>jQuery中API,post上传文件到阿里云OSS记录</title>
    <link href="/2022/02/28/%E5%89%8D%E7%AB%AF/jQuery%E4%B8%ADAPI,post%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91OSS%E8%AE%B0%E5%BD%95/"/>
    <url>/2022/02/28/%E5%89%8D%E7%AB%AF/jQuery%E4%B8%ADAPI,post%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91OSS%E8%AE%B0%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<h2 id="前景提示"><a href="#前景提示" class="headerlink" title="前景提示"></a>前景提示</h2><ol><li>在利用FormData上传文件的时候,新建实例化对象如果有参数,需要的是DOM元素,而不是其他的!</li><li>FormData的实例化对象调用get()方法获取属性的时候,返回值(FormDataEntryValue)包括下面二种<ol><li><h3 id="string数据"><a href="#string数据" class="headerlink" title="string数据"></a>string数据</h3> <img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220225163854.png"></li><li><h3 id="File对象"><a href="#File对象" class="headerlink" title="File对象"></a>File对象</h3><ol><li>File对象当中的属性<ol><li>lastModified:格林威治时间</li><li>lastModifiedDate:可识别时间</li><li>name:文件名</li><li>size :文件大小(字节)</li><li>type:类型</li><li>webkitRelativePath(非标准: 该特性是非标准的，请尽量不要在生产环境中使用它！)<br> <img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220225164419.png"></li></ol></li></ol></li><li><h3 id="FormDataEntryValue数组"><a href="#FormDataEntryValue数组" class="headerlink" title="FormDataEntryValue数组"></a>FormDataEntryValue数组</h3><ol><li>FormData的实例化对象调用getAll(name)方法返回</li></ol></li><li><h3 id="API测试使用的网站"><a href="#API测试使用的网站" class="headerlink" title="API测试使用的网站"></a>API测试使用的网站</h3><ol><li>果创云</li><li>阿里云OSS存储</li></ol></li></ol></li></ol><h2 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h2><p class="note note-info">ajax请求使用jQuery插件</p><h3 id="html代码块"><a href="#html代码块" class="headerlink" title="html代码块"></a>html代码块</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span> <span class="hljs-attr">enctype</span>=<span class="hljs-string">&quot;multipart/form-data&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&#x27;form&#x27;</span>&gt;</span><br>    上传文件:<br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;file&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;提交&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;ss&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="javascript代码块"><a href="#javascript代码块" class="headerlink" title="javascript代码块"></a>javascript代码块</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-keyword">var</span> url =<br>    <span class="hljs-string">&quot;http://hn216.api.yesapi.cn/?s=App.OSS_Aliyun.UploadFile&amp;app_key=填写你自己的&quot;</span>;<br>$(<span class="hljs-string">&quot;#ss&quot;</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) &#123;<br>    <span class="hljs-keyword">var</span> formData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormData</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;form&#x27;</span>));<br>    <span class="hljs-keyword">var</span> nameFile = formData.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;file&#x27;</span>).<span class="hljs-property">name</span>;<br>    <span class="hljs-comment">//含有文件</span><br>    <span class="hljs-keyword">if</span> (nameFile.<span class="hljs-property">length</span> != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-comment">//文件名</span><br>        formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">&#x27;object&#x27;</span>, nameFile);<br>        <span class="hljs-comment">//做base64处理</span><br>        <span class="hljs-keyword">var</span> reader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>();<br>        <span class="hljs-comment">//从formData当中调用get方法,传入字符串(也就是name属性的值),这里用文件框输入用的name属性为file</span><br>        reader.<span class="hljs-title function_">readAsDataURL</span>(formData.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;file&#x27;</span>));<br>        <span class="hljs-comment">//文件加载完成</span><br>        reader.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-comment">//添加文件数据到formData当中</span><br>            formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">&#x27;content&#x27;</span>, reader.<span class="hljs-property">result</span>);<br>            <span class="hljs-comment">//移除多余的,这一步可有可无</span><br>            formData.<span class="hljs-title function_">delete</span>(<span class="hljs-string">&#x27;file&#x27;</span>); <br>            <span class="hljs-comment">//ajax发送数据</span><br>            $.<span class="hljs-title function_">ajax</span>(&#123;<br>                <span class="hljs-string">&#x27;url&#x27;</span>: url,<br>                <span class="hljs-string">&#x27;type&#x27;</span>: <span class="hljs-string">&#x27;post&#x27;</span>,<br>                <span class="hljs-string">&#x27;data&#x27;</span>: formData,<br>                <span class="hljs-string">&#x27;processData&#x27;</span>: <span class="hljs-literal">false</span>,<br>                <span class="hljs-string">&#x27;contentType&#x27;</span>: <span class="hljs-literal">false</span>,<br>                <span class="hljs-string">&#x27;success&#x27;</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) &#123;<br>                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);<br>                &#125;<br>            &#125;);<br><br>        &#125;<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure><h2 id="执行结果"><a href="#执行结果" class="headerlink" title="执行结果"></a>执行结果</h2><p class="note note-info">成功上传</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220226135656.png"></p><h2 id="测试过程中遇到的问题"><a href="#测试过程中遇到的问题" class="headerlink" title="测试过程中遇到的问题"></a>测试过程中遇到的问题</h2><h3 id="总说缺少content参数但data里面有了"><a href="#总说缺少content参数但data里面有了" class="headerlink" title="总说缺少content参数但data里面有了"></a>总说缺少content参数但data里面有了</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220226105015.png"></p><h4 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h4><p>将processData设置为false的时候,表示不将data参数中的数据进行序列化,传输的是blob对象,DOM树,文件等数据的时候就是不需要将传输的数据序列化</p><h4 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h4><p>将processData设置为true即可,即默认情况下会将发送的数据序列化(也就是data当中的数据,以适应默认的内容类型application&#x2F;x-www-form-urlencoded</p><ol><li><h5 id="解决之后传送的数据"><a href="#解决之后传送的数据" class="headerlink" title="解决之后传送的数据"></a>解决之后传送的数据</h5><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220226110026.png"></li><li><h5 id="解决之前传送的数据"><a href="#解决之前传送的数据" class="headerlink" title="解决之前传送的数据"></a>解决之前传送的数据</h5><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220226110157.png"></li></ol><h4 id="区分下"><a href="#区分下" class="headerlink" title="区分下"></a>区分下</h4><h4 id="processData参数在jQuery当中"><a href="#processData参数在jQuery当中" class="headerlink" title="processData参数在jQuery当中"></a>processData参数在jQuery当中</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//测试代码</span><br>$.<span class="hljs-title function_">ajax</span>(&#123;<br>    <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;POST&quot;</span>,<br>    <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;some.php&quot;</span>,<br>    <span class="hljs-attr">data</span>: &#123;<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;John&quot;</span>,<br>        <span class="hljs-attr">location</span>: <span class="hljs-string">&quot;Boston&quot;</span><br>    &#125;,<br>    <span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">msg</span>) &#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;Data Saved: &quot;</span> + msg);<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure><ol><li><p>当processData&#x3D;true;(默认值)</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220331212507.png"></p></li><li><p>当processData&#x3D;false;</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220331212522.png"></p></li></ol><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ol><li><h4 id="processData-本地要怎么样处理当前的数据"><a href="#processData-本地要怎么样处理当前的数据" class="headerlink" title="processData:本地要怎么样处理当前的数据"></a>processData:本地要怎么样处理当前的数据</h4><ol><li>processData:true;<b>默认值将发送的数据序列化以适应默认的内容类型application&#x2F;x-www-form-urlencoded</b></li><li>processData:false;</li></ol></li><li><h4 id="contentType-告诉服务器发送数据的格式"><a href="#contentType-告诉服务器发送数据的格式" class="headerlink" title="contentType:告诉服务器发送数据的格式"></a>contentType:告诉服务器发送数据的格式</h4><ol><li>contentType:true;<b>默认值</b>,值为application&#x2F;x-www-form-urlencoded</li><li>contentType:false;值为multipart&#x2F;form-data</li></ol></li></ol>]]></content>
    
    
    <categories>
      
      <category>javscript</category>
      
      <category>jQuery</category>
      
    </categories>
    
    
    <tags>
      
      <tag>阿里云</tag>
      
      <tag>API</tag>
      
      <tag>OSS存储</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>记一次配置picgo错误的记录和解决办法</title>
    <link href="/2022/02/24/%E5%89%8D%E7%AB%AF/picgo%E9%85%8D%E7%BD%AE%E9%94%99%E8%AF%AF%E7%9A%84%E8%AE%B0%E5%BD%95/"/>
    <url>/2022/02/24/%E5%89%8D%E7%AB%AF/picgo%E9%85%8D%E7%BD%AE%E9%94%99%E8%AF%AF%E7%9A%84%E8%AE%B0%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<h2 id="1-错误提示StatusCodeError-403-lt-xml-version-x3D-xxxxxxxx-gt"><a href="#1-错误提示StatusCodeError-403-lt-xml-version-x3D-xxxxxxxx-gt" class="headerlink" title="1.错误提示StatusCodeError:403 -&lt;?xml version&#x3D;xxxxxxxx&gt;"></a>1.错误提示StatusCodeError:403 -&lt;?xml version&#x3D;xxxxxxxx&gt;</h2><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220224081412.png"></p><h2 id="2-原因"><a href="#2-原因" class="headerlink" title="2.原因"></a>2.原因</h2><p class="note note-warning">没有设置管理对象存储服务器(OSS权限)</p><h2 id="3-解决"><a href="#3-解决" class="headerlink" title="3.解决"></a>3.解决</h2><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220224081744.png"></p><h2 id="4-成功解决再次上传测试可以上传"><a href="#4-成功解决再次上传测试可以上传" class="headerlink" title="4.成功解决再次上传测试可以上传"></a>4.成功解决再次上传测试可以上传</h2><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220224081817.png"></p><h2 id="2-错误提示RequestError-Error-tunneling-socket-could-not-be-established-cause-x3D-getaddrinfo-ENOTFOUND-7890"><a href="#2-错误提示RequestError-Error-tunneling-socket-could-not-be-established-cause-x3D-getaddrinfo-ENOTFOUND-7890" class="headerlink" title="2.错误提示RequestError: Error: tunneling socket could not be established, cause&#x3D;getaddrinfo ENOTFOUND 7890"></a>2.错误提示RequestError: Error: tunneling socket could not be established, cause&#x3D;getaddrinfo ENOTFOUND 7890</h2><h3 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h3><ul><li>可能是安装软件的时候设置了代理,删除电脑的环境变量 <strong>HTTPS_PROXY</strong>之类的<ul><li>在环境变量里面把 <code>http_proxy</code> 和 <code>https_proxy</code> 两项删除即可</li></ul></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220506193920.png"></p>]]></content>
    
    
    <categories>
      
      <category>随记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>OSS存储</tag>
      
      <tag>picgo</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
